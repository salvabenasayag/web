import{a as Gc,c as Wc,g as Xg}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-ROMJVQG3.js";import{a as Bc,b as Yg}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-ZJC5GDGC.js";import{b as jc,f as Vc,g as $g}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-UN3QA576.js";import{a as Kg}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-QDYTPFQ4.js";import{C as Hg,r as Nc}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-UHM3TZXV.js";import{b as De,c as Fc}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-5MV3K6RQ.js";import{c as Uc,e as zg}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-QMAGPDJU.js";import{a as Dc}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-ZFCUQYEE.js";import{c as kc}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-S7MQREXB.js";import{a as v,b as Lc,c as qg,d as Rr}from"https://st-p.rmcdn1.net/bb5ea210/dist/c/c-MXCJJCFW.js";var zc=Lc((qc,Hc)=>{"use strict";(function(e){var t;if(typeof define=="function"&&define.amd&&(define(e),t=!0),typeof qc=="object"&&(Hc.exports=e(),t=!0),!t){var r=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=r,n}}})(function(){function e(){for(var n=0,o={};n<arguments.length;n++){var i=arguments[n];for(var a in i)o[a]=i[a]}return o}function t(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(n){function o(){}function i(c,u,s){if(!(typeof document>"u")){s=e({path:"/"},o.defaults,s),typeof s.expires=="number"&&(s.expires=new Date(new Date*1+s.expires*864e5)),s.expires=s.expires?s.expires.toUTCString():"";try{var l=JSON.stringify(u);/^[\{\[]/.test(l)&&(u=l)}catch{}u=n.write?n.write(u,c):encodeURIComponent(String(u)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var d in s)s[d]&&(f+="; "+d,s[d]!==!0&&(f+="="+s[d].split(";")[0]));return document.cookie=c+"="+u+f}}function a(c,u){if(!(typeof document>"u")){for(var s={},l=document.cookie?document.cookie.split("; "):[],f=0;f<l.length;f++){var d=l[f].split("="),p=d.slice(1).join("=");!u&&p.charAt(0)==='"'&&(p=p.slice(1,-1));try{var h=t(d[0]);if(p=(n.read||n)(p,h)||t(p),u)try{p=JSON.parse(p)}catch{}if(s[h]=p,c===h)break}catch{}}return c?s[c]:s}}return o.set=i,o.get=function(c){return a(c,!1)},o.getJSON=function(c){return a(c,!0)},o.remove=function(c,u){i(c,"",e(u,{expires:-1}))},o.defaults={},o.withConverter=r,o}return r(function(){})})});var Se,Jr=v(()=>{"use strict";Se=()=>typeof window<"u"});var ct,aa=v(()=>{"use strict";(function(e){e[e.Registration=11192105]="Registration",e[e.FirstPurchase=11192113]="FirstPurchase",e[e.BookDemo=11192121]="BookDemo",e[e.PersonalMonthlyFirstPurchase=19651553]="PersonalMonthlyFirstPurchase",e[e.PersonalYearlyFirstPurchase=19651561]="PersonalYearlyFirstPurchase",e[e.FreelancerMonthlyFirstPurchase=19651569]="FreelancerMonthlyFirstPurchase",e[e.FreelancerYearlyFirstPurchase=19651577]="FreelancerYearlyFirstPurchase",e[e.StudioMonthlyFirstPurchase=19651585]="StudioMonthlyFirstPurchase",e[e.StudioYearlyFirstPurchase=19651593]="StudioYearlyFirstPurchase",e[e.BusinessMonthlyFirstPurchase=19651601]="BusinessMonthlyFirstPurchase",e[e.BusinessYearlyFirstPurchase=19651617]="BusinessYearlyFirstPurchase"})(ct||(ct={}))});async function sa({partnerId:e}){if(!(!Se()||Kc()||!e))return new Promise((t,r)=>{window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(e);let n=document.getElementsByTagName("script")[0],o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",o.onload=()=>t(),o.onerror=()=>r(),n?.parentNode?.insertBefore(o,n);let i=document.createElement("img");i.alt="",i.height=1,i.width=1,i.src=`https://px.ads.linkedin.com/collect/?pid=${e}&fmt=gif`})}async function ua({partnerId:e,eventId:t}){!Se()||!t||(!Kc()&&e&&await sa({partnerId:e}),window?.lintrk?.("track",{conversion_id:t}))}function Qg({level:e,interval:t}){return{personal:{month:ct.PersonalMonthlyFirstPurchase,year:ct.PersonalYearlyFirstPurchase},freelancer:{month:ct.FreelancerMonthlyFirstPurchase,year:ct.FreelancerYearlyFirstPurchase},studio:{month:ct.StudioMonthlyFirstPurchase,year:ct.StudioYearlyFirstPurchase},business:{month:ct.BusinessMonthlyFirstPurchase,year:ct.BusinessYearlyFirstPurchase}}[e]?.[t]}async function $c({level:e,interval:t,partnerId:r}){if(!Se()||!e||!t||!r)return;let n=Qg({level:e,interval:t});n&&await ua({partnerId:r,eventId:n})}var Kc,Yc=v(()=>{"use strict";Jr();aa();Kc=()=>!!window?.lintrk});var Xc,Qc=v(()=>{"use strict";(function(e){e.Registration="iGBtCP76u9QDEIu60MsD",e.FirstPurchase="IAUrCIivjtYDEIu60MsD",e.FirstPurchasePersonal="7fmQCNLswYAYEIu60MsD",e.FirstPurchaseFreelancer="REXDCIHywYAYEIu60MsD",e.FirstPurchaseStudio="86PxCICIw4AYEIu60MsD",e.FirstPurchaseBusiness="o7gMCOKNw4AYEIu60MsD"})(Xc||(Xc={}))});var ca,tn,en,rr,Zg,Jg,ey,ty,ry,ny,oy,iy,la,fa=v(()=>{"use strict";ca=Rr(zc());Yc();Jr();Qc();aa();tn=()=>{if(Se())return!!window.gtag},en="",rr="",Zg=({GA_ID:e,GA4_ID:t,GOOGLE_ADS_ID:r,userId:n,userEmail:o})=>{let i=document.createElement("script");i.async=!0,i.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(i);let a=document.createElement("script");a.text=`
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    ${t?`gtag('config', '${t}', { send_page_view: false, user_id: '${n||""}' });`:""}
    gtag('js', new Date());
    gtag('set', {
      'send_page_view': false,
      'custom_map': {
        'dimension2': 'userId',
        'dimension9': 'userId',
        'dimension13': 'clientId'
      }
    })
    ${n?`gtag('config', '${e}', { 'userId': '${n}'});`:`gtag('config', '${e}');`}
    ${r?`gtag('config', '${r}', { "allow_enhanced_conversions": true });`:""}
    ${r&&o?`gtag('set', 'user_data', { "email": "${o}" });`:""}
  `,document.head.appendChild(a)},Jg=({userId:e,ignoreIsGAInitialized:t=!1,GA_ID:r,GA4_ID:n,GOOGLE_ADS_ID:o,userEmail:i})=>{if(!(!Se()||tn()&&!t))return en=n||"",Zg({GA_ID:r,GA4_ID:n,GOOGLE_ADS_ID:o,userId:e,userEmail:i}),{GA_ID:r,GA4_ID:n,GOOGLE_ADS_ID:o,userId:e}},ey=()=>{let e=ca.default.get("shortlink_redirect");if(!e)return{};let t=JSON.parse(atob(e));return ca.default.remove("shortlink_redirect"),{campaignName:t.utm_campaign,campaignSource:t.utm_source,campaignMedium:t.utm_medium}},ty=({campaignName:e,campaignSource:t,campaignMedium:r}={})=>{if(!Se()||!tn())return null;let n={...ey(),campaignName:e,campaignSource:t,campaignMedium:r},o=(i,a)=>{let c={campaign:{name:i.campaignName,source:i.campaignSource,medium:i.campaignMedium},c_id:a||""};window.gtag("event","page_view",c)};return en?rr?o(n,rr):window.gtag("get",en,"client_id",i=>{rr=i,o(n,i)}):o(n),n},ry=(e,t={})=>{if(!Se()||!tn())return null;let r=n=>{let o={c_id:n||"",event_label:t.eventLabel,value:t.eventValue};for(let i in t)["eventLabel","eventValue"].includes(i)||(o[i]=t[i]);window.gtag("event",e,o)};return en?rr?r(rr):window.gtag("get",en,"client_id",n=>{typeof n=="string"&&(rr=n,r(rr))}):r(""),{action:e,...t}},ny=({actionName:e,eventLabel:t,eventCategory:r})=>!Se()||!tn()?null:(window.gtag("event",e,{event_category:r,event_label:t}),{actionName:e,eventCategory:r,eventLabel:t}),oy=({CONVERSION_ID:e,CONVERSION_LABEL:t,value:r,transaction_id:n="",...o})=>{if(!Se()||!tn())return null;let i={};return r&&(i={value:r,transaction_id:n,currency:"USD"}),i={send_to:`${e}/${t}`,...i,...o},window.gtag("event","conversion",i),{...o,CONVERSION_ID:e,CONVERSION_LABEL:t}},iy=({location:e,role:t,withAnalytics:r=!0})=>!e||!Se()?Promise.resolve():fetch(`/api/me/visit/${e}/${t||""}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({withAnalytics:r})}),la={init:Jg,sendEvent:ry,sendConversionEvent:oy,sendPromoActionEvent:ny,trackPage:ty,trackDailyVisit:iy,initLinkedInInsights:sa,sendEventToLinkedInInsights:ua,sendPlanFirstPurchaseEventToLinkedInInsights:$c}});var Zc,Jc,el,tl=v(()=>{"use strict";(function(e){e.Create="create",e.PageView="pageview",e.ProfileSettings="profileSettings",e.ProfileClick="profileClick",e.ProfileSettingsUsage="profileSettingsUsage",e.ProfileBanner="profileBanner"})(Zc||(Zc={}));(function(e){e.Publish="publish",e.Preview="preview",e.WidgetAdd="widgetAdd",e.WidgetTotal="widgetTotal",e.WidgetFeature="widgetFeature",e.WidgetMisc="widgetMisc",e.OpenProject="openProject",e.ViewportFeature="viewportFeature",e.SettingsProject="settingsProject",e.SettingsViewer="settingsViewer",e.SettingsGeneral="settingsGeneral",e.Template="template",e.MyTemplates="myTemplates",e.HelpTour="helpTour",e.HelpTourProgress="helpTourProgress",e.HelpTourLeave="helpTourLeave",e.EditorTips="editorTips",e.EditorTips2="editorTips2",e.EditorHelp="editorHelp",e.EditorActions="editorActions",e.ContentEditMode="contentEditMode",e.Zendesk="zendesk",e.BlocksMode="blocksMode",e.CommentsMode="commentsMode",e.CommentAdd="commentAdd",e.Popup="popup",e.SettingsLayers="settingsLayers",e.ActionsMade="actionsMade",e.AnimationAddStep="animationAddStep",e.AnimationAddTrigger="animationAddTrigger",e.AnimationLoad="animationLoad",e.AnimationSettings="animationSettings",e.AnimationPresetSelected="animationPresetSelected",e.SettingsPreviewViewer="settingsPreviewViewer",e.PresetAdd="presetAdd",e.PresetClick="presetClick",e.PresetMisc="presetMisc",e.PresetSave="presetSave",e.WidgetArrange="widgetArrange",e.WhatsNewPopup="whatsNewPopup",e.GroupEdit="groupEdit",e.ExamplesSubmit="examplesSubmit",e.WidgetLottie="widgetLottie",e.WidgetVideoUpload="widgetVideoUpload",e.WidgetVideoState="widgetVideoState"})(Jc||(Jc={}));(function(e){e.UpgradeBanner="upgradeBanner"})(el||(el={}))});var rl,nl=v(()=>{"use strict";(function(e){e.TemplatePreview="template preview",e.TemplatesPage="templates page",e.Profile="profile",e.Help="help",e.Editor="editor",e.EditorHelp="editor help",e.EditorPages="editor pages"})(rl||(rl={}))});function Be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");da(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function rn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function R(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function M(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function wt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function nn(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var da,U,Q=v(()=>{"use strict";da=function(e,t){return da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},da(e,t)};U=function(){return U=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},U.apply(this,arguments)}});var ol,il,al,sl,ul,cl,ll,pa=v(()=>{"use strict";ol="Event tracked successfully",il="Unexpected error occurred",al="Event rejected due to exceeded retry count",sl="Event skipped due to optOut config",ul="Event rejected due to missing API key",cl="Invalid API key",ll="Client not initialized"});var Te,Pt,jt,fl=v(()=>{"use strict";(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(Te||(Te={}));(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(Pt||(Pt={}));(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(jt||(jt={}))});var Ie,dl=v(()=>{"use strict";(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(Ie||(Ie={}))});var ie,pl=v(()=>{"use strict";(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(ie||(ie={}))});var ha,hl=v(()=>{"use strict";ha=null});var Je=v(()=>{"use strict";fl();dl();pl();hl()});var Rt,no=v(()=>{"use strict";Je();Rt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=ie.Unknown),{event:e,code:t,message:r}}});var et,oo=v(()=>{"use strict";et=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,et)}});var ml,vl=v(()=>{"use strict";Q();no();oo();ml=function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,r){var n,o;return R(this,void 0,void 0,function(){return M(this,function(i){switch(i.label){case 0:return this.plugins.some(function(a){return a.name===t.name})?(r.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=et(),r.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(n=t.type)!==null&&n!==void 0?n:"enrichment",[4,(o=t.setup)===null||o===void 0?void 0:o.call(t,r,this.client)]);case 1:return i.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,r){var n;return R(this,void 0,void 0,function(){var o,i;return M(this,function(a){switch(a.label){case 0:return o=this.plugins.findIndex(function(c){return c.name===t}),o===-1?(r.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(i=this.plugins[o],this.plugins.splice(o,1),[4,(n=i.teardown)===null||n===void 0?void 0:n.call(i)]);case 1:return a.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var r=this.plugins;r.map(function(n){var o;return(o=n.teardown)===null||o===void 0?void 0:o.call(n)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var r=this;return new Promise(function(n){r.queue.push([t,n]),r.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},t))},e.prototype.apply=function(t){return R(this,void 0,void 0,function(){var r,n,o,i,a,c,u,p,h,s,l,f,d,p,h,m,y,_,g,b,w,T;return M(this,function(C){switch(C.label){case 0:if(!t)return[2];r=Ne(t,1),n=r[0],o=Ne(t,2),i=o[1],a=this.plugins.filter(function(O){return O.type==="before"}),C.label=1;case 1:C.trys.push([1,6,7,8]),c=wt(a),u=c.next(),C.label=2;case 2:return u.done?[3,5]:(p=u.value,p.execute?[4,p.execute(U({},n))]:[3,4]);case 3:if(h=C.sent(),h===null)return i({event:n,code:0,message:""}),[2];n=h,C.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return s=C.sent(),g={error:s},[3,8];case 7:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error}return[7];case 8:l=this.plugins.filter(function(O){return O.type==="enrichment"||O.type===void 0}),C.label=9;case 9:C.trys.push([9,14,15,16]),f=wt(l),d=f.next(),C.label=10;case 10:return d.done?[3,13]:(p=d.value,p.execute?[4,p.execute(U({},n))]:[3,12]);case 11:if(h=C.sent(),h===null)return i({event:n,code:0,message:""}),[2];n=h,C.label=12;case 12:return d=f.next(),[3,10];case 13:return[3,16];case 14:return m=C.sent(),w={error:m},[3,16];case 15:try{d&&!d.done&&(T=f.return)&&T.call(f)}finally{if(w)throw w.error}return[7];case 16:return y=this.plugins.filter(function(O){return O.type==="destination"}),_=y.map(function(O){var x=U({},n);return O.execute(x).catch(function(A){return Rt(x,0,String(A))})}),Promise.all(_).then(function(O){var x=Ne(O,1),A=x[0],D=A||Rt(n,100,"Event not tracked, no destination plugins on the instance");i(D)}),[2]}})})},e.prototype.flush=function(){return R(this,void 0,void 0,function(){var t,r,n,o=this;return M(this,function(i){switch(i.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(a){return o.apply(a)}))];case 1:return i.sent(),r=this.plugins.filter(function(a){return a.type==="destination"}),n=r.map(function(a){return a.flush&&a.flush()}),[4,Promise.all(n)];case 2:return i.sent(),[2]}})})},e}()});var ma,nr,va,ga,gl,yl,bl,on=v(()=>{"use strict";ma="-",nr="AMP",va="".concat(nr,"_unsent"),ga="https://api2.amplitude.com/2/httpapi",gl="https://api.eu.amplitude.com/2/httpapi",yl="https://api2.amplitude.com/batch",bl="https://api.eu.amplitude.com/batch"});var ay,io,ya,ba=v(()=>{"use strict";Q();ay=1e3,io=function(e){if(Object.keys(e).length>ay)return!1;for(var t in e){var r=e[t];if(!ya(t,r))return!1}return!0},ya=function(e,t){var r,n;if(typeof e!="string")return!1;if(Array.isArray(t)){var o=!0;try{for(var i=wt(t),a=i.next();!a.done;a=i.next()){var c=a.value;if(Array.isArray(c))return!1;if(typeof c=="object")o=o&&io(c);else if(!["number","string"].includes(typeof c))return!1;if(!o)return!1}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}else{if(t==null)return!1;if(typeof t=="object")return io(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0}});var lt,_a=v(()=>{"use strict";Q();Je();on();ba();lt=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return U({},this._properties)},e.prototype.set=function(t,r){return this._safeSet(Te.SET,t,r),this},e.prototype.setOnce=function(t,r){return this._safeSet(Te.SET_ONCE,t,r),this},e.prototype.append=function(t,r){return this._safeSet(Te.APPEND,t,r),this},e.prototype.prepend=function(t,r){return this._safeSet(Te.PREPEND,t,r),this},e.prototype.postInsert=function(t,r){return this._safeSet(Te.POSTINSERT,t,r),this},e.prototype.preInsert=function(t,r){return this._safeSet(Te.PREINSERT,t,r),this},e.prototype.remove=function(t,r){return this._safeSet(Te.REMOVE,t,r),this},e.prototype.add=function(t,r){return this._safeSet(Te.ADD,t,r),this},e.prototype.unset=function(t){return this._safeSet(Te.UNSET,t,ma),this},e.prototype.clearAll=function(){return this._properties={},this._properties[Te.CLEAR_ALL]=ma,this},e.prototype._safeSet=function(t,r,n){if(this._validate(t,r,n)){var o=this._properties[t];return o===void 0&&(o={},this._properties[t]=o),o[r]=n,this._propertySet.add(r),!0}return!1},e.prototype._validate=function(t,r,n){return this._properties[Te.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:t===Te.ADD?typeof n=="number":t!==Te.UNSET&&t!==Te.REMOVE?ya(r,n):!0},e}()});var _l,an,wl,Sl,El,wa=v(()=>{"use strict";Q();Je();_a();_l=function(e,t,r){var n=typeof e=="string"?{event_type:e}:e;return U(U(U({},n),r),t&&{event_properties:t})},an=function(e,t){var r=U(U({},t),{event_type:jt.IDENTIFY,user_properties:e.getUserProperties()});return r},wl=function(e,t,r,n){var o,i=U(U({},n),{event_type:jt.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(o={},o[e]=t,o)});return i},Sl=function(e,t,r){var n,o=new lt;o.set(e,t);var i=U(U({},r),{event_type:jt.IDENTIFY,user_properties:o.getUserProperties(),groups:(n={},n[e]=t,n)});return i},El=function(e,t){return U(U({},t),{event_type:jt.REVENUE,event_properties:e.getEventProperties()})}});var Oe,Sa=v(()=>{"use strict";Oe=function(e){return{promise:e||Promise.resolve()}}});var Ea,xl=v(()=>{"use strict";Q();pa();vl();wa();no();Sa();Ea=function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new ml(this),this.name=t}return e.prototype._init=function(t){return R(this,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return R(this,void 0,void 0,function(){var r,n,o,i,a,c,u,s;return M(this,function(l){switch(l.label){case 0:r=this[t],this[t]=[],l.label=1;case 1:l.trys.push([1,8,9,10]),n=wt(r),o=n.next(),l.label=2;case 2:return o.done?[3,7]:(i=o.value,a=i(),a&&"promise"in a?[4,a.promise]:[3,4]);case 3:return l.sent(),[3,6];case 4:return[4,a];case 5:l.sent(),l.label=6;case 6:return o=n.next(),[3,2];case 7:return[3,10];case 8:return c=l.sent(),u={error:c},[3,10];case 9:try{o&&!o.done&&(s=n.return)&&s.call(n)}finally{if(u)throw u.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:l.sent(),l.label=12;case 12:return[2]}})})},e.prototype.track=function(t,r,n){var o=_l(t,r,n);return Oe(this.dispatch(o))},e.prototype.identify=function(t,r){var n=an(t,r);return Oe(this.dispatch(n))},e.prototype.groupIdentify=function(t,r,n,o){var i=wl(t,r,n,o);return Oe(this.dispatch(i))},e.prototype.setGroup=function(t,r,n){var o=Sl(t,r,n);return Oe(this.dispatch(o))},e.prototype.revenue=function(t,r){var n=El(t,r);return Oe(this.dispatch(n))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),Oe())},e.prototype._addPlugin=function(t){return Oe(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),Oe())},e.prototype._removePlugin=function(t){return Oe(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,r){if(!this.isReady)return r(Rt(t,0,ll));this.process(t).then(r)},e.prototype.dispatch=function(t){return R(this,void 0,void 0,function(){var r=this;return M(this,function(n){return this.isReady?[2,this.process(t)]:[2,new Promise(function(o){r.dispatchQ.push(r.dispatchWithCallback.bind(r,t,o))})]})})},e.prototype.process=function(t){return R(this,void 0,void 0,function(){var o,r,n,o;return M(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.config.optOut?[2,Rt(t,0,sl)]:[4,this.timeline.push(t)];case 1:return o=i.sent(),o.code===200?this.config.loggerProvider.log(o.message):o.code===100?this.config.loggerProvider.warn(o.message):this.config.loggerProvider.error(o.message),[2,o];case 2:return r=i.sent(),n=String(r),this.config.loggerProvider.error(n),o=Rt(t,0,n),[2,o];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut=!!t},e.prototype.flush=function(){return Oe(this.timeline.flush())},e}()});var ao,Tl=v(()=>{"use strict";Q();Je();ba();ao=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setEventProperties=function(t){return io(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?U({},this.properties):{};return t[Pt.REVENUE_PRODUCT_ID]=this.productId,t[Pt.REVENUE_QUANTITY]=this.quantity,t[Pt.REVENUE_PRICE]=this.price,t[Pt.REVENUE_TYPE]=this.revenueType,t[Pt.REVENUE]=this.revenue,t},e}()});var Il,Cl=v(()=>{"use strict";Il=function(e,t){var r=Math.max(t,1);return e.reduce(function(n,o,i){var a=Math.floor(i/r);return n[a]||(n[a]=[]),n[a].push(o),n},[])}});var so,sn,xa=v(()=>{"use strict";Je();so="Amplitude Logger ",sn=function(){function e(){this.logLevel=Ie.None}return e.prototype.disable=function(){this.logLevel=Ie.None},e.prototype.enable=function(t){t===void 0&&(t=Ie.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Ie.Verbose||console.log("".concat(so,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Ie.Warn||console.warn("".concat(so,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Ie.Error||console.error("".concat(so,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Ie.Debug||console.log("".concat(so,"[Debug]: ").concat(t.join(" ")))},e}()});var uo,Ta,sy,Ia,un,Ca=v(()=>{"use strict";Je();on();xa();uo=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Ie.Warn,loggerProvider:new sn,offline:!1,optOut:!1,serverUrl:ga,serverZone:"US",useBatch:!1}},Ta=function(){function e(t){var r,n,o,i;this._optOut=!1;var a=uo();this.apiKey=t.apiKey,this.flushIntervalMillis=(r=t.flushIntervalMillis)!==null&&r!==void 0?r:a.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||a.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||a.flushQueueSize,this.instanceName=t.instanceName||a.instanceName,this.loggerProvider=t.loggerProvider||a.loggerProvider,this.logLevel=(n=t.logLevel)!==null&&n!==void 0?n:a.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:a.offline,this.optOut=(o=t.optOut)!==null&&o!==void 0?o:a.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||a.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(i=t.useBatch)!==null&&i!==void 0?i:a.useBatch,this.loggerProvider.enable(this.logLevel);var c=Ia(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=c.serverZone,this.serverUrl=c.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),sy=function(e,t){return e==="EU"?t?bl:gl:t?yl:ga},Ia=function(e,t,r){if(e===void 0&&(e=""),t===void 0&&(t=uo().serverZone),r===void 0&&(r=uo().useBatch),e)return{serverUrl:e,serverZone:void 0};var n=["US","EU"].includes(t)?t:uo().serverZone;return{serverZone:n,serverUrl:sy(n,r)}},un=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,r){this.sdk.metrics.histogram[t]=r},e}()});function uy(e){return e instanceof Error?e.message:String(e)}function co(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var Oa,Ol=v(()=>{"use strict";Q();Je();pa();on();Cl();no();Ca();oo();Oa=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(t){var r;return R(this,void 0,void 0,function(){var n,o=this;return M(this,function(i){switch(i.label){case 0:return this.config=t,this.storageKey="".concat(va,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=i.sent(),n&&n.length>0&&Promise.all(n.map(function(a){return o.execute(a)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var r=this;return t.insert_id||(t.insert_id=et()),new Promise(function(n){var o={event:t,attempts:0,callback:function(i){return n(i)},timeout:0};r.addToQueue(o)})},e.prototype.getTryableList=function(t){var r=this;return t.filter(function(n){return n.attempts<r.config.flushMaxRetries?(n.attempts+=1,!0):(r.fulfillRequest([n],500,al),!1)})},e.prototype.scheduleTryable=function(t,r){var n=this;r===void 0&&(r=!1),t.forEach(function(o){if(r&&(n.queue=n.queue.concat(o)),o.timeout===0){n.schedule(n.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0,n.schedule(0)},o.timeout)})},e.prototype.addToQueue=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.getTryableList(t);this.scheduleTryable(n,!0),this.saveEvents()},e.prototype.schedule=function(t){var r=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(t)})},t))},e.prototype.flush=function(t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var r,n,o,i=this;return M(this,function(a){switch(a.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(r=[],n=[],this.queue.forEach(function(c){return c.timeout===0?r.push(c):n.push(c)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),o=Il(r,this.config.flushQueueSize),[4,o.reduce(function(c,u){return R(i,void 0,void 0,function(){return M(this,function(s){switch(s.label){case 0:return[4,c];case 1:return s.sent(),[4,this.send(u,t)];case 2:return[2,s.sent()]}})})},Promise.resolve())]);case 1:return a.sent(),this.scheduleTryable(n),[2]}})})},e.prototype.send=function(t,r){return r===void 0&&(r=!0),R(this,void 0,void 0,function(){var n,o,i,a,c;return M(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,ul)];n={api_key:this.config.apiKey,events:t.map(function(s){var l=s.event,f=l.extra,d=rn(l,["extra"]);return d}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new un,u.label=1;case 1:return u.trys.push([1,3,,4]),o=Ia(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(o,n)];case 2:return i=u.sent(),i===null?(this.fulfillRequest(t,0,il),[2]):r?(this.handleResponse(i,t),[3,4]):("body"in i?this.fulfillRequest(t,i.statusCode,"".concat(i.status,": ").concat(co(i))):this.fulfillRequest(t,i.statusCode,i.status),[2]);case 3:return a=u.sent(),c=uy(a),this.config.loggerProvider.error(c),this.handleResponse({status:ie.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,r){var n=t.status;switch(n){case ie.Success:{this.handleSuccessResponse(t,r);break}case ie.Invalid:{this.handleInvalidResponse(t,r);break}case ie.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,r);break}case ie.RateLimit:{this.handleRateLimitResponse(t,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},e.prototype.handleSuccessResponse=function(t,r){this.fulfillRequest(r,t.statusCode,ol)},e.prototype.handleInvalidResponse=function(t,r){var n=this;if(t.body.missingField||t.body.error.startsWith(cl)){this.fulfillRequest(r,t.statusCode,t.body.error);return}var o=nn(nn(nn(nn([],Ne(Object.values(t.body.eventsWithInvalidFields)),!1),Ne(Object.values(t.body.eventsWithMissingFields)),!1),Ne(Object.values(t.body.eventsWithInvalidIdLengths)),!1),Ne(t.body.silencedEvents),!1).flat(),i=new Set(o),a=r.filter(function(u,s){if(i.has(s)){n.fulfillRequest([u],t.statusCode,t.body.error);return}return!0});a.length>0&&this.config.loggerProvider.warn(co(t));var c=this.getTryableList(a);this.scheduleTryable(c)},e.prototype.handlePayloadTooLargeResponse=function(t,r){if(r.length===1){this.fulfillRequest(r,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(co(t)),this.config.flushQueueSize/=2;var n=this.getTryableList(r);this.scheduleTryable(n)},e.prototype.handleRateLimitResponse=function(t,r){var n=this,o=Object.keys(t.body.exceededDailyQuotaUsers),i=Object.keys(t.body.exceededDailyQuotaDevices),a=t.body.throttledEvents,c=new Set(o),u=new Set(i),s=new Set(a),l=r.filter(function(d,p){if(d.event.user_id&&c.has(d.event.user_id)||d.event.device_id&&u.has(d.event.device_id)){n.fulfillRequest([d],t.statusCode,t.body.error);return}return s.has(p)&&(d.timeout=n.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(co(t));var f=this.getTryableList(l);this.scheduleTryable(f)},e.prototype.handleOtherResponse=function(t){var r=this,n=t.map(function(i){return i.timeout=i.attempts*r.retryTimeout,i}),o=this.getTryableList(n);this.scheduleTryable(o)},e.prototype.fulfillRequest=function(t,r,n){this.removeEvents(t),t.forEach(function(o){return o.callback(Rt(o.event,r,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(r){return r.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(r){return!t.some(function(n){return n.event.insert_id===r.event.insert_id})}),this.saveEvents()},e}()});var cy,le,ly,fe,de,Pl=v(()=>{"use strict";Q();Je();cy=function(e){e===void 0&&(e=0);var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(r){return r.trim()})},le=function(e){return function(){var t=U({},e.config),r=t.loggerProvider,n=t.logLevel;return{logger:r,logLevel:n}}},ly=function(e,t){var r,n;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var o=wt(t.split(".")),i=o.next();!i.done;i=o.next()){var a=i.value;if(a in e)e=e[a];else return}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return e},fe=function(e,t){return function(){var r,n,o={};try{for(var i=wt(t),a=i.next();!a.done;a=i.next()){var c=a.value;o[c]=ly(e,c)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}},de=function(e,t,r,n,o){return o===void 0&&(o=null),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=r(),u=c.logger,s=c.logLevel;if(s&&s<Ie.Debug||!s||!u)return e.apply(o,i);var l={type:"invoke public method",name:t,args:i,stacktrace:cy(1),time:{start:new Date().toISOString()},states:{}};n&&l.states&&(l.states.before=n());var f=e.apply(o,i);return f&&f.promise?f.promise.then(function(){n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))}):(n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))),f}}});var cn,Rl=v(()=>{"use strict";Q();cn=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return R(this,void 0,void 0,function(){return M(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return R(this,void 0,void 0,function(){return M(this,function(r){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return R(this,void 0,void 0,function(){var r;return M(this,function(n){switch(n.label){case 0:return[4,this.get(t)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},e.prototype.set=function(t,r){return R(this,void 0,void 0,function(){return M(this,function(n){return this.memoryStorage.set(t,r),[2]})})},e.prototype.remove=function(t){return R(this,void 0,void 0,function(){return M(this,function(r){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return R(this,void 0,void 0,function(){return M(this,function(t){return this.memoryStorage.clear(),[2]})})},e}()});var or,Ml=v(()=>{"use strict";Je();or=function(){function e(){}return e.prototype.send=function(t,r){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var r,n,o,i,a,c,u,s,l,f,d,p,h,m,y,_,g,b,w,T,C,O;if(typeof t!="object")return null;var x=t.code||0,A=this.buildStatus(x);switch(A){case ie.Success:return{status:A,statusCode:x,body:{eventsIngested:(r=t.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=t.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(o=t.server_upload_time)!==null&&o!==void 0?o:0}};case ie.Invalid:return{status:A,statusCode:x,body:{error:(i=t.error)!==null&&i!==void 0?i:"",missingField:(a=t.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(c=t.events_with_invalid_fields)!==null&&c!==void 0?c:{},eventsWithMissingFields:(u=t.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(s=t.events_with_invalid_id_lengths)!==null&&s!==void 0?s:{},epsThreshold:(l=t.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(f=t.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(d=t.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(p=t.silenced_events)!==null&&p!==void 0?p:[],throttledDevices:(h=t.throttled_devices)!==null&&h!==void 0?h:{},throttledEvents:(m=t.throttled_events)!==null&&m!==void 0?m:[]}};case ie.PayloadTooLarge:return{status:A,statusCode:x,body:{error:(y=t.error)!==null&&y!==void 0?y:""}};case ie.RateLimit:return{status:A,statusCode:x,body:{error:(_=t.error)!==null&&_!==void 0?_:"",epsThreshold:(g=t.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=t.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(w=t.throttled_users)!==null&&w!==void 0?w:{},exceededDailyQuotaDevices:(T=t.exceeded_daily_quota_devices)!==null&&T!==void 0?T:{},exceededDailyQuotaUsers:(C=t.exceeded_daily_quota_users)!==null&&C!==void 0?C:{},throttledEvents:(O=t.throttled_events)!==null&&O!==void 0?O:[]}};case ie.Timeout:default:return{status:A,statusCode:x}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?ie.Success:t===429?ie.RateLimit:t===413?ie.PayloadTooLarge:t===408?ie.Timeout:t>=400&&t<500?ie.Invalid:t>=500?ie.Failed:ie.Unknown},e}()});var ze=v(()=>{"use strict";xl();_a();Tl();Ol();Ca();xa();on();Sa();Pl();oo();Rl();Ml();wa()});var Ee,lo=v(()=>{"use strict";Ee=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof window<"u")return window}});var Vt,Al,Pa=v(()=>{"use strict";lo();Vt=function(){var e,t=Ee();if(!(!((e=t?.location)===null||e===void 0)&&e.search))return{};var r=t.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(o,i){var a=i.split("=",2),c=Al(a[0]),u=Al(a[1]);return u&&(o[c]=u),o},{});return n},Al=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}}});var Ll,kl,Dl,Nl,Ul,Fl,Ra,Ma,Aa,La,ka,Da,Na,Ua,Fa,ja,Va,Mr,fo=v(()=>{"use strict";Ll="utm_campaign",kl="utm_content",Dl="utm_id",Nl="utm_medium",Ul="utm_source",Fl="utm_term",Ra="dclid",Ma="fbclid",Aa="gbraid",La="gclid",ka="ko_click_id",Da="li_fat_id",Na="msclkid",Ua="rtd_cid",Fa="ttclid",ja="twclid",Va="wbraid",Mr={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0}});var jl,Vl=v(()=>{"use strict";Q();Pa();fo();jl=function(){function e(){}return e.prototype.parse=function(){return R(this,void 0,void 0,function(){return M(this,function(t){return[2,U(U(U(U({},Mr),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=Vt(),r=t[Ll],n=t[kl],o=t[Dl],i=t[Nl],a=t[Ul],c=t[Fl];return{utm_campaign:r,utm_content:n,utm_id:o,utm_medium:i,utm_source:a,utm_term:c}},e.prototype.getReferrer=function(){var t,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(t=n.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},e.prototype.getClickIds=function(){var t,r=Vt();return t={},t[Ra]=r[Ra],t[Ma]=r[Ma],t[Aa]=r[Aa],t[La]=r[La],t[ka]=r[ka],t[Da]=r[Da],t[Na]=r[Na],t[Ua]=r[Ua],t[Fa]=r[Fa],t[ja]=r[ja],t[Va]=r[Va],t},e}()});var po,Ba,Bl=v(()=>{"use strict";ze();po=function(e,t,r){return t===void 0&&(t=""),r===void 0&&(r=10),[nr,t,e.substring(0,r)].filter(Boolean).join("_")},Ba=function(e){return"".concat(nr.toLowerCase(),"_").concat(e.substring(0,6))}});var Gl,fy,Wl,dy,ql,Hl,zl=v(()=>{"use strict";Q();ze();fo();Gl=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},fy=function(e){return Object.values(e).every(function(t){return!t})},Wl=function(e,t,r,n){n===void 0&&(n=!0);var o=e.referrer,i=e.referring_domain,a=rn(e,["referrer","referring_domain"]),c=t||{},u=c.referrer,s=c.referring_domain,l=rn(c,["referrer","referring_domain"]);if(dy(r.excludeReferrers,e.referring_domain)||!n&&fy(e)&&t)return!1;var f=JSON.stringify(a)!==JSON.stringify(l),d=Gl(i||"")!==Gl(s||"");return!t||f||d},dy=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(r){return r instanceof RegExp?r.test(t):r===t})},ql=function(e,t){var r=U(U({},Mr),e),n=Object.entries(r).reduce(function(o,i){var a,c=Ne(i,2),u=c[0],s=c[1];return o.setOnce("initial_".concat(u),(a=s??t.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY"),s?o.set(u,s):o.unset(u)},new lt);return an(n)},Hl=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]}});var Kl,$l=v(()=>{"use strict";ze();Kl=function(e,t,r){return t===void 0&&(t=""),r===void 0&&(r=10),[nr,t,e.substring(0,r)].filter(Boolean).join("_")}});var ln,Ga=v(()=>{"use strict";ln=function(e,t){t===void 0&&(t=Date.now());var r=Date.now(),n=r-t;return n>e}});var Wa,Yl=v(()=>{"use strict";Q();zl();$l();Vl();fo();Ga();Wa=function(){function e(t,r){var n;this.shouldTrackNewCampaign=!1,this.options=U({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:Hl((n=r.cookieOptions)===null||n===void 0?void 0:n.domain)},t),this.storage=r.cookieStorage,this.storageKey=Kl(r.apiKey,"MKTG"),this.currentCampaign=Mr,this.sessionTimeout=r.sessionTimeout,this.lastEventTime=r.lastEventTime,r.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return R(this,void 0,void 0,function(){var t,r;return M(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return r=Ne.apply(void 0,[n.sent(),2]),this.currentCampaign=r[0],this.previousCampaign=r[1],t=this.lastEventTime?ln(this.sessionTimeout,this.lastEventTime):!0,Wl(this.currentCampaign,this.previousCampaign,this.options,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return R(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return[4,Promise.all([new jl().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var r=ql(this.currentCampaign,this.options);return t&&(r.event_id=t),r},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}()});var fn,py,hy,Xl=v(()=>{"use strict";Q();lo();fn=function(){function e(t){this.options=U({},t)}return e.prototype.isEnabled=function(){return R(this,void 0,void 0,function(){var t,r,n,o;return M(this,function(i){switch(i.label){case 0:if(!Ee())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,t.set(r,e.testValue)];case 2:return i.sent(),[4,t.get(r)];case 3:return n=i.sent(),[2,n===e.testValue];case 4:return o=i.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var r;return R(this,void 0,void 0,function(){var n,o;return M(this,function(i){switch(i.label){case 0:return[4,this.getRaw(t)];case 1:if(n=i.sent(),!n)return[2,void 0];try{return o=(r=py(n))!==null&&r!==void 0?r:hy(n),o===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(o)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var r,n;return R(this,void 0,void 0,function(){var o,i,a;return M(this,function(c){return o=Ee(),i=(n=(r=o?.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[],a=i.find(function(u){return u.indexOf(t+"=")===0}),a?[2,a.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,r){var n;return R(this,void 0,void 0,function(){var o,i,a,c,u,s,l;return M(this,function(f){try{o=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,i=r!==null?o:-1,a=void 0,i&&(c=new Date,c.setTime(c.getTime()+i*24*60*60*1e3),a=c),u="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),a&&(u+="; expires=".concat(a.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),s=Ee(),s&&(s.document.cookie=u)}catch(d){l=d instanceof Error?d.message:String(d),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(l))}return[2]})})},e.prototype.remove=function(t){return R(this,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return[4,this.set(t,null)];case 1:return r.sent(),[2]}})})},e.prototype.reset=function(){return R(this,void 0,void 0,function(){return M(this,function(t){return[2]})})},e}(),py=function(e){try{return decodeURIComponent(atob(e))}catch{return}},hy=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}}});var qa,Ql=v(()=>{"use strict";Q();ze();qa=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return R(this,void 0,void 0,function(){var o,i,a;return M(this,function(c){switch(c.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return o={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,o)];case 1:return i=c.sent(),[4,i.text()];case 2:a=c.sent();try{return[2,this.buildResponse(JSON.parse(a))]}catch{return[2,this.buildResponse({code:i.status})]}return[2]}})})},t}(or)});var my,vy,gy,Bt,ho,yy,by,_y,wy,dn,mo,Ha=v(()=>{"use strict";my=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:vy(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),vy=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},gy=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(r){t(r)}),this.queue=[])},e}(),Bt=function(){return Bt=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Bt.apply(this,arguments)},ho=function(e,t){var r=["string","number","boolean","undefined"],n=typeof e,o=typeof t;if(n!==o)return!1;for(var i=0,a=r;i<a.length;i++){var c=a[i];if(c===n)return e===t}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var u=Array.isArray(e),s=Array.isArray(t);if(u!==s)return!1;if(u&&s){for(var l=0;l<e.length;l++)if(!ho(e[l],t[l]))return!1}else{var f=Object.keys(e).sort(),d=Object.keys(t).sort();if(!ho(f,d))return!1;var p=!0;return Object.keys(e).forEach(function(h){ho(e[h],t[h])||(p=!1)}),p}return!0},yy="$set",by="$unset",_y="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});wy=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,r=Bt({},this.identity.userProperties),n=Bt(Bt({},this.identity),{userProperties:r});return{setUserId:function(o){return n.userId=o,this},setDeviceId:function(o){return n.deviceId=o,this},setUserProperties:function(o){return n.userProperties=o,this},setOptOut:function(o){return n.optOut=o,this},updateUserProperties:function(o){for(var i=n.userProperties||{},a=0,c=Object.entries(o);a<c.length;a++){var u=c[a],s=u[0],l=u[1];switch(s){case yy:for(var f=0,d=Object.entries(l);f<d.length;f++){var p=d[f],h=p[0],m=p[1];i[h]=m}break;case by:for(var y=0,_=Object.keys(l);y<_.length;y++){var h=_[y];delete i[h]}break;case _y:i={};break}}return n.userProperties=i,this},commit:function(){return t.setIdentity(n),this}}},e.prototype.getIdentity=function(){return Bt({},this.identity)},e.prototype.setIdentity=function(t){var r=Bt({},this.identity);this.identity=Bt({},t),ho(r,this.identity)||this.listeners.forEach(function(n){n(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,mo=function(){function e(){this.identityStore=new wy,this.eventBridge=new gy,this.applicationContextProvider=new my}return e.getInstance=function(t){return dn.analyticsConnectorInstances||(dn.analyticsConnectorInstances={}),dn.analyticsConnectorInstances[t]||(dn.analyticsConnectorInstances[t]=new e),dn.analyticsConnectorInstances[t]},e}()});var Gt,za,Ka,$a=v(()=>{"use strict";Ha();Gt=function(e){return e===void 0&&(e="$default_instance"),mo.getInstance(e)},za=function(e,t){Gt(t).identityStore.editIdentity().setUserId(e).commit()},Ka=function(e,t){Gt(t).identityStore.editIdentity().setDeviceId(e).commit()}});var Ya,Zl=v(()=>{"use strict";Q();$a();Ya=function(){function e(){this.name="identity",this.type="before",this.identityStore=Gt().identityStore}return e.prototype.execute=function(t){return R(this,void 0,void 0,function(){var r;return M(this,function(n){return r=t.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,t]})})},e.prototype.setup=function(t){return R(this,void 0,void 0,function(){return M(this,function(r){return t.instanceName&&(this.identityStore=Gt(t.instanceName).identityStore),[2]})})},e}()});var Xa,Jl=v(()=>{"use strict";Xa=function(){var e,t,r,n;if(typeof navigator>"u")return"";var o=navigator.userLanguage;return(n=(r=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&r!==void 0?r:o)!==null&&n!==void 0?n:""}});var pn,vo,Qa,Za,go,yo,bo,Ja,es,ts,ef=v(()=>{"use strict";Q();pn=function(e,t){return typeof e=="boolean"?e:e?.[t]!==!1},vo=function(e){return pn(e,"attribution")},Qa=function(e){return pn(e,"fileDownloads")},Za=function(e){return pn(e,"formInteractions")},go=function(e){return pn(e,"pageViews")},yo=function(e){return pn(e,"sessions")},bo=function(e){return typeof e=="boolean"?e:typeof e=="object"&&(e.elementInteractions===!0||typeof e.elementInteractions=="object")},Ja=function(e){if(bo(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.elementInteractions=="object")return e.autocapture.elementInteractions},es=function(e){var t=function(){return!1},r=void 0,n,o=e.pageCounter,i=go(e.defaultTracking);return i&&(t=void 0,n=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(n=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:r,eventType:n,pageCounter:o}},ts=function(e){return vo(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?U({},e.defaultTracking.attribution):{}}});var ft=v(()=>{"use strict";Yl();Pa();Ga();Bl();Xl();Ql();$a();Zl();Jl();lo();ef()});var _o,wo,tf=v(()=>{"use strict";_o=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],o=n.name,i=n.args,a=n.resolve,c=e&&e[o];if(typeof c=="function"){var u=c.apply(e,i);typeof a=="function"&&a(u?.promise)}}return e},wo=function(e){var t=e;return t&&t._q!==void 0}});var rf,nf=v(()=>{"use strict";rf="2.11.10"});var Sy,Ey,of,af=v(()=>{"use strict";Q();ze();ft();nf();Sy="Web",Ey="$remote",of=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(rf),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var r,n;return R(this,void 0,void 0,function(){var o,i,a,c;return M(this,function(u){return o=new Date().getTime(),i=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,a=(n=t.event_id)!==null&&n!==void 0?n:i+1,this.config.lastEventId=a,t.time||(this.config.lastEventTime=o),c=U(U(U(U(U(U(U(U({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:o},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:Sy}),this.config.trackingOptions.language&&{language:Xa()}),this.config.trackingOptions.ipAddress&&{ip:Ey}),{insert_id:et(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:a,library:this.library,user_agent:this.userAgent}),[2,c]})})},e}()});var So,rs=v(()=>{"use strict";Q();So=function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return R(this,void 0,void 0,function(){var t,r,n,o,i;return M(this,function(a){switch(a.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),r=new e(this.storage),n="AMP_TEST",a.label=1;case 1:return a.trys.push([1,4,5,7]),[4,r.set(n,t)];case 2:return a.sent(),[4,r.get(n)];case 3:return o=a.sent(),[2,o===t];case 4:return i=a.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return a.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var r,n;return M(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return r=o.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n=o.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var r;return R(this,void 0,void 0,function(){return M(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(t))||void 0]})})},e.prototype.set=function(t,r){var n;return R(this,void 0,void 0,function(){return M(this,function(o){try{(n=this.storage)===null||n===void 0||n.setItem(t,JSON.stringify(r))}catch{}return[2]})})},e.prototype.remove=function(t){var r;return R(this,void 0,void 0,function(){return M(this,function(n){try{(r=this.storage)===null||r===void 0||r.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return R(this,void 0,void 0,function(){return M(this,function(r){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e}()});var Eo,ns,sf=v(()=>{"use strict";Q();ft();rs();Eo=1e3,ns=function(e){Be(t,e);function t(r){var n=this,o;return n=e.call(this,(o=Ee())===null||o===void 0?void 0:o.localStorage)||this,n.loggerProvider=r?.loggerProvider,n}return t.prototype.set=function(r,n){var o;return R(this,void 0,void 0,function(){var i;return M(this,function(a){switch(a.label){case 0:return Array.isArray(n)&&n.length>Eo?(i=n.length-Eo,[4,e.prototype.set.call(this,r,n.slice(0,Eo))]):[3,2];case 1:return a.sent(),(o=this.loggerProvider)===null||o===void 0||o.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(Eo,".")),[3,4];case 2:return[4,e.prototype.set.call(this,r,n)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t}(So)});var uf,cf=v(()=>{"use strict";Q();ft();rs();uf=function(e){Be(t,e);function t(){var r;return e.call(this,(r=Ee())===null||r===void 0?void 0:r.sessionStorage)||this}return t}(So)});var lf,ff=v(()=>{"use strict";Q();ze();lf=function(e){Be(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={done:4},r}return t.prototype.send=function(r,n){return R(this,void 0,void 0,function(){var o=this;return M(this,function(i){return[2,new Promise(function(a,c){typeof XMLHttpRequest>"u"&&c(new Error("XHRTransport is not supported."));var u=new XMLHttpRequest;u.open("POST",r,!0),u.onreadystatechange=function(){if(u.readyState===o.state.done){var s=u.responseText;try{a(o.buildResponse(JSON.parse(s)))}catch{a(o.buildResponse({code:u.status}))}}},u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","*/*"),u.send(JSON.stringify(n))})]})})},t}(or)});var df,pf=v(()=>{"use strict";Q();ft();ze();df=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return R(this,void 0,void 0,function(){var o=this;return M(this,function(i){return[2,new Promise(function(a,c){var u=Ee();if(!u?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var s=JSON.stringify(n),l=u.navigator.sendBeacon(r,JSON.stringify(n));return a(l?o.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}):o.buildResponse({code:500}))}catch(f){c(f)}})]})})},t}(or)});var hf,os,xy,mf=v(()=>{"use strict";Q();ft();hf=function(e,t,r){return r===void 0&&(r=!0),R(void 0,void 0,void 0,function(){var n,o,i,a,c,u,s,l,f;return M(this,function(d){switch(d.label){case 0:return n=Ba(e),[4,t.getRaw(n)];case 1:return o=d.sent(),o?r?[4,t.remove(n)]:[3,3]:[2,{optOut:!1}];case 2:d.sent(),d.label=3;case 3:return i=Ne(o.split("."),6),a=i[0],c=i[1],u=i[2],s=i[3],l=i[4],f=i[5],[2,{deviceId:a,userId:xy(c),sessionId:os(s),lastEventId:os(f),lastEventTime:os(l),optOut:!!u}]}})})},os=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},xy=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}}});var tt,ZE,is,vf,gf,as,ss,yf,bf,_f,wf,Sf,xo,To,Io,hn,Ef,mn=v(()=>{"use strict";tt="[Amplitude]",ZE="".concat(tt," Page Viewed"),is="".concat(tt," Form Started"),vf="".concat(tt," Form Submitted"),gf="".concat(tt," File Downloaded"),as="session_start",ss="session_end",yf="".concat(tt," File Extension"),bf="".concat(tt," File Name"),_f="".concat(tt," Link ID"),wf="".concat(tt," Link Text"),Sf="".concat(tt," Link URL"),xo="".concat(tt," Form ID"),To="".concat(tt," Form Name"),Io="".concat(tt," Form Destination"),hn="cookie",Ef="US"});var Ty,xf,Iy,us,Cy,Tf=v(()=>{"use strict";Q();Je();ze();ft();sf();cf();ff();pf();mf();mn();Ty=function(e){Be(t,e);function t(r,n,o,i,a,c,u,s,l,f,d,p,h,m,y,_,g,b,w,T,C,O,x,A,D,F,E,S,I,L,P,j,G,z){o===void 0&&(o=new cn),i===void 0&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),s===void 0&&(s=1e3),l===void 0&&(l=5),f===void 0&&(f=30),d===void 0&&(d=hn),_===void 0&&(_=new sn),g===void 0&&(g=Ie.Warn),w===void 0&&(w=!1),T===void 0&&(T=!1),x===void 0&&(x=""),A===void 0&&(A=Ef),F===void 0&&(F=30*60*1e3),E===void 0&&(E=new ns({loggerProvider:_})),S===void 0&&(S={ipAddress:!0,language:!0,platform:!0}),I===void 0&&(I="fetch"),L===void 0&&(L=!1),P===void 0&&(P=!1);var k=e.call(this,{apiKey:r,storageProvider:E,transportProvider:us(I)})||this;return k.apiKey=r,k.appVersion=n,k.cookieOptions=i,k.defaultTracking=a,k.autocapture=c,k.flushIntervalMillis=s,k.flushMaxRetries=l,k.flushQueueSize=f,k.identityStorage=d,k.ingestionMetadata=p,k.instanceName=h,k.loggerProvider=_,k.logLevel=g,k.minIdLength=b,k.offline=w,k.partnerId=C,k.plan=O,k.serverUrl=x,k.serverZone=A,k.sessionTimeout=F,k.storageProvider=E,k.trackingOptions=S,k.transport=I,k.useBatch=L,k.fetchRemoteConfig=P,k._optOut=!1,k._cookieStorage=o,k.deviceId=u,k.lastEventId=m,k.lastEventTime=y,k.optOut=T,k.sessionId=D,k.pageCounter=G,k.userId=j,k.debugLogsEnabled=z,k.loggerProvider.enable(z?Ie.Debug:k.logLevel),k}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){this._cookieStorage!==r&&(this._cookieStorage=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){this._pageCounter!==r&&(this._pageCounter=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(r){this._debugLogsEnabled!==r&&(this._debugLogsEnabled=r,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(po(this.apiKey),r)},t}(Ta),xf=function(e,t,r){return t===void 0&&(t={}),R(void 0,void 0,void 0,function(){var n,o,i,a,c,u,s,l,f,d,p,h,m,y,_,g,b,w,T,C,O,x,A,D,F,E,S,I,L,P,j,G,z,k,X,oe,J,ce,ee,Ze,be,ve,Ot;return M(this,function(ke){switch(ke.label){case 0:return n=t.identityStorage||hn,T={},n===hn?[3,1]:(i="",[3,5]);case 1:return(O=(C=t.cookieOptions)===null||C===void 0?void 0:C.domain)!==null&&O!==void 0?(a=O,[3,4]):[3,2];case 2:return[4,Cy()];case 3:a=ke.sent(),ke.label=4;case 4:i=a,ke.label=5;case 5:return o=U.apply(void 0,[(T.domain=i,T.expiration=365,T.sameSite="Lax",T.secure=!1,T.upgrade=!0,T),t.cookieOptions]),c=Iy(t.identityStorage,o),[4,hf(e,c,(A=(x=t.cookieOptions)===null||x===void 0?void 0:x.upgrade)!==null&&A!==void 0?A:!0)];case 6:return u=ke.sent(),[4,c.get(po(e))];case 7:return s=ke.sent(),l=Vt(),f=(I=(S=(E=(F=(D=t.deviceId)!==null&&D!==void 0?D:l.ampDeviceId)!==null&&F!==void 0?F:l.deviceId)!==null&&E!==void 0?E:s?.deviceId)!==null&&S!==void 0?S:u.deviceId)!==null&&I!==void 0?I:et(),d=(L=s?.lastEventId)!==null&&L!==void 0?L:u.lastEventId,p=(P=s?.lastEventTime)!==null&&P!==void 0?P:u.lastEventTime,h=(G=(j=t.optOut)!==null&&j!==void 0?j:s?.optOut)!==null&&G!==void 0?G:u.optOut,m=(z=s?.sessionId)!==null&&z!==void 0?z:u.sessionId,y=(X=(k=t.userId)!==null&&k!==void 0?k:s?.userId)!==null&&X!==void 0?X:u.userId,r.previousSessionDeviceId=(oe=s?.deviceId)!==null&&oe!==void 0?oe:u.deviceId,r.previousSessionUserId=(J=s?.userId)!==null&&J!==void 0?J:u.userId,_={ipAddress:(ee=(ce=t.trackingOptions)===null||ce===void 0?void 0:ce.ipAddress)!==null&&ee!==void 0?ee:!0,language:(be=(Ze=t.trackingOptions)===null||Ze===void 0?void 0:Ze.language)!==null&&be!==void 0?be:!0,platform:(Ot=(ve=t.trackingOptions)===null||ve===void 0?void 0:ve.platform)!==null&&Ot!==void 0?Ot:!0},g=s?.pageCounter,b=s?.debugLogsEnabled,t.autocapture!==void 0&&(t.defaultTracking=t.autocapture),w=new Ty(e,t.appVersion,c,o,t.defaultTracking,t.autocapture,f,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,n,t.ingestionMetadata,t.instanceName,d,p,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,h,t.partnerId,t.plan,t.serverUrl,t.serverZone,m,t.sessionTimeout,t.storageProvider,_,t.transport,t.useBatch,t.fetchRemoteConfig,y,g,b),[4,w.storageProvider.isEnabled()];case 8:return ke.sent()||(w.loggerProvider.warn("Storage provider ".concat(w.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),w.storageProvider=new cn),[2,w]}})})},Iy=function(e,t){switch(e===void 0&&(e=hn),t===void 0&&(t={}),e){case"localStorage":return new ns;case"sessionStorage":return new uf;case"none":return new cn;case"cookie":default:return new fn(U(U({},t),{expirationDays:t.expiration}))}},us=function(e){return e==="xhr"?new lf:e==="beacon"?new df:new qa},Cy=function(e){return R(void 0,void 0,void 0,function(){var t,r,n,o,i,i,a,c,u,s;return M(this,function(l){switch(l.label){case 0:return[4,new fn().isEnabled()];case 1:if(!l.sent()||!e&&(typeof location>"u"||!location.hostname))return[2,""];for(t=e??location.hostname,r=t.split("."),n=[],o="AMP_TLDTEST",i=r.length-2;i>=0;--i)n.push(r.slice(i).join("."));i=0,l.label=2;case 2:return i<n.length?(a=n[i],c={domain:"."+a},u=new fn(c),[4,u.set(o,1)]):[3,7];case 3:return l.sent(),[4,u.get(o)];case 4:return s=l.sent(),s?[4,u.remove(o)]:[3,6];case 5:return l.sent(),[2,"."+a];case 6:return i++,[3,2];case 7:return[2,""]}})})}});function Mt(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function At(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Co(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function cs(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ge,ls=v(()=>{"use strict";Ge=function(){return Ge=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ge.apply(this,arguments)}});var vn,fs=v(()=>{"use strict";vn=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof window<"u")return window}});var ds,If,Cf=v(()=>{"use strict";fs();ds=function(){var e,t=vn();if(!(!((e=t?.location)===null||e===void 0)&&e.search))return{};var r=t.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(o,i){var a=i.split("=",2),c=If(a[0]),u=If(a[1]);return u&&(o[c]=u),o},{});return n},If=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}}});var Of,Pf,Rf,Mf,Af,Lf,ps,hs,ms,vs,gs,ys,bs,_s,ws,Ss,Es,gn,xs=v(()=>{"use strict";Of="utm_campaign",Pf="utm_content",Rf="utm_id",Mf="utm_medium",Af="utm_source",Lf="utm_term",ps="dclid",hs="fbclid",ms="gbraid",vs="gclid",gs="ko_click_id",ys="li_fat_id",bs="msclkid",_s="rtd_cid",ws="ttclid",Ss="twclid",Es="wbraid",gn={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0}});var Ts,kf=v(()=>{"use strict";ls();Cf();xs();Ts=function(){function e(){}return e.prototype.parse=function(){return Mt(this,void 0,void 0,function(){return At(this,function(t){return[2,Ge(Ge(Ge(Ge({},gn),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=ds(),r=t[Of],n=t[Pf],o=t[Rf],i=t[Mf],a=t[Af],c=t[Lf];return{utm_campaign:r,utm_content:n,utm_id:o,utm_medium:i,utm_source:a,utm_term:c}},e.prototype.getReferrer=function(){var t,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(t=n.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},e.prototype.getClickIds=function(){var t,r=ds();return t={},t[ps]=r[ps],t[hs]=r[hs],t[ms]=r[ms],t[vs]=r[vs],t[gs]=r[gs],t[ys]=r[ys],t[bs]=r[bs],t[_s]=r[_s],t[ws]=r[ws],t[Ss]=r[Ss],t[Es]=r[Es],t},e}()});var Ar,Is,Cs,Df=v(()=>{"use strict";(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(Ar||(Ar={}));(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(Is||(Is={}));(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(Cs||(Cs={}))});var Nf=v(()=>{"use strict";Df()});var Os=v(()=>{"use strict";kf();xs();fs()});var Uf,Ff=v(()=>{"use strict";Uf=function(e){var t={};for(var r in e){var n=e[r];n&&(t[r]=n)}return t}});var Oy,Ps,Py,Ry,My,jf=v(()=>{"use strict";ls();Os();Nf();Os();Ff();Oy="[Amplitude] Page Viewed",Ps=function(e){e===void 0&&(e={});var t,r=vn(),n=void 0,o,i,a=e.trackOn,c=e.trackHistoryChanges,u=e.eventType,s=u===void 0?Oy:u,l=function(_){var g=_;try{g=decodeURI(_)}catch(b){n?.error("Malformed URI sequence: ",b)}return g},f=function(){return Mt(void 0,void 0,void 0,function(){var _,g,b;return At(this,function(w){switch(w.label){case 0:return _=l(typeof location<"u"&&location.href||""),b={event_type:s},g=[{}],[4,Py()];case 1:return[2,(b.event_properties=Ge.apply(void 0,[Ge.apply(void 0,g.concat([w.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":_,"[Amplitude] Page Path":typeof location<"u"&&l(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":_.split("?")[0]}]),b)]}})})},d=function(){return typeof a>"u"||typeof a=="function"&&a()},p=typeof location<"u"?location.href:null,h=function(){return Mt(void 0,void 0,void 0,function(){var _,g,b,w,T;return At(this,function(C){switch(C.label){case 0:return _=location.href,g=My(c,_,p||"")&&d(),p=_,g?(n?.log("Tracking page view event"),t!=null?[3,1]:(b=void 0,[3,3])):[3,4];case 1:return T=(w=t).track,[4,f()];case 2:b=T.apply(w,[C.sent()]),C.label=3;case 3:C.label=4;case 4:return[2]}})})},m=function(){h()},y={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(_,g){return Mt(void 0,void 0,void 0,function(){var b,w;return At(this,function(T){switch(T.label){case 0:return t=g,i=_,n=_.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),r&&(r.addEventListener("popstate",m),o=r.history.pushState,r.history.pushState=new Proxy(r.history.pushState,{apply:function(C,O,x){var A=Co(x,3),D=A[0],F=A[1],E=A[2];C.apply(O,[D,F,E]),h()}})),d()?(n.log("Tracking page view event"),w=(b=t).track,[4,f()]):[3,2];case 1:w.apply(b,[T.sent()]),T.label=2;case 2:return[2]}})})},execute:function(_){return Mt(void 0,void 0,void 0,function(){var g;return At(this,function(b){switch(b.label){case 0:return a==="attribution"&&Ry(_)?(n?.log("Enriching campaign event to page view event with campaign parameters"),[4,f()]):[3,2];case 1:g=b.sent(),_.event_type=g.event_type,_.event_properties=Ge(Ge({},_.event_properties),g.event_properties),b.label=2;case 2:return i&&_.event_type===s&&(i.pageCounter=i.pageCounter?i.pageCounter+1:1,_.event_properties=Ge(Ge({},_.event_properties),{"[Amplitude] Page Counter":i.pageCounter})),[2,_]}})})},teardown:function(){return Mt(void 0,void 0,void 0,function(){return At(this,function(_){return r&&(r.removeEventListener("popstate",m),o&&(r.history.pushState=o)),[2]})})}};return y},Py=function(){return Mt(void 0,void 0,void 0,function(){var e;return At(this,function(t){switch(t.label){case 0:return e=Uf,[4,new Ts().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},Ry=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,r=t[Ar.SET]||{},n=t[Ar.UNSET]||{},o=cs(cs([],Co(Object.keys(r)),!1),Co(Object.keys(n)),!1);return Object.keys(gn).every(function(i){return o.includes(i)})}return!1},My=function(e,t,r){switch(e){case"pathOnly":{if(r=="")return!0;var n=new URL(t),o=new URL(r),i=n.origin+n.pathname,a=o.origin+o.pathname;return i!==a}default:return t!==r}}});var Vf=v(()=>{"use strict";jf()});var Bf,Lr,Gf=v(()=>{"use strict";Q();mn();ft();Bf=function(){var e,t=[],r=function(s,l,f){s.addEventListener(l,f),t.push({element:s,type:l,handler:f})},n=function(){t.forEach(function(s){var l=s.element,f=s.type,d=s.handler;l?.removeEventListener(f,d)}),t=[]},o="@amplitude/plugin-form-interaction-tracking-browser",i="enrichment",a=function(s,l){return R(void 0,void 0,void 0,function(){var f;return M(this,function(d){return(f=Ee())===null||f===void 0||f.addEventListener("load",function(){if(!l){s.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var p=function(m){var y=!1;r(m,"change",function(){var _;y||l.track(is,(_={},_[xo]=Lr(m.id),_[To]=Lr(m.name),_[Io]=m.action,_)),y=!0}),r(m,"submit",function(){var _,g;y||l.track(is,(_={},_[xo]=Lr(m.id),_[To]=Lr(m.name),_[Io]=m.action,_)),l.track(vf,(g={},g[xo]=Lr(m.id),g[To]=Lr(m.name),g[Io]=m.action,g)),y=!1})},h=Array.from(document.getElementsByTagName("form"));h.forEach(p),typeof MutationObserver<"u"&&(e=new MutationObserver(function(m){m.forEach(function(y){y.addedNodes.forEach(function(_){_.nodeName==="FORM"&&p(_),"querySelectorAll"in _&&typeof _.querySelectorAll=="function"&&Array.from(_.querySelectorAll("form")).map(p)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(s){return R(void 0,void 0,void 0,function(){return M(this,function(l){return[2,s]})})},u=function(){return R(void 0,void 0,void 0,function(){return M(this,function(s){return e?.disconnect(),n(),[2]})})};return{name:o,type:i,setup:a,execute:c,teardown:u}},Lr=function(e){if(typeof e=="string")return e}});var Wf,qf=v(()=>{"use strict";Q();mn();ft();Wf=function(){var e,t=[],r=function(s,l,f){s.addEventListener(l,f),t.push({element:s,type:l,handler:f})},n=function(){t.forEach(function(s){var l=s.element,f=s.type,d=s.handler;l?.removeEventListener(f,d)}),t=[]},o="@amplitude/plugin-file-download-tracking-browser",i="enrichment",a=function(s,l){return R(void 0,void 0,void 0,function(){var f;return M(this,function(d){return(f=Ee())===null||f===void 0||f.addEventListener("load",function(){if(!l){s.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var p=function(y){var _;try{_=new URL(y.href,window.location.href)}catch{return}var g=h.exec(_.href),b=g?.[1];b&&r(y,"click",function(){var w;b&&l.track(gf,(w={},w[yf]=b,w[bf]=_.pathname,w[_f]=y.id,w[wf]=y.text,w[Sf]=y.href,w))})},h=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,m=Array.from(document.getElementsByTagName("a"));m.forEach(p),typeof MutationObserver<"u"&&(e=new MutationObserver(function(y){y.forEach(function(_){_.addedNodes.forEach(function(g){g.nodeName==="A"&&p(g),"querySelectorAll"in g&&typeof g.querySelectorAll=="function"&&Array.from(g.querySelectorAll("a")).map(p)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(s){return R(void 0,void 0,void 0,function(){return M(this,function(l){return[2,s]})})},u=function(){return R(void 0,void 0,void 0,function(){return M(this,function(s){return e?.disconnect(),n(),[2]})})};return{name:o,type:i,setup:a,execute:c,teardown:u}}});var Hf,zf,Kf=v(()=>{"use strict";Hf=!1,zf=function(e){if(!(Hf||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),Hf=!0}}});var $f,Yf=v(()=>{"use strict";Q();ft();$f=function(){var e="@amplitude/plugin-network-checker-browser",t="before",r=Ee(),n=[],o=function(u,s){r&&(r.addEventListener(u,s),n.push({type:u,handler:s}))},i=function(){n.forEach(function(u){var s=u.type,l=u.handler;r&&r.removeEventListener(s,l)}),n=[]},a=function(u,s){return R(void 0,void 0,void 0,function(){return M(this,function(l){return typeof navigator>"u"?(u.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),u.offline=!1,[2]):(u.offline=!navigator.onLine,o("online",function(){u.loggerProvider.debug("Network connectivity changed to online."),u.offline=!1,setTimeout(function(){s.flush()},u.flushIntervalMillis)}),o("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline."),u.offline=!0}),[2])})})},c=function(){return R(void 0,void 0,void 0,function(){return M(this,function(u){return i(),[2]})})};return{name:e,type:t,setup:a,teardown:c}}});function ir(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function ar(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Xf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var yn,Qf=v(()=>{"use strict";yn=function(){return yn=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yn.apply(this,arguments)}});var Pe,Zf=v(()=>{"use strict";(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(Pe||(Pe={}))});var We,Jf=v(()=>{"use strict";(function(e){e.US="US",e.EU="EU"})(We||(We={}))});var re,ed=v(()=>{"use strict";(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(re||(re={}))});var dt=v(()=>{"use strict";Zf();Jf();ed()});var Oo,Rs,Ms,td,rd,nd,As=v(()=>{"use strict";Oo="AMP",Rs="".concat(Oo,"_unsent"),Ms="https://api2.amplitude.com/2/httpapi",td="https://api.eu.amplitude.com/2/httpapi",rd="https://api2.amplitude.com/batch",nd="https://api.eu.amplitude.com/batch"});var Po,od=v(()=>{"use strict";Po=function(e){return{promise:e||Promise.resolve()}}});var Ro,Wt,Ls=v(()=>{"use strict";dt();Ro="Amplitude Logger ",Wt=function(){function e(){this.logLevel=Pe.None}return e.prototype.disable=function(){this.logLevel=Pe.None},e.prototype.enable=function(t){t===void 0&&(t=Pe.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Pe.Verbose||console.log("".concat(Ro,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Pe.Warn||console.warn("".concat(Ro,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Pe.Error||console.error("".concat(Ro,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<Pe.Debug||console.log("".concat(Ro,"[Debug]: ").concat(t.join(" ")))},e}()});var Mo,ks,Ay,Ly,id=v(()=>{"use strict";dt();As();Ls();Mo=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Pe.Warn,loggerProvider:new Wt,offline:!1,optOut:!1,serverUrl:Ms,serverZone:"US",useBatch:!1}},ks=function(){function e(t){var r,n,o,i;this._optOut=!1;var a=Mo();this.apiKey=t.apiKey,this.flushIntervalMillis=(r=t.flushIntervalMillis)!==null&&r!==void 0?r:a.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||a.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||a.flushQueueSize,this.instanceName=t.instanceName||a.instanceName,this.loggerProvider=t.loggerProvider||a.loggerProvider,this.logLevel=(n=t.logLevel)!==null&&n!==void 0?n:a.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:a.offline,this.optOut=(o=t.optOut)!==null&&o!==void 0?o:a.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||a.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(i=t.useBatch)!==null&&i!==void 0?i:a.useBatch,this.loggerProvider.enable(this.logLevel);var c=Ly(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=c.serverZone,this.serverUrl=c.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),Ay=function(e,t){return e==="EU"?t?nd:td:t?rd:Ms},Ly=function(e,t,r){if(e===void 0&&(e=""),t===void 0&&(t=Mo().serverZone),r===void 0&&(r=Mo().useBatch),e)return{serverUrl:e,serverZone:void 0};var n=["US","EU"].includes(t)?t:Mo().serverZone;return{serverZone:n,serverUrl:Ay(n,r)}}});var ky,qt,ad=v(()=>{"use strict";dt();ky=function(e){e===void 0&&(e=0);var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(r){return r.trim()})},qt=function(e,t,r,n,o){return o===void 0&&(o=null),function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=r(),u=c.logger,s=c.logLevel;if(s&&s<Pe.Debug||!s||!u)return e.apply(o,i);var l={type:"invoke public method",name:t,args:i,stacktrace:ky(1),time:{start:new Date().toISOString()},states:{}};n&&l.states&&(l.states.before=n());var f=e.apply(o,i);return f&&f.promise?f.promise.then(function(){n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))}):(n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))),f}}});var Lt,sd=v(()=>{"use strict";dt();Lt=function(){function e(){}return e.prototype.send=function(t,r){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var r,n,o,i,a,c,u,s,l,f,d,p,h,m,y,_,g,b,w,T,C,O;if(typeof t!="object")return null;var x=t.code||0,A=this.buildStatus(x);switch(A){case re.Success:return{status:A,statusCode:x,body:{eventsIngested:(r=t.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=t.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(o=t.server_upload_time)!==null&&o!==void 0?o:0}};case re.Invalid:return{status:A,statusCode:x,body:{error:(i=t.error)!==null&&i!==void 0?i:"",missingField:(a=t.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(c=t.events_with_invalid_fields)!==null&&c!==void 0?c:{},eventsWithMissingFields:(u=t.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(s=t.events_with_invalid_id_lengths)!==null&&s!==void 0?s:{},epsThreshold:(l=t.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(f=t.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(d=t.silenced_devices)!==null&&d!==void 0?d:[],silencedEvents:(p=t.silenced_events)!==null&&p!==void 0?p:[],throttledDevices:(h=t.throttled_devices)!==null&&h!==void 0?h:{},throttledEvents:(m=t.throttled_events)!==null&&m!==void 0?m:[]}};case re.PayloadTooLarge:return{status:A,statusCode:x,body:{error:(y=t.error)!==null&&y!==void 0?y:""}};case re.RateLimit:return{status:A,statusCode:x,body:{error:(_=t.error)!==null&&_!==void 0?_:"",epsThreshold:(g=t.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=t.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(w=t.throttled_users)!==null&&w!==void 0?w:{},exceededDailyQuotaDevices:(T=t.exceeded_daily_quota_devices)!==null&&T!==void 0?T:{},exceededDailyQuotaUsers:(C=t.exceeded_daily_quota_users)!==null&&C!==void 0?C:{},throttledEvents:(O=t.throttled_events)!==null&&O!==void 0?O:[]}};case re.Timeout:default:return{status:A,statusCode:x}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?re.Success:t===429?re.RateLimit:t===413?re.PayloadTooLarge:t===408?re.Timeout:t>=400&&t<500?re.Invalid:t>=500?re.Failed:re.Unknown},e}()});var St=v(()=>{"use strict";id();Ls();As();od();ad();sd()});var Dy,Ny,Uy,ud,cd,Fy,jy,Vy,By,ld,fd=v(()=>{"use strict";Qf();St();dt();Dy="Network error occurred, remote config fetch failed",Ny="Remote config successfully fetched",Uy="Remote config fetch rejected due to exceeded retry count",ud="Remote config fetch rejected due to timeout after 5 seconds",cd="Unexpected error occurred",Fy="https://sr-client-cfg.amplitude.com/config",jy="https://sr-client-cfg.stag2.amplitude.com/config",Vy="https://sr-client-cfg.eu.amplitude.com/config",By=function(){function e(t){var r=t.localConfig,n=t.configKeys,o=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(i,a,c){return ir(o,void 0,void 0,function(){var u,s,l;return ar(this,function(f){switch(f.label){case 0:return u=Date.now(),[4,this.fetchWithTimeout(c)];case 1:return s=f.sent(),s&&(l=s.configs&&s.configs[i],l)?(this.metrics.fetchTimeAPISuccess=Date.now()-u,[2,l[a]]):(this.metrics.fetchTimeAPIFail=Date.now()-u,[2,void 0])}})})},this.fetchWithTimeout=function(i){return ir(o,void 0,void 0,function(){var a,c,u;return ar(this,function(s){switch(s.label){case 0:return a=new AbortController,c=setTimeout(function(){return a.abort()},5e3),[4,this.fetchRemoteConfig(a.signal,i)];case 1:return u=s.sent(),clearTimeout(c),[2,u]}})})},this.fetchRemoteConfig=function(i,a){return ir(o,void 0,void 0,function(){var c,u,s,l,f,d,p,h,m,y,_,g,b;return ar(this,function(w){switch(w.label){case 0:if(a===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:Uy})];if(i.aborted)return[2,this.completeRequest({err:ud})];a!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=a,this.attempts=0),w.label=1;case 1:w.trys.push([1,3,,4]),c=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(u=Xf(this.configKeys),s=u.next();!s.done;s=u.next())l=s.value,c.append("config_keys",l)}catch(T){_={error:T}}finally{try{s&&!s.done&&(g=u.return)&&g.call(u)}finally{if(_)throw _.error}}return a&&c.set("session_id",String(a)),f={headers:{Accept:"*/*"},method:"GET"},d="".concat(this.getServerUrl(),"?").concat(c.toString()),this.attempts+=1,[4,fetch(d,yn(yn({},f),{signal:i}))];case 2:if(p=w.sent(),p===null)return[2,this.completeRequest({err:cd})];switch(h=new Lt().buildStatus(p.status),h){case re.Success:return this.attempts=0,[2,this.parseAndStoreConfig(p)];case re.Failed:return[2,this.retryFetch(i,a)];default:return[2,this.completeRequest({err:Dy})]}return[3,4];case 3:return m=w.sent(),y=m,i.aborted?[2,this.completeRequest({err:ud})]:[2,this.completeRequest({err:(b=y.message)!==null&&b!==void 0?b:cd})];case 4:return[2]}})})},this.retryFetch=function(i,a){return ir(o,void 0,void 0,function(){var c=this;return ar(this,function(u){switch(u.label){case 0:return[4,new Promise(function(s){return setTimeout(s,c.attempts*c.retryTimeout)})];case 1:return u.sent(),[2,this.fetchRemoteConfig(i,a)]}})})},this.parseAndStoreConfig=function(i){return ir(o,void 0,void 0,function(){var a;return ar(this,function(c){switch(c.label){case 0:return[4,i.json()];case 1:return a=c.sent(),this.completeRequest({success:Ny}),[2,a]}})})},this.localConfig=r,this.configKeys=n}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===We.STAGING?jy:this.localConfig.serverZone===We.EU?Vy:Fy},e.prototype.completeRequest=function(t){var r=t.err,n=t.success;if(r)throw new Error(r);n&&this.localConfig.loggerProvider.log(n)},e}(),ld=function(e){var t=e.localConfig,r=e.configKeys;return ir(void 0,void 0,void 0,function(){return ar(this,function(n){return[2,new By({localConfig:t,configKeys:r})]})})}});var dd,pd=v(()=>{"use strict";fd();dd=ld});var Wy,hd,md=v(()=>{"use strict";Q();pd();ze();Wy=function(){function e(t){this.config=t,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return R(this,void 0,void 0,function(){var t;return M(this,function(r){switch(r.label){case 0:return t=this,[4,dd({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return t.remoteConfigFetch=r.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var t,r,n,o;return R(this,void 0,void 0,function(){var i,a,c;return M(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),a=this.remoteConfigFetch,a?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:a=u.sent(),u.label=2;case 2:return i=a,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(i,null,2)),i&&"autocapture"in i&&(typeof i.autocapture=="boolean"&&(this.config.autocapture=i.autocapture),typeof i.autocapture=="object"&&(this.config.autocapture===void 0&&(this.config.autocapture=i.autocapture),typeof this.config.autocapture=="boolean"&&(this.config.autocapture=U({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},i.autocapture)),typeof this.config.autocapture=="object"&&(this.config.autocapture=U(U({},this.config.autocapture),i.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(t=(o=this.config).requestMetadata)!==null&&t!==void 0||(o.requestMetadata=new un),!((r=this.remoteConfigFetch)===null||r===void 0)&&r.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((n=this.remoteConfigFetch)===null||n===void 0)&&n.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return c=u.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",c),[3,4];case 4:return[2,this.config]}})})},e}(),hd=function(e){return R(void 0,void 0,void 0,function(){var t;return M(this,function(r){switch(r.label){case 0:return t=new Wy(e),[4,t.initialize()];case 1:return r.sent(),[2,t]}})})}});function Ao(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function sr(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function rt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Et(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ht,kr=v(()=>{"use strict";Ht=function(){return Ht=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ht.apply(this,arguments)}});var Ds,Ns,Us,vd=v(()=>{"use strict";Ds=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],Ns="data-amp-track-",Us=["div","span","h1","h2","h3","h4","h5","h6"]});var gd=v(()=>{"use strict";vd()});var yd,bn,bd,_d,wd,Lo,ko,Sd,Ed,xd,Td,Id,Cd,Do,Od,No,Pd,Rd,Md,_n,qy,Hy,Ad,Ld,wn,ur=v(()=>{"use strict";yd="@amplitude/plugin-autocapture-browser",bn="[Amplitude] Element Clicked",bd="[Amplitude] Element Changed",_d="[Amplitude] Element ID",wd="[Amplitude] Element Class",Lo="[Amplitude] Element Tag",ko="[Amplitude] Element Text",Sd="[Amplitude] Element Hierarchy",Ed="[Amplitude] Element Href",xd="[Amplitude] Element Position Left",Td="[Amplitude] Element Position Top",Id="[Amplitude] Element Aria Label",Cd="[Amplitude] Element Attributes",Do="[Amplitude] Element Selector",Od="[Amplitude] Element Parent Label",No="[Amplitude] Page URL",Pd="[Amplitude] Page Title",Rd="[Amplitude] Viewport Height",Md="[Amplitude] Viewport Width",_n="https://app.amplitude.com",qy="https://app.eu.amplitude.com",Hy="https://apps.stag2.amplitude.com",Ad={US:_n,EU:qy,STAGING:Hy},Ld="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",wn="amp-visual-tagging-selector-highlight"});function pt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Dd(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function Uo(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function cr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function ht(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function lr(e){return this instanceof lr?(this.v=e,this):new lr(e)}function Nd(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(d){n[d]&&(o[d]=function(p){return new Promise(function(h,m){i.push([d,p,h,m])>1||c(d,p)})})}function c(d,p){try{u(n[d](p))}catch(h){f(i[0][3],h)}}function u(d){d.value instanceof lr?Promise.resolve(d.value.v).then(s,l):f(i[0][2],d)}function s(d){c("next",d)}function l(d){c("throw",d)}function f(d,p){d(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ud(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof cr=="function"?cr(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(c,u){a=e[i](a),o(c,u,a.done,a.value)})}}function o(i,a,c,u){Promise.resolve(u).then(function(s){i({value:s,done:c})},a)}}var Fs,$e=v(()=>{"use strict";Fs=function(e,t){return Fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Fs(e,t)}});function q(e){return typeof e=="function"}var Ue=v(()=>{"use strict"});function Fo(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var js=v(()=>{"use strict"});var jo,Fd=v(()=>{"use strict";js();jo=Fo(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}})});function Sn(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Vs=v(()=>{"use strict"});function Vo(e){return e instanceof Dr||e&&"closed"in e&&q(e.remove)&&q(e.add)&&q(e.unsubscribe)}function jd(e){q(e)?e():e.unsubscribe()}var Dr,HT,Bo=v(()=>{"use strict";$e();Ue();Fd();Vs();Dr=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=cr(a),u=c.next();!u.done;u=c.next()){var s=u.value;s.remove(this)}}catch(m){t={error:m}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(q(l))try{l()}catch(m){i=m instanceof jo?m.errors:[m]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=cr(f),p=d.next();!p.done;p=d.next()){var h=p.value;try{jd(h)}catch(m){i=i??[],m instanceof jo?i=ht(ht([],Ke(i)),Ke(m.errors)):i.push(m)}}}catch(m){n={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}if(i)throw new jo(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)jd(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Sn(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Sn(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),HT=Dr.EMPTY});var mt,En=v(()=>{"use strict";mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Nr,Bs=v(()=>{"use strict";$e();Nr={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=Nr.delegate;return o?.setTimeout?o.setTimeout.apply(o,ht([e,t],Ke(r))):setTimeout.apply(void 0,ht([e,t],Ke(r)))},clearTimeout:function(e){var t=Nr.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0}});function Go(e){Nr.setTimeout(function(){var t=mt.onUnhandledError;if(t)t(e);else throw e})}var Gs=v(()=>{"use strict";En();Bs()});function fr(){}var Wo=v(()=>{"use strict"});function Bd(e){return Ws("E",void 0,e)}function Gd(e){return Ws("N",e,void 0)}function Ws(e,t,r){return{kind:e,value:t,error:r}}var Vd,Wd=v(()=>{"use strict";Vd=function(){return Ws("C",void 0,void 0)}()});function qd(e){if(mt.useDeprecatedSynchronousErrorHandling){var t=!dr;if(t&&(dr={errorThrown:!1,error:null}),e(),t){var r=dr,n=r.errorThrown,o=r.error;if(dr=null,n)throw o}}else e()}function Hd(e){mt.useDeprecatedSynchronousErrorHandling&&dr&&(dr.errorThrown=!0,dr.error=e)}var dr,qs=v(()=>{"use strict";En();dr=null});function Hs(e,t){return zy.call(e,t)}function qo(e){mt.useDeprecatedSynchronousErrorHandling?Hd(e):Go(e)}function $y(e){throw e}function zs(e,t){var r=mt.onStoppedNotification;r&&Nr.setTimeout(function(){return r(e,t)})}var xn,zy,Ky,Ho,Yy,Ks=v(()=>{"use strict";$e();Ue();Bo();En();Gs();Wo();Wd();Bs();qs();xn=function(e){pt(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Vo(r)&&r.add(n)):n.destination=Yy,n}return t.create=function(r,n,o){return new Ho(r,n,o)},t.prototype.next=function(r){this.isStopped?zs(Gd(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?zs(Bd(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?zs(Vd,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Dr),zy=Function.prototype.bind;Ky=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){qo(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){qo(n)}else qo(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){qo(r)}},e}(),Ho=function(e){pt(t,e);function t(r,n,o){var i=e.call(this)||this,a;if(q(r)||!r)a={next:r??void 0,error:n??void 0,complete:o??void 0};else{var c;i&&mt.useDeprecatedNextContext?(c=Object.create(r),c.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&Hs(r.next,c),error:r.error&&Hs(r.error,c),complete:r.complete&&Hs(r.complete,c)}):a=r}return i.destination=new Ky(a),i}return t}(xn);Yy={closed:!0,next:fr,error:$y,complete:fr}});var Ur,zo=v(()=>{"use strict";Ur=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});function Ko(e){return e}var $s=v(()=>{"use strict"});function zd(e){return e.length===0?Ko:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}var Kd=v(()=>{"use strict";$s()});function $d(e){var t;return(t=e??mt.Promise)!==null&&t!==void 0?t:Promise}function Xy(e){return e&&q(e.next)&&q(e.error)&&q(e.complete)}function Qy(e){return e&&e instanceof xn||Xy(e)&&Vo(e)}var pe,kt=v(()=>{"use strict";Ks();Bo();zo();Kd();En();Ue();qs();pe=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,i=Qy(t)?t:new Ho(t,r,n);return qd(function(){var a=o,c=a.operator,u=a.source;i.add(c?c.call(i,u):u?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=$d(r),new r(function(o,i){var a=new Ho({next:function(c){try{t(c)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Ur]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return zd(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=$d(t),new t(function(n,o){var i;r.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}()});function Zy(e){return q(e?.lift)}function ae(e){return function(t){if(Zy(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ye=v(()=>{"use strict";Ue()});function ne(e,t,r,n,o){return new Jy(e,t,r,n,o)}var Jy,nt=v(()=>{"use strict";$e();Ks();Jy=function(e){pt(t,e);function t(r,n,o,i,a,c){var u=e.call(this,r)||this;return u.onFinalize=a,u.shouldUnsubscribe=c,u._next=n?function(s){try{n(s)}catch(l){r.error(l)}}:e.prototype._next,u._error=i?function(s){try{i(s)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=o?function(){try{o()}catch(s){r.error(s)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(xn)});var Ys,Yd=v(()=>{"use strict";Ys={now:function(){return(Ys.delegate||Date).now()},delegate:void 0}});var Xd,Qd=v(()=>{"use strict";$e();Bo();Xd=function(e){pt(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},t}(Dr)});var Tn,Zd=v(()=>{"use strict";$e();Tn={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=Tn.delegate;return o?.setInterval?o.setInterval.apply(o,ht([e,t],Ke(r))):setInterval.apply(void 0,ht([e,t],Ke(r)))},clearInterval:function(e){var t=Tn.delegate;return(t?.clearInterval||clearInterval)(e)},delegate:void 0}});var Jd,ep=v(()=>{"use strict";$e();Qd();Zd();Vs();Jd=function(e){pt(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,n),this},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),Tn.setInterval(r.flush.bind(r,this),o)},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&Tn.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var o=!1,i;try{this.work(r)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Sn(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Xd)});var Xs,tp=v(()=>{"use strict";Yd();Xs=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=Ys.now,e}()});var rp,np=v(()=>{"use strict";$e();tp();rp=function(e){pt(t,e);function t(r,n){n===void 0&&(n=Xs.now);var o=e.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},t}(Xs)});var pr,op,In=v(()=>{"use strict";ep();np();pr=new rp(Jd),op=pr});var hr,$o=v(()=>{"use strict";kt();hr=new pe(function(e){return e.complete()})});function Yo(e){return e&&q(e.schedule)}var Qs=v(()=>{"use strict";Ue()});function ip(e){return e[e.length-1]}function Xo(e){return Yo(ip(e))?e.pop():void 0}function ap(e,t){return typeof ip(e)=="number"?e.pop():t}var Zs=v(()=>{"use strict";Qs()});var Fr,Qo=v(()=>{"use strict";Fr=function(e){return e&&typeof e.length=="number"&&typeof e!="function"}});function Zo(e){return q(e?.then)}var Js=v(()=>{"use strict";Ue()});function Jo(e){return q(e[Ur])}var eu=v(()=>{"use strict";zo();Ue()});function ei(e){return Symbol.asyncIterator&&q(e?.[Symbol.asyncIterator])}var tu=v(()=>{"use strict";Ue()});function ti(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var ru=v(()=>{"use strict"});function eb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ri,nu=v(()=>{"use strict";ri=eb()});function ni(e){return q(e?.[ri])}var ou=v(()=>{"use strict";nu();Ue()});function oi(e){return Nd(this,arguments,function(){var r,n,o,i;return Uo(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,lr(r.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,lr(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,lr(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function ii(e){return q(e?.getReader)}var ai=v(()=>{"use strict";$e();Ue()});function he(e){if(e instanceof pe)return e;if(e!=null){if(Jo(e))return tb(e);if(Fr(e))return rb(e);if(Zo(e))return nb(e);if(ei(e))return sp(e);if(ni(e))return ob(e);if(ii(e))return ib(e)}throw ti(e)}function tb(e){return new pe(function(t){var r=e[Ur]();if(q(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rb(e){return new pe(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function nb(e){return new pe(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Go)})}function ob(e){return new pe(function(t){var r,n;try{for(var o=cr(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}function sp(e){return new pe(function(t){ab(e,t).catch(function(r){return t.error(r)})})}function ib(e){return sp(oi(e))}function ab(e,t){var r,n,o,i;return Dd(this,void 0,void 0,function(){var a,c;return Uo(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=Ud(e),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),o={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var ot=v(()=>{"use strict";$e();Qo();Js();kt();eu();tu();ru();ou();ai();Ue();Gs();zo()});function qe(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}var jr=v(()=>{"use strict"});function si(e,t){return t===void 0&&(t=0),ae(function(r,n){r.subscribe(ne(n,function(o){return qe(n,e,function(){return n.next(o)},t)},function(){return qe(n,e,function(){return n.complete()},t)},function(o){return qe(n,e,function(){return n.error(o)},t)}))})}var iu=v(()=>{"use strict";jr();Ye();nt()});function ui(e,t){return t===void 0&&(t=0),ae(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}var au=v(()=>{"use strict";Ye()});function up(e,t){return he(e).pipe(ui(t),si(t))}var cp=v(()=>{"use strict";ot();iu();au()});function lp(e,t){return he(e).pipe(ui(t),si(t))}var fp=v(()=>{"use strict";ot();iu();au()});function dp(e,t){return new pe(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}var pp=v(()=>{"use strict";kt()});function hp(e,t){return new pe(function(r){var n;return qe(r,t,function(){n=e[ri](),qe(r,t,function(){var o,i,a;try{o=n.next(),i=o.value,a=o.done}catch(c){r.error(c);return}a?r.complete():r.next(i)},0,!0)}),function(){return q(n?.return)&&n.return()}})}var mp=v(()=>{"use strict";kt();nu();Ue();jr()});function ci(e,t){if(!e)throw new Error("Iterable cannot be null");return new pe(function(r){qe(r,t,function(){var n=e[Symbol.asyncIterator]();qe(r,t,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}var su=v(()=>{"use strict";kt();jr()});function vp(e,t){return ci(oi(e),t)}var gp=v(()=>{"use strict";su();ai()});function yp(e,t){if(e!=null){if(Jo(e))return up(e,t);if(Fr(e))return dp(e,t);if(Zo(e))return lp(e,t);if(ei(e))return ci(e,t);if(ni(e))return hp(e,t);if(ii(e))return vp(e,t)}throw ti(e)}var bp=v(()=>{"use strict";cp();fp();pp();mp();su();eu();Js();Qo();ou();tu();ru();ai();gp()});function li(e,t){return t?yp(e,t):he(e)}var uu=v(()=>{"use strict";bp();ot()});function fi(e){return e instanceof Date&&!isNaN(e)}var cu=v(()=>{"use strict"});function lu(e,t){var r=fi(e)?{first:e}:typeof e=="number"?{each:e}:e,n=r.first,o=r.each,i=r.with,a=i===void 0?ub:i,c=r.scheduler,u=c===void 0?t??pr:c,s=r.meta,l=s===void 0?null:s;if(n==null&&o==null)throw new TypeError("No timeout provided.");return ae(function(f,d){var p,h,m=null,y=0,_=function(g){h=qe(d,u,function(){try{p.unsubscribe(),he(a({meta:l,lastValue:m,seen:y})).subscribe(d)}catch(b){d.error(b)}},g)};p=f.subscribe(ne(d,function(g){h?.unsubscribe(),y++,d.next(m=g),o>0&&_(o)},void 0,void 0,function(){h?.closed||h?.unsubscribe(),m=null})),!y&&_(n!=null?typeof n=="number"?n:+n-u.now():o)})}function ub(e){throw new sb(e)}var sb,_p=v(()=>{"use strict";In();cu();Ye();ot();js();nt();jr();sb=Fo(function(e){return function(r){r===void 0&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}})});function Re(e,t){return ae(function(r,n){var o=0;r.subscribe(ne(n,function(i){n.next(e.call(t,i,o++))}))})}var Cn=v(()=>{"use strict";Ye();nt()});function lb(e,t){return cb(t)?e.apply(void 0,ht([],Ke(t))):e(t)}function wp(e){return Re(function(t){return lb(e,t)})}var cb,Sp=v(()=>{"use strict";$e();Cn();cb=Array.isArray});function Ep(e,t,r,n,o,i,a,c){var u=[],s=0,l=0,f=!1,d=function(){f&&!u.length&&!s&&t.complete()},p=function(m){return s<n?h(m):u.push(m)},h=function(m){i&&t.next(m),s++;var y=!1;he(r(m,l++)).subscribe(ne(t,function(_){o?.(_),i?p(_):t.next(_)},function(){y=!0},void 0,function(){if(y)try{s--;for(var _=function(){var g=u.shift();a?qe(t,a,function(){return h(g)}):h(g)};u.length&&s<n;)_();d()}catch(g){t.error(g)}}))};return e.subscribe(ne(t,p,function(){f=!0,d()})),function(){c?.()}}var xp=v(()=>{"use strict";ot();jr();nt()});function mr(e,t,r){return r===void 0&&(r=1/0),q(t)?mr(function(n,o){return Re(function(i,a){return t(n,i,o,a)})(he(e(n,o)))},r):(typeof t=="number"&&(r=t),ae(function(n,o){return Ep(n,o,e,r)}))}var di=v(()=>{"use strict";Cn();ot();Ye();xp();Ue()});function pi(e){return e===void 0&&(e=1/0),mr(Ko,e)}var fu=v(()=>{"use strict";di();$s()});function Tp(){return pi(1)}var Ip=v(()=>{"use strict";fu()});function Cp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tp()(li(e,Xo(e)))}var Op=v(()=>{"use strict";Ip();Zs();uu()});function vr(e,t,r,n){if(q(r)&&(n=r,r=void 0),n)return vr(e,t,r).pipe(wp(n));var o=Ke(vb(e)?db.map(function(c){return function(u){return e[c](t,u,r)}}):hb(e)?fb.map(Pp(e,t)):mb(e)?pb.map(Pp(e,t)):[],2),i=o[0],a=o[1];if(!i&&Fr(e))return mr(function(c){return vr(c,t,r)})(he(e));if(!i)throw new TypeError("Invalid event target");return new pe(function(c){var u=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return c.next(1<s.length?s:s[0])};return i(u),function(){return a(u)}})}function Pp(e,t){return function(r){return function(n){return e[r](t,n)}}}function hb(e){return q(e.addListener)&&q(e.removeListener)}function mb(e){return q(e.on)&&q(e.off)}function vb(e){return q(e.addEventListener)&&q(e.removeEventListener)}var fb,db,pb,Rp=v(()=>{"use strict";$e();ot();kt();di();Qo();Ue();Sp();fb=["addListener","removeListener"],db=["addEventListener","removeEventListener"],pb=["on","off"]});function Mp(e,t,r){e===void 0&&(e=0),r===void 0&&(r=op);var n=-1;return t!=null&&(Yo(t)?r=t:n=t),new pe(function(o){var i=fi(e)?+e-r.now():e;i<0&&(i=0);var a=0;return r.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},i)})}var Ap=v(()=>{"use strict";kt();In();Qs();cu()});function On(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Xo(e),n=ap(e,1/0),o=e;return o.length?o.length===1?he(o[0]):pi(n)(li(o,r)):hr}var Lp=v(()=>{"use strict";fu();ot();$o();Zs();uu()});function it(e,t){return ae(function(r,n){var o=0;r.subscribe(ne(n,function(i){return e.call(t,i,o++)&&n.next(i)}))})}var kp=v(()=>{"use strict";Ye();nt()});var Dp=v(()=>{"use strict"});function du(e){return ae(function(t,r){var n=[];return t.subscribe(ne(r,function(o){return n.push(o)},function(){r.next(n),r.complete()})),he(e).subscribe(ne(r,function(){var o=n;n=[],r.next(o)},fr)),function(){n=null}})}var Np=v(()=>{"use strict";Ye();Wo();nt();ot()});function pu(e,t){return t===void 0&&(t=pr),ae(function(r,n){var o=null,i=null,a=null,c=function(){if(o){o.unsubscribe(),o=null;var s=i;i=null,n.next(s)}};function u(){var s=a+e,l=t.now();if(l<s){o=this.schedule(void 0,s-l),n.add(o);return}c()}r.subscribe(ne(n,function(s){i=s,a=t.now(),o||(o=t.schedule(u,e),n.add(o))},function(){c(),n.complete()},void 0,function(){i=o=null}))})}var Up=v(()=>{"use strict";In();Ye();nt()});function Vr(e){return e<=0?function(){return hr}:ae(function(t,r){var n=0;t.subscribe(ne(r,function(o){++n<=e&&(r.next(o),e<=n&&r.complete())}))})}var hu=v(()=>{"use strict";$o();Ye();nt()});function Fp(){return ae(function(e,t){e.subscribe(ne(t,fr))})}var jp=v(()=>{"use strict";Ye();nt();Wo()});function Vp(e){return Re(function(){return e})}var Bp=v(()=>{"use strict";Cn()});function mu(e,t){return t?function(r){return Cp(t.pipe(Vr(1),Fp()),r.pipe(mu(e)))}:mr(function(r,n){return he(e(r,n)).pipe(Vr(1),Vp(r))})}var Gp=v(()=>{"use strict";Op();hu();jp();Bp();di();ot()});function vu(e,t){t===void 0&&(t=pr);var r=Mp(e,t);return mu(function(){return r})}var Wp=v(()=>{"use strict";In();Gp();Ap()});function gu(){return ae(function(e,t){var r,n=!1;e.subscribe(ne(t,function(o){var i=r;r=o,n&&t.next([i,o]),n=!0}))})}var qp=v(()=>{"use strict";Ye();nt()});function yu(e,t){return ae(function(r,n){var o=null,i=0,a=!1,c=function(){return a&&!o&&n.complete()};r.subscribe(ne(n,function(u){o?.unsubscribe();var s=0,l=i++;he(e(u,l)).subscribe(o=ne(n,function(f){return n.next(t?t(u,f,l,s++):f)},function(){o=null,c()}))},function(){a=!0,c()}))})}var Hp=v(()=>{"use strict";ot();Ye();nt()});var Pn=v(()=>{"use strict";kt();Rp();Lp();$o();Dp();Np();Up();Wp();kp();Cn();qp();Hp();hu();_p()});function Yp(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(e.tagName.toLowerCase()==="html")return"html";var r={root:document.body,idName:function(i){return!0},className:function(i){return!0},tagName:function(i){return!0},attr:function(i,a){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};xt=Ht(Ht({},r),t),_u=gb(xt.root,r);var n=hi(e,"all",function(){return hi(e,"two",function(){return hi(e,"one",function(){return hi(e,"none")})})});if(n){var o=Zp(Jp(n,e));return o.length>0&&(n=o[0]),gi(n)}else throw new Error("Selector was not found.")}function gb(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}function hi(e,t,r){for(var n=null,o=[],i=e,a=0,c=function(){var s,l,f=vi(yb(i))||vi.apply(void 0,Et([],Ae(bb(i)),!1))||vi.apply(void 0,Et([],Ae(_b(i)),!1))||vi(wb(i))||[$p()],d=Sb(i);if(t=="all")d&&(f=f.concat(f.filter(bu).map(function(_){return mi(_,d)})));else if(t=="two")f=f.slice(0,1),d&&(f=f.concat(f.filter(bu).map(function(_){return mi(_,d)})));else if(t=="one"){var p=Ae(f=f.slice(0,1),1),h=p[0];d&&bu(h)&&(f=[mi(h,d)])}else t=="none"&&(f=[$p()],d&&(f=[mi(f[0],d)]));try{for(var m=(s=void 0,rt(f)),y=m.next();!y.done;y=m.next()){var h=y.value;h.level=a}}catch(_){s={error:_}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}if(o.push(f),o.length>=xt.seedMinLength&&(n=zp(o,r),n))return"break";i=i.parentElement,a++};i;){var u=c();if(u==="break")break}return n||(n=zp(o,r)),!n&&r?r():n}function zp(e,t){var r,n,o=e.reduce(function(s,l){return s*l.length},1);if(o>xt.threshold)return t?t():null;var i=Zp(Qp(e));try{for(var a=rt(i),c=a.next();!c.done;c=a.next()){var u=c.value;if(Xp(u))return u}}catch(s){r={error:s}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return null}function gi(e){for(var t=e[0],r=t.name,n=1;n<e.length;n++){var o=e[n].level||0;t.level===o-1?r="".concat(e[n].name," > ").concat(r):r="".concat(e[n].name," ").concat(r),t=e[n]}return r}function Kp(e){return e.map(function(t){return t.penalty}).reduce(function(t,r){return t+r},0)}function Xp(e){var t=gi(e);switch(_u.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function yb(e){var t=e.getAttribute("id");return t&&xt.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function bb(e){var t=Array.from(e.attributes).filter(function(r){return xt.attr(r.name,r.value)});return t.map(function(r){return{name:"[".concat(CSS.escape(r.name),'="').concat(CSS.escape(r.value),'"]'),penalty:.5}})}function _b(e){var t=Array.from(e.classList).filter(xt.className);return t.map(function(r){return{name:"."+CSS.escape(r),penalty:1}})}function wb(e){var t=e.tagName.toLowerCase();return xt.tagName(t)?{name:t,penalty:2}:null}function $p(){return{name:"*",penalty:3}}function Sb(e){var t=e.parentNode;if(!t)return null;var r=t.firstChild;if(!r)return null;for(var n=0;r&&(r.nodeType===Node.ELEMENT_NODE&&n++,r!==e);)r=r.nextSibling;return n}function mi(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function bu(e){return e.name!=="html"&&!e.name.startsWith("#")}function vi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.filter(Eb);return r.length>0?r:null}function Eb(e){return e!=null}function Qp(e,t){var r,n,o,i,a,c;return t===void 0&&(t=[]),sr(this,function(u){switch(u.label){case 0:if(!(e.length>0))return[3,9];u.label=1;case 1:u.trys.push([1,6,7,8]),r=rt(e[0]),n=r.next(),u.label=2;case 2:return n.done?[3,5]:(o=n.value,[5,rt(Qp(e.slice(1,e.length),t.concat(o)))]);case 3:u.sent(),u.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return i=u.sent(),a={error:i},[3,8];case 7:try{n&&!n.done&&(c=r.return)&&c.call(r)}finally{if(a)throw a.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:u.sent(),u.label=11;case 11:return[2]}})}function Zp(e){return Et([],Ae(e),!1).sort(function(t,r){return Kp(t)-Kp(r)})}function Jp(e,t,r){var n,o,i;return r===void 0&&(r={counter:0,visited:new Map}),sr(this,function(a){switch(a.label){case 0:if(!(e.length>2&&e.length>xt.optimizedMinLength))return[3,5];n=1,a.label=1;case 1:return n<e.length-1?r.counter>xt.maxNumberOfTries?[2]:(r.counter+=1,o=Et([],Ae(e),!1),o.splice(n,1),i=gi(o),r.visited.has(i)?[2]:Xp(o)&&xb(o,t)?[4,o]:[3,4]):[3,5];case 2:return a.sent(),r.visited.set(i,!0),[5,rt(Jp(o,t,r))];case 3:a.sent(),a.label=4;case 4:return n++,[3,1];case 5:return[2]}})}function xb(e,t){return _u.querySelector(gi(e))===t}var xt,_u,eh=v(()=>{"use strict";kr()});function ih(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var Tb,yi,th,Ib,wu,bi,Su,Cb,rh,Ob,Eu,xu,Rn,nh,oh,Br,gr=v(()=>{"use strict";eh();ur();Tb=["input","select","textarea"],yi=function(e,t){return function(r,n){var o,i,a,c=e.pageUrlAllowlist,u=e.shouldTrackEventResolver,s=(i=(o=n?.tagName)===null||o===void 0?void 0:o.toLowerCase)===null||i===void 0?void 0:i.call(o);if(!s)return!1;if(u)return u(r,n);if(!Cb(window.location.href,c))return!1;var l=String(n?.getAttribute("type"))||"";if(typeof l=="string")switch(l.toLowerCase()){case"hidden":return!1;case"password":return!1}if(t){var f=t.some(function(p){var h;return!!(!((h=n?.matches)===null||h===void 0)&&h.call(n,p))});if(!f)return!1}switch(s){case"input":case"select":case"textarea":return r==="change"||r==="click";default:{var d=(a=window?.getComputedStyle)===null||a===void 0?void 0:a.call(window,n);return d&&d.getPropertyValue("cursor")==="pointer"&&r==="click"?!0:r==="click"}}}},th=function(e){if(e==null)return!1;if(typeof e=="string"){var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var r=/(^\d{3}-?\d{2}-?\d{4}$)/;if(r.test(e))return!1}return!0},Ib=function(e){return!!e&&e.nodeType===3},wu=function(e){var t,r,n,o=(r=(t=e?.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||r===void 0?void 0:r.call(t),i=e instanceof HTMLElement?((n=e.getAttribute("contenteditable"))===null||n===void 0?void 0:n.toLowerCase())==="true":!1;return!Tb.includes(o)&&!i},bi=function(e){var t="";return wu(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(r){var n="";Ib(r)?r.textContent&&(n=r.textContent):n=bi(r),t+=n.split(/(\s+)/).filter(th).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},Su=function(e,t){var r,n,o="";try{return o=Yp(e,{className:function(l){return l!==wn},maxNumberOfTries:1e3}),o}catch(l){if(t){var i=l;t.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(i.toString()))}}var a=(n=(r=e?.tagName)===null||r===void 0?void 0:r.toLowerCase)===null||n===void 0?void 0:n.call(r);a&&(o=a);var c=e.getAttribute("id"),u=e.getAttribute("class");if(c)o="#".concat(c);else if(u){var s=u.split(" ").filter(function(l){return l!==wn}).join(".");s&&(o="".concat(o,".").concat(s))}return o},Cb=function(e,t){return!t||!t.length?!0:t.some(function(r){return typeof r=="string"?e===r:e.match(r)})},rh=function(e,t){return e.getAttributeNames().reduce(function(r,n){if(n.startsWith(t)){var o=n.replace(t,""),i=e.getAttribute(n);o&&(r[o]=i||"")}return r},{})},Ob=function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},Eu=function(e){return Object.keys(e).reduce(function(t,r){var n=e[r];return Ob(n)||(t[r]=n),t},{})},xu=function(e){var t=e.parentElement;if(!t)return"";var r;try{r=t.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{r=null}if(r){var n=r.textContent||"";return th(n)?n:""}return xu(t)},Rn=function(e,t){return e?t.some(function(r){var n;return(n=e?.matches)===null||n===void 0?void 0:n.call(e,r)})?e:Rn(e?.parentElement,t):null},nh=function(e,t){var r,n,o;if(!e)return{};var i=(o=(n=e?.tagName)===null||n===void 0?void 0:n.toLowerCase)===null||o===void 0?void 0:o.call(n),a=Su(e,t),c=(r={},r[Lo]=i,r[ko]=bi(e),r[Do]=a,r[No]=window.location.href.split("?")[0],r);return Eu(c)},oh=function(e){return new Promise(function(t,r){var n;try{var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.addEventListener("load",function(){t({status:!0})},{once:!0}),o.addEventListener("error",function(){r({status:!1,message:"Failed to load the script ".concat(e)})}),(n=document.head)===null||n===void 0||n.appendChild(o)}catch(i){r(i)}})};Br=function(e){return!(e.event.target===null||!e.closestTrackedAncestor)}});var ah,sh=v(()=>{"use strict";ur();gr();ah=function(){function e(t){var r=t===void 0?{}:t,n=r.origin,o=n===void 0?_n:n,i=this;this.endpoint=_n,this.requestCallbacks={},this.onSelect=function(a){i.notify({action:"element-selected",data:a})},this.onTrack=function(a,c){a==="selector-mode-changed"?i.notify({action:"track-selector-mode-changed",data:c}):a==="selector-moved"&&i.notify({action:"track-selector-moved",data:c})},this.endpoint=o}return e.prototype.notify=function(t){var r,n,o,i;(n=(r=this.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,"Message sent: ",JSON.stringify(t)),(i=(o=window.opener)===null||o===void 0?void 0:o.postMessage)===null||i===void 0||i.call(o,t,this.endpoint)},e.prototype.sendRequest=function(t,r,n){var o=this;n===void 0&&(n={timeout:15e3});var i=ih(),a={id:i,action:t,args:r},c=new Promise(function(u,s){o.requestCallbacks[i]={resolve:u,reject:s},o.notify(a),n?.timeout>0&&setTimeout(function(){s(new Error("".concat(t," timed out (id: ").concat(i,")"))),delete o.requestCallbacks[i]},n.timeout)});return c},e.prototype.handleResponse=function(t){var r;if(!this.requestCallbacks[t.id]){(r=this.logger)===null||r===void 0||r.warn("No callback found for request id: ".concat(t.id));return}this.requestCallbacks[t.id].resolve(t.responseData),delete this.requestCallbacks[t.id]},e.prototype.setup=function(t){var r=this,n=t===void 0?{}:t,o=n.logger,i=n.endpoint,a=n.isElementSelectable,c=n.cssSelectorAllowlist,u=n.actionClickAllowlist;this.logger=o,i&&this.endpoint===_n&&(this.endpoint=i);var s=null;window.addEventListener("message",function(l){var f,d,p,h,m;if((d=(f=r.logger)===null||f===void 0?void 0:f.debug)===null||d===void 0||d.call(f,"Message received: ",JSON.stringify(l)),r.endpoint===l.origin){var y=l?.data,_=y?.action;if(_)if("id"in y)(h=(p=r.logger)===null||p===void 0?void 0:p.debug)===null||h===void 0||h.call(p,"Received Response to previous request: ",JSON.stringify(l)),r.handleResponse(y);else if(_==="ping")r.notify({action:"pong"});else if(_==="initialize-visual-tagging-selector"){var g=y?.data;oh(Ld).then(function(){var b;s=(b=window?.amplitudeVisualTaggingSelector)===null||b===void 0?void 0:b.call(window,{getEventTagProps:nh,isElementSelectable:function(w){return a?a(g?.actionType||"click",w):!0},onTrack:r.onTrack,onSelect:r.onSelect,visualHighlightClass:wn,messenger:r,cssSelectorAllowlist:c,actionClickAllowlist:u}),r.notify({action:"selector-loaded"})}).catch(function(){var b;(b=r.logger)===null||b===void 0||b.warn("Failed to initialize visual tagging selector")})}else _==="close-visual-tagging-selector"&&((m=s?.close)===null||m===void 0||m.call(s))}}),this.notify({action:"page-loaded"})},e}()});function Db(e){var t,r,n,o,i,a;if(e===null)return null;var c=String(e.tagName).toLowerCase(),u={tag:c},s=Array.from((o=(n=e.parentElement)===null||n===void 0?void 0:n.children)!==null&&o!==void 0?o:[]);s.length&&(u.index=s.indexOf(e),u.indexOfType=s.filter(function(w){return w.tagName===e.tagName}).indexOf(e));var l=(a=(i=e.previousElementSibling)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase();l&&(u.prevSib=String(l));var f=e.getAttribute("id");f&&(u.id=String(f));var d=Array.from(e.classList);d.length&&(u.classes=d);var p={},h=Array.from(e.attributes),m=h.filter(function(w){return!Pb.includes(w.name)}),y=!wu(e);if(!Ab.includes(String(e.getAttribute("type")))&&!Mb.includes(c))try{for(var _=rt(m),g=_.next();!g.done;g=_.next()){var b=g.value;y&&!Rb.includes(b.name)||(p[b.name]=String(b.value).substring(0,Lb))}}catch(w){t={error:w}}finally{try{g&&!g.done&&(r=_.return)&&r.call(_)}finally{if(t)throw t.error}}return Object.keys(p).length&&(u.attrs=p),u}function Nb(e){var t=[];if(!e)return t;t.push(e);for(var r=e.parentElement;r&&r.tagName!=="HTML";)t.push(r),r=r.parentElement;return t}function Ub(e,t){for(var r=0,n=0;n<e.length;n++){var o=e[n];if(o===null)r+=4;else{var i=_i(o);r+=i?Array.from(i).length:4}if(r>t)return e.slice(0,n)}return e}function _i(e,t){t===void 0&&(t=!1);try{if(e==null)return t?"None":null;if(typeof e=="string")return t?(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),e.includes('"')?"'".concat(e,"'"):e.includes("'")?'"'.concat(e.replace(/'/g,"\\'"),'"'):"'".concat(e,"'")):e;if(typeof e=="boolean")return e?"True":"False";if(Array.isArray(e)){var r=e.map(function(i){return _i(i,!0)});return"[".concat(r.join(", "),"]")}else if(typeof e=="object"){var n=Object.entries(e).filter(function(i){var a=Ae(i,1),c=a[0];return c!=null}).map(function(i){var a=Ae(i,2),c=a[0],u=a[1];return"".concat(String(_i(c,!0)),": ").concat(String(_i(u,!0)))}),o="{".concat(n.join(", "),"}");return o.includes("\\'")&&(o=o.replace(/'/g,"'").replace(/'/g,"\\'")),o}return e.toString()}catch{return null}}var Pb,Rb,Mb,Ab,Lb,kb,uh,ch=v(()=>{"use strict";kr();gr();Pb=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],Rb=["type"],Mb=["svg","path","g"],Ab=["password","hidden"],Lb=128,kb=1024;uh=function(e){var t=[];if(!e)return[];var r=Nb(e);return t=Ub(r.map(function(n){return Db(n)}),kb),t}});function lh(e){var t=e.amplitude,r=e.allObservables,n=e.options,o=e.shouldTrackEvent,i=r.clickObservable,a=i.pipe(gu(),it(function(l){var f=Ae(l,2),d=f[0],p=f[1],h=d.event.target!==p.event.target,m=Math.abs(p.event.screenX-d.event.screenX)<=20&&Math.abs(p.event.screenY-d.event.screenY)<=20;return h&&!m})),c=i.pipe(pu(n.debounceTime),Re(function(){return"timeout"})),u=On(a,c),s=i.pipe(vu(0),it(Br),it(function(l){return o("click",l.closestTrackedAncestor)}),du(u));return s.subscribe(function(l){var f,d,p=l.length>=Fb?bn:bn;try{for(var h=rt(l),m=h.next();!m.done;m=h.next()){var y=m.value;t?.track(p,y.targetElementProperties,{time:y.timestamp})}}catch(_){f={error:_}}finally{try{m&&!m.done&&(d=h.return)&&d.call(h)}finally{if(f)throw f.error}}})}var Fb,fh=v(()=>{"use strict";kr();Pn();gr();ur();Fb=5});function dh(e){var t=e.amplitude,r=e.allObservables,n=e.getEventProperties,o=e.shouldTrackEvent,i=r.changeObservable,a=i.pipe(it(Br),it(function(c){return o("change",c.closestTrackedAncestor)}));return a.subscribe(function(c){t?.track(bd,n("change",c.closestTrackedAncestor))})}var ph=v(()=>{"use strict";Pn();gr();ur()});function hh(e){var t=e.amplitude,r=e.allObservables,n=e.options,o=e.getEventProperties,i=e.shouldTrackEvent,a=e.shouldTrackActionClick,c=r.clickObservable,u=r.mutationObservable,s=r.navigateObservable,l=c.pipe(it(function(h){return!i("click",h.closestTrackedAncestor)}),Re(function(h){var m=Rn(h.event.target,n.actionClickAllowlist);return h.closestTrackedAncestor=m,h.closestTrackedAncestor!==null&&(h.targetElementProperties=o(h.type,h.closestTrackedAncestor)),h}),it(Br),it(function(h){return a("click",h.closestTrackedAncestor)})),f=[u];s&&f.push(s);var d=On.apply(void 0,Et([],Ae(f),!1)),p=l.pipe(yu(function(h){return d.pipe(Vr(1),lu({first:500,with:function(){return hr}}),Re(function(){return h}))}));return p.subscribe(function(h){t?.track(bn,o("click",h.closestTrackedAncestor),{time:h.timestamp})})}var mh=v(()=>{"use strict";kr();Pn();gr();ur()});function jb(e){return e.type==="click"||e.type==="change"}var Gr,wi,vh=v(()=>{"use strict";kr();gd();ur();Pn();gr();sh();ch();fh();ph();mh();(function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"})(Gr||(Gr={}));wi=function(e){var t,r,n;e===void 0&&(e={});var o=e.dataAttributePrefix,i=o===void 0?Ns:o,a=e.visualTaggingOptions,c=a===void 0?{enabled:!0,messenger:new ah}:a;e.cssSelectorAllowlist=(t=e.cssSelectorAllowlist)!==null&&t!==void 0?t:Ds,e.actionClickAllowlist=(r=e.actionClickAllowlist)!==null&&r!==void 0?r:Us,e.debounceTime=(n=e.debounceTime)!==null&&n!==void 0?n:0;var u=yd,s="enrichment",l=[],f=void 0,d=function(){var g,b=vr(document,"click",{capture:!0}).pipe(Re(function(O){return h(O,"click")})),w=vr(document,"change",{capture:!0}).pipe(Re(function(O){return h(O,"change")})),T;window.navigation&&(T=vr(window.navigation,"navigate").pipe(Re(function(O){return h(O,"navigate")})));var C=new pe(function(O){var x=new MutationObserver(function(A){O.next(A)});return x.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return x.disconnect()}}).pipe(Re(function(O){return h(O,"mutation")}));return g={},g[Gr.ClickObservable]=b,g[Gr.ChangeObservable]=w,g[Gr.NavigateObservable]=T,g[Gr.MutationObservable]=C,g},p=function(g,b){var w,T,C,O=(C=(T=b?.tagName)===null||T===void 0?void 0:T.toLowerCase)===null||C===void 0?void 0:C.call(T),x=typeof b.getBoundingClientRect=="function"?b.getBoundingClientRect():{left:null,top:null},A=b.getAttribute("aria-label"),D=rh(b,i),F=xu(b),E=Su(b,f),S=(w={},w[_d]=b.getAttribute("id")||"",w[wd]=b.getAttribute("class"),w[Sd]=uh(b),w[Lo]=O,w[ko]=bi(b),w[xd]=x.left==null?null:Math.round(x.left),w[Td]=x.top==null?null:Math.round(x.top),w[Id]=A,w[Cd]=D,w[Do]=E,w[Od]=F,w[No]=window.location.href.split("?")[0],w[Pd]=typeof document<"u"&&document.title||"",w[Rd]=window.innerHeight,w[Md]=window.innerWidth,w);return O==="a"&&g==="click"&&b instanceof HTMLAnchorElement&&(S[Ed]=b.href),Eu(S)},h=function(g,b){var w={event:g,timestamp:Date.now(),type:b};if(jb(w)&&w.event.target!==null){var T=Rn(w.event.target,e.cssSelectorAllowlist);return T&&(w.closestTrackedAncestor=T,w.targetElementProperties=p(w.type,T)),w}return w},m=function(g,b){return Ao(void 0,void 0,void 0,function(){var w,T,C,O,x,A,D,F,E,S;return sr(this,function(I){return f=g.loggerProvider,typeof document>"u"?[2]:(w=yi(e,e.cssSelectorAllowlist),T=yi(e,e.actionClickAllowlist),C=d(),O=lh({allObservables:C,options:e,amplitude:b,shouldTrackEvent:w}),l.push(O),x=dh({allObservables:C,getEventProperties:p,amplitude:b,shouldTrackEvent:w}),l.push(x),A=hh({allObservables:C,options:e,getEventProperties:p,amplitude:b,shouldTrackEvent:w,shouldTrackActionClick:T}),l.push(A),(E=g?.loggerProvider)===null||E===void 0||E.log("".concat(u," has been successfully added.")),window.opener&&c.enabled&&(D=e.cssSelectorAllowlist,F=e.actionClickAllowlist,(S=c.messenger)===null||S===void 0||S.setup(Ht(Ht({logger:g?.loggerProvider},g?.serverZone&&{endpoint:Ad[g.serverZone]}),{isElementSelectable:yi(e,Et(Et([],Ae(D),!1),Ae(F),!1)),cssSelectorAllowlist:D,actionClickAllowlist:F}))),[2])})})},y=function(g){return Ao(void 0,void 0,void 0,function(){return sr(this,function(b){return[2,g]})})},_=function(){return Ao(void 0,void 0,void 0,function(){var g,b,w,T,C;return sr(this,function(O){try{for(g=rt(l),b=g.next();!b.done;b=g.next())w=b.value,w.unsubscribe()}catch(x){T={error:x}}finally{try{b&&!b.done&&(C=g.return)&&C.call(g)}finally{if(T)throw T.error}}return[2]})})};return{name:u,type:s,setup:m,execute:y,teardown:_}}});var gh=v(()=>{"use strict";vh()});var yh,bh=v(()=>{"use strict";Q();ze();ft();Je();tf();af();Tf();Vf();Gf();qf();mn();Kf();Yf();md();gh();yh=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,o){r===void 0&&(r="");var i,a;return arguments.length>2?(i=n,a=o):typeof n=="string"?(i=n,a=void 0):(i=n?.userId,a=n),Oe(this._init(U(U({},a),{userId:i,apiKey:r})))},t.prototype._init=function(r){var n,o,i;return R(this,void 0,void 0,function(){var a,c,u,s,l,f,d=this;return M(this,function(p){switch(p.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,xf(r.apiKey,r,this)]);case 1:return a=p.sent(),r.fetchRemoteConfig?[4,hd(a)]:[3,4];case 2:return c=p.sent(),[4,c.generateJoinedConfig()];case 3:a=p.sent(),p.label=4;case 4:return[4,e.prototype._init.call(this,a)];case 5:return p.sent(),this.logBrowserOptions(a),vo(this.config.defaultTracking)?(u=ts(this.config),this.webAttribution=new Wa(u,this.config),[4,this.webAttribution.init()]):[3,7];case 6:p.sent(),p.label=7;case 7:return s=Vt(),l=Number.isNaN(Number(s.ampSessionId))?void 0:Number(s.ampSessionId),this.setSessionId((i=(o=(n=r.sessionId)!==null&&n!==void 0?n:l)!==null&&o!==void 0?o:this.config.sessionId)!==null&&i!==void 0?i:Date.now()),f=Gt(r.instanceName),f.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===ha?[3,9]:[4,this.add($f()).promise];case 8:p.sent(),p.label=9;case 9:return[4,this.add(new Oa).promise];case 10:return p.sent(),[4,this.add(new of).promise];case 11:return p.sent(),[4,this.add(new Ya).promise];case 12:return p.sent(),zf(this.config),Qa(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(Wf()).promise]):[3,14];case 13:p.sent(),p.label=14;case 14:return Za(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(Bf()).promise]):[3,16];case 15:p.sent(),p.label=16;case 16:return go(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(Ps(es(this.config))).promise]):[3,18];case 17:p.sent(),p.label=18;case 18:return bo(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(wi(Ja(this.config))).promise]):[3,20];case 19:p.sent(),p.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return p.sent(),f.eventBridge.setEventReceiver(function(h){d.track(h.eventType,h.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},t.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}this.config.loggerProvider.debug("function setUserId: ",r),(r!==this.config.userId||r===void 0)&&(this.config.userId=r,za(r,this.config.instanceName))},t.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},t.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.loggerProvider.debug("function setDeviceId: ",r),this.config.deviceId=r,Ka(r,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(et()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},t.prototype.setSessionId=function(r){var n,o=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,r)),Oe(Promise.resolve());if(r===this.config.sessionId)return Oe(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",r);var i=this.getSessionId(),a=this.config.lastEventTime,c=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,this.config.pageCounter=0,yo(this.config.defaultTracking)&&(i&&a&&o.push(this.track(ss,void 0,{device_id:this.previousSessionDeviceId,event_id:++c,session_id:i,time:a+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var u=this.trackCampaignEventIfNeeded(++c,o);return yo(this.config.defaultTracking)&&o.push(this.track(as,void 0,{event_id:u?++c:c,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,Oe(Promise.all(o))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=us(r)},t.prototype.identify=function(r,n){if(wo(r)){var o=r._q;r._q=[],r=_o(new lt,o)}return n?.user_id&&this.setUserId(n.user_id),n?.device_id&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,r,n)},t.prototype.groupIdentify=function(r,n,o,i){if(wo(o)){var a=o._q;o._q=[],o=_o(new lt,a)}return e.prototype.groupIdentify.call(this,r,n,o,i)},t.prototype.revenue=function(r,n){if(wo(r)){var o=r._q;r._q=[],r=_o(new ao,o)}return e.prototype.revenue.call(this,r,n)},t.prototype.trackCampaignEventIfNeeded=function(r,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var o=this.webAttribution.generateCampaignEvent(r);return n?n.push(this.track(o).promise):this.track(o),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(r){return R(this,void 0,void 0,function(){var n,o,i;return M(this,function(a){return n=Date.now(),o=ln(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),r.event_type!==as&&r.event_type!==ss&&(!r.session_id||r.session_id===this.getSessionId())&&(o||i?(this.setSessionId(n),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):o||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,r)]})})},t.prototype.logBrowserOptions=function(r){try{var n=U(U({},r),{apiKey:r.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(n))}catch(o){this.config.loggerProvider.error("Error logging browser config",o)}},t}(Ea)});var Vb,ge,_h=v(()=>{"use strict";ze();bh();Vb=function(){var e=new yh;return{init:de(e.init.bind(e),"init",le(e),fe(e,["config"])),add:de(e.add.bind(e),"add",le(e),fe(e,["config.apiKey","timeline.plugins"])),remove:de(e.remove.bind(e),"remove",le(e),fe(e,["config.apiKey","timeline.plugins"])),track:de(e.track.bind(e),"track",le(e),fe(e,["config.apiKey","timeline.queue.length"])),logEvent:de(e.logEvent.bind(e),"logEvent",le(e),fe(e,["config.apiKey","timeline.queue.length"])),identify:de(e.identify.bind(e),"identify",le(e),fe(e,["config.apiKey","timeline.queue.length"])),groupIdentify:de(e.groupIdentify.bind(e),"groupIdentify",le(e),fe(e,["config.apiKey","timeline.queue.length"])),setGroup:de(e.setGroup.bind(e),"setGroup",le(e),fe(e,["config.apiKey","timeline.queue.length"])),revenue:de(e.revenue.bind(e),"revenue",le(e),fe(e,["config.apiKey","timeline.queue.length"])),flush:de(e.flush.bind(e),"flush",le(e),fe(e,["config.apiKey","timeline.queue.length"])),getUserId:de(e.getUserId.bind(e),"getUserId",le(e),fe(e,["config","config.userId"])),setUserId:de(e.setUserId.bind(e),"setUserId",le(e),fe(e,["config","config.userId"])),getDeviceId:de(e.getDeviceId.bind(e),"getDeviceId",le(e),fe(e,["config","config.deviceId"])),setDeviceId:de(e.setDeviceId.bind(e),"setDeviceId",le(e),fe(e,["config","config.deviceId"])),reset:de(e.reset.bind(e),"reset",le(e),fe(e,["config","config.userId","config.deviceId"])),getSessionId:de(e.getSessionId.bind(e),"getSessionId",le(e),fe(e,["config"])),setSessionId:de(e.setSessionId.bind(e),"setSessionId",le(e),fe(e,["config"])),extendSession:de(e.extendSession.bind(e),"extendSession",le(e),fe(e,["config"])),setOptOut:de(e.setOptOut.bind(e),"setOptOut",le(e),fe(e,["config"])),setTransport:de(e.setTransport.bind(e),"setTransport",le(e),fe(e,["config"]))}},ge=Vb()});var wh,EM,xM,TM,IM,CM,OM,Sh,Eh,PM,MM,AM,LM,kM,DM,NM,UM,FM,xh,Th,Ih=v(()=>{"use strict";_h();ze();wh=ge.add,EM=ge.extendSession,xM=ge.flush,TM=ge.getDeviceId,IM=ge.getSessionId,CM=ge.getUserId,OM=ge.groupIdentify,Sh=ge.identify,Eh=ge.init,PM=ge.logEvent,MM=ge.remove,AM=ge.reset,LM=ge.revenue,kM=ge.setDeviceId,DM=ge.setGroup,NM=ge.setOptOut,UM=ge.setSessionId,FM=ge.setTransport,xh=ge.setUserId,Th=ge.track});function yr(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function br(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var zt,Ch=v(()=>{"use strict";zt=function(){return zt=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zt.apply(this,arguments)}});function Oh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function B(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function V(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function vt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Tt(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Tu,Z,st=v(()=>{"use strict";Tu=function(e,t){return Tu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Tu(e,t)};Z=function(){return Z=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Z.apply(this,arguments)}});function Ph(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Iu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Rh(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}function Mh(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(l){return u([s,l])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var Iu,Ah=v(()=>{"use strict";Iu=function(e,t){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Iu(e,t)}});var He,Lh=v(()=>{"use strict";He=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof window<"u")return window}});var Cu,kh=v(()=>{"use strict";Ah();St();Cu=function(e){Ph(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return Rh(this,void 0,void 0,function(){var o,i,a;return Mh(this,function(c){switch(c.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return o={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,o)];case 1:return i=c.sent(),[4,i.text()];case 2:a=c.sent();try{return[2,this.buildResponse(JSON.parse(a))]}catch{return[2,this.buildResponse({code:i.status})]}return[2]}})})},t}(Lt)});var Si,Dh=v(()=>{"use strict";Ha();Si=function(e){return e===void 0&&(e="$default_instance"),mo.getInstance(e)}});var Kt=v(()=>{"use strict";kh();Dh();Lh()});var Nh,Uh,Fh,jh,Vh,Bh,Ei,Gh,Wh,qh,Hh,oA,zh,Kh,$h,Yh,Xh,iA,Wr=v(()=>{"use strict";St();dt();Nh="[Amplitude]",Uh="".concat(Nh," Session Replay ID"),Fh=0,jh=We.US,Vh="".concat(Nh," Session Replay Debug"),Bh="amp-block",Ei="amp-mask",Gh="amp-unmask",Wh="https://api-sr.amplitude.com/sessions/v2/track",qh="https://api-sr.eu.amplitude.com/sessions/v2/track",Hh="https://api-sr.stag2.amplitude.com/sessions/v2/track",oA="".concat(Oo,"_replay_unsent"),zh=1*1e6,Kh=3e4,$h=6e4,Yh=500,Xh=10*1e3,iA=1e3*60*60*24*3});var Ou,Qh,Pu=v(()=>{"use strict";st();Kt();St();dt();Wr();Ou=function(){return{flushMaxRetries:2,logLevel:Pe.Warn,loggerProvider:new Wt,transportProvider:new Cu}},Qh=function(e){Oh(t,e);function t(r,n){var o=this,i=Ou();return o=e.call(this,Z(Z({transportProvider:i.transportProvider},n),{apiKey:r}))||this,o.flushMaxRetries=n.flushMaxRetries!==void 0&&n.flushMaxRetries<=i.flushMaxRetries?n.flushMaxRetries:i.flushMaxRetries,o.apiKey=r,o.sampleRate=n.sampleRate||Fh,o.serverZone=n.serverZone||jh,o.configEndpointUrl=n.configEndpointUrl,o.shouldInlineStylesheet=n.shouldInlineStylesheet,n.privacyConfig&&(o.privacyConfig=n.privacyConfig),n.debugMode&&(o.debugMode=n.debugMode),o}return t}(ks)});function Bb(e){return e.nodeType===e.ELEMENT_NODE}function Er(e){let t=e?.host;return t?.shadowRoot===e}function wr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Gb(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Wb(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function xi(e){try{let t=e.rules||e.cssRules;return t?Gb(Array.from(t,Ru).join("")):null}catch{return null}}function Ru(e){let t;if(Hb(e))try{t=xi(e.styleSheet)||Wb(e)}catch{}else if(zb(e)&&e.selectorText.includes(":"))return qb(e.cssText);return t||e.cssText}function qb(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Hb(e){return"styleSheet"in e}function zb(e){return"selectorText"in e}function em(){return new Ti}function An({element:e,maskInputOptions:t,tagName:r,type:n,value:o,maskInputFn:i}){let a=o||"",c=n&&Dt(n);return(t[r.toLowerCase()]||c&&t[c])&&(i?a=i(a,e):a="*".repeat(a.length)),a}function Dt(e){return e.toLowerCase()}function Kb(e){let t=e.getContext("2d");if(!t)return!0;let r=50;for(let n=0;n<e.width;n+=r)for(let o=0;o<e.height;o+=r){let i=t.getImageData,a=Zh in i?i[Zh]:i;if(new Uint32Array(a.call(t,n,o,Math.min(r,e.width-n),Math.min(r,e.height-o)).data.buffer).some(u=>u!==0))return!1}return!0}function Ln(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Dt(t):null}function Mu(){return $b++}function Xb(e){if(e instanceof HTMLFormElement)return"form";let t=Dt(e.tagName);return Yb.test(t)?"div":t}function Qb(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}function Ii(e,t){return(e||"").replace(Zb,(r,n,o,i,a,c)=>{let u=o||a||c,s=n||i||"";if(!u)return r;if(Jb.test(u)||e_.test(u))return`url(${s}${u}${s})`;if(t_.test(u))return`url(${s}${u}${s})`;if(u[0]==="/")return`url(${s}${Qb(t)+u}${s})`;let l=t.split("/"),f=u.split("/");l.pop();for(let d of f)d!=="."&&(d===".."?l.pop():l.push(d));return`url(${s}${l.join("/")}${s})`})}function o_(e,t){if(t.trim()==="")return t;let r=0;function n(i){let a,c=i.exec(t.substring(r));return c?(a=c[0],r+=a.length,a):""}let o=[];for(;n(n_),!(r>=t.length);){let i=n(r_);if(i.slice(-1)===",")i=Hr(e,i.substring(0,i.length-1)),o.push(i);else{let a="";i=Hr(e,i);let c=!1;for(;;){let u=t.charAt(r);if(u===""){o.push((i+a).trim());break}else if(c)u===")"&&(c=!1);else if(u===","){r+=1,o.push((i+a).trim());break}else u==="("&&(c=!0);a+=u,r+=1}}}return o.join(", ")}function Hr(e,t){if(!t||t.trim()==="")return t;let r=e.createElement("a");return r.href=t,r.href}function i_(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Au(){let e=document.createElement("a");return e.href="",e.href}function Lu(e,t,r,n){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?Hr(e,n):r==="srcset"?o_(e,n):r==="style"?Ii(n,Au()):t==="object"&&r==="data"?Hr(e,n):n)}function ku(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function a_(e,t,r){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){let o=e.classList[n];if(t.test(o))return!0}if(r)return e.matches(r)}catch{}return!1}function Mn(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return r?Mn(e.parentNode,t,r):!1;for(let n=e.classList.length;n--;){let o=e.classList[n];if(t.test(o))return!0}return r?Mn(e.parentNode,t,r):!1}function Du(e,t,r){try{let n=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(n===null)return!1;if(typeof t=="string"){if(n.classList.contains(t)||n.closest(`.${t}`))return!0}else if(Mn(n,t,!0))return!0;if(r&&(n.matches(r)||n.closest(r)))return!0}catch{}return!1}function s_(e,t,r){let n=e.contentWindow;if(!n)return;let o=!1,i;try{i=n.document.readyState}catch{return}if(i!=="complete"){let c=setTimeout(()=>{o||(t(),o=!0)},r);e.addEventListener("load",()=>{clearTimeout(c),o=!0,t()});return}let a="about:blank";if(n.location.href!==a||e.src===a||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function u_(e,t,r){let n=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(i),n=!0,t()})}function c_(e,t){let{doc:r,mirror:n,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,inlineStylesheet:u,maskInputOptions:s={},maskTextFn:l,maskInputFn:f,dataURLOptions:d={},inlineImages:p,recordCanvas:h,keepIframeSrcFn:m,newlyAddedElement:y=!1}=t,_=l_(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:_e.Document,childNodes:[],compatMode:e.compatMode}:{type:_e.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:_e.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return d_(e,{doc:r,blockClass:o,blockSelector:i,inlineStylesheet:u,maskInputOptions:s,maskInputFn:f,dataURLOptions:d,inlineImages:p,recordCanvas:h,keepIframeSrcFn:m,newlyAddedElement:y,rootId:_});case e.TEXT_NODE:return f_(e,{maskTextClass:a,maskTextSelector:c,maskTextFn:l,rootId:_});case e.CDATA_SECTION_NODE:return{type:_e.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:_e.Comment,textContent:e.textContent||"",rootId:_};default:return!1}}function l_(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return r===1?void 0:r}function f_(e,t){var r;let{maskTextClass:n,maskTextSelector:o,maskTextFn:i,rootId:a}=t,c=e.parentNode&&e.parentNode.tagName,u=e.textContent,s=c==="STYLE"?!0:void 0,l=c==="SCRIPT"?!0:void 0;if(s&&u){try{e.nextSibling||e.previousSibling||!((r=e.parentNode.sheet)===null||r===void 0)&&r.cssRules&&(u=xi(e.parentNode.sheet))}catch(f){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${f}`,e)}u=Ii(u,Au())}return l&&(u="SCRIPT_PLACEHOLDER"),!s&&!l&&u&&Du(e,n,o)&&(u=i?i(u,e.parentElement):u.replace(/[\S]/g,"*")),{type:_e.Text,textContent:u||"",isStyle:s,rootId:a}}function d_(e,t){let{doc:r,blockClass:n,blockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskInputFn:c,dataURLOptions:u={},inlineImages:s,recordCanvas:l,keepIframeSrcFn:f,newlyAddedElement:d=!1,rootId:p}=t,h=a_(e,n,o),m=Xb(e),y={},_=e.attributes.length;for(let g=0;g<_;g++){let b=e.attributes[g];ku(m,b.name,b.value)||(y[b.name]=Lu(r,m,Dt(b.name),b.value))}if(m==="link"&&i){let g=Array.from(r.styleSheets).find(w=>w.href===e.href),b=null;g&&(b=xi(g)),b&&(delete y.rel,delete y.href,y._cssText=Ii(b,g.href))}if(m==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let g=xi(e.sheet);g&&(y._cssText=Ii(g,Au()))}if(m==="input"||m==="textarea"||m==="select"){let g=e.value,b=e.checked;if(y.type!=="radio"&&y.type!=="checkbox"&&y.type!=="submit"&&y.type!=="button"&&g){let w=Ln(e);y.value=An({element:e,type:w,tagName:m,value:g,maskInputOptions:a,maskInputFn:c})}else b&&(y.checked=b)}if(m==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),m==="canvas"&&l){if(e.__context==="2d")Kb(e)||(y.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){let g=e.toDataURL(u.type,u.quality),b=document.createElement("canvas");b.width=e.width,b.height=e.height;let w=b.toDataURL(u.type,u.quality);g!==w&&(y.rr_dataURL=g)}}if(m==="img"&&s){qr||(qr=r.createElement("canvas"),Jh=qr.getContext("2d"));let g=e,b=g.crossOrigin;g.crossOrigin="anonymous";let w=()=>{g.removeEventListener("load",w);try{qr.width=g.naturalWidth,qr.height=g.naturalHeight,Jh.drawImage(g,0,0),y.rr_dataURL=qr.toDataURL(u.type,u.quality)}catch(T){console.warn(`Cannot inline img src=${g.currentSrc}! Error: ${T}`)}b?y.crossOrigin=b:g.removeAttribute("crossorigin")};g.complete&&g.naturalWidth!==0?w():g.addEventListener("load",w)}if((m==="audio"||m==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),d||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),h){let{width:g,height:b}=e.getBoundingClientRect();y={class:y.class,rr_width:`${g}px`,rr_height:`${b}px`}}return m==="iframe"&&!f(y.src)&&(e.contentDocument||(y.rr_src=y.src),delete y.src),{type:_e.Element,tagName:m,attributes:y,childNodes:[],isSVG:i_(e)||void 0,needBlock:h,rootId:p}}function te(e){return e==null?"":e.toLowerCase()}function p_(e,t){if(t.comment&&e.type===_e.Comment)return!0;if(e.type===_e.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(te(e.attributes.name).match(/^msapplication-tile(image|color)$/)||te(e.attributes.name)==="application-name"||te(e.attributes.rel)==="icon"||te(e.attributes.rel)==="apple-touch-icon"||te(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&te(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(te(e.attributes.property).match(/^(og|twitter|fb):/)||te(e.attributes.name).match(/^(og|twitter):/)||te(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(te(e.attributes.name)==="robots"||te(e.attributes.name)==="googlebot"||te(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(te(e.attributes.name)==="author"||te(e.attributes.name)==="generator"||te(e.attributes.name)==="framework"||te(e.attributes.name)==="publisher"||te(e.attributes.name)==="progid"||te(e.attributes.property).match(/^article:/)||te(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(te(e.attributes.name)==="google-site-verification"||te(e.attributes.name)==="yandex-verification"||te(e.attributes.name)==="csrf-token"||te(e.attributes.name)==="p:domain_verify"||te(e.attributes.name)==="verify-v1"||te(e.attributes.name)==="verification"||te(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function _r(e,t){let{doc:r,mirror:n,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,skipChild:u=!1,inlineStylesheet:s=!0,maskInputOptions:l={},maskTextFn:f,maskInputFn:d,slimDOMOptions:p,dataURLOptions:h={},inlineImages:m=!1,recordCanvas:y=!1,onSerialize:_,onIframeLoad:g,iframeLoadTimeout:b=5e3,onStylesheetLoad:w,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:O=!1}=t,{preserveWhiteSpace:x=!0}=t,A=c_(e,{doc:r,mirror:n,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,inlineStylesheet:s,maskInputOptions:l,maskTextFn:f,maskInputFn:d,dataURLOptions:h,inlineImages:m,recordCanvas:y,keepIframeSrcFn:C,newlyAddedElement:O});if(!A)return console.warn(e,"not serialized"),null;let D;n.hasNode(e)?D=n.getId(e):p_(A,p)||!x&&A.type===_e.Text&&!A.isStyle&&!A.textContent.replace(/^\s+|\s+$/gm,"").length?D=Sr:D=Mu();let F=Object.assign(A,{id:D});if(n.add(e,F),D===Sr)return null;_&&_(e);let E=!u;if(F.type===_e.Element){E=E&&!F.needBlock,delete F.needBlock;let S=e.shadowRoot;S&&wr(S)&&(F.isShadowHost=!0)}if((F.type===_e.Document||F.type===_e.Element)&&E){p.headWhitespace&&F.type===_e.Element&&F.tagName==="head"&&(x=!1);let S={doc:r,mirror:n,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,skipChild:u,inlineStylesheet:s,maskInputOptions:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:p,dataURLOptions:h,inlineImages:m,recordCanvas:y,preserveWhiteSpace:x,onSerialize:_,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:T,keepIframeSrcFn:C};for(let I of Array.from(e.childNodes)){let L=_r(I,S);L&&F.childNodes.push(L)}if(Bb(e)&&e.shadowRoot)for(let I of Array.from(e.shadowRoot.childNodes)){let L=_r(I,S);L&&(wr(e.shadowRoot)&&(L.isShadow=!0),F.childNodes.push(L))}}return e.parentNode&&Er(e.parentNode)&&wr(e.parentNode)&&(F.isShadow=!0),F.type===_e.Element&&F.tagName==="iframe"&&s_(e,()=>{let S=e.contentDocument;if(S&&g){let I=_r(S,{doc:S,mirror:n,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,skipChild:!1,inlineStylesheet:s,maskInputOptions:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:p,dataURLOptions:h,inlineImages:m,recordCanvas:y,preserveWhiteSpace:x,onSerialize:_,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:T,keepIframeSrcFn:C});I&&g(e,I)}},b),F.type===_e.Element&&F.tagName==="link"&&F.attributes.rel==="stylesheet"&&u_(e,()=>{if(w){let S=_r(e,{doc:r,mirror:n,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,skipChild:!1,inlineStylesheet:s,maskInputOptions:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:p,dataURLOptions:h,inlineImages:m,recordCanvas:y,preserveWhiteSpace:x,onSerialize:_,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:T,keepIframeSrcFn:C});S&&w(e,S)}},T),F}function tm(e,t){let{mirror:r=new Ti,blockClass:n="rr-block",blockSelector:o=null,maskTextClass:i="rr-mask",maskTextSelector:a=null,inlineStylesheet:c=!0,inlineImages:u=!1,recordCanvas:s=!1,maskAllInputs:l=!1,maskTextFn:f,maskInputFn:d,slimDOM:p=!1,dataURLOptions:h,preserveWhiteSpace:m,onSerialize:y,onIframeLoad:_,iframeLoadTimeout:g,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:T=()=>!1}=t||{};return _r(e,{doc:e,mirror:r,blockClass:n,blockSelector:o,maskTextClass:i,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:l===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:l===!1?{password:!0}:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:p===!0||p==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:p==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:p===!1?{}:p,dataURLOptions:h,inlineImages:u,recordCanvas:s,preserveWhiteSpace:m,onSerialize:y,onIframeLoad:_,iframeLoadTimeout:g,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:T,newlyAddedElement:!1})}var _e,Ti,Zh,$b,Yb,Sr,qr,Jh,Zb,Jb,e_,t_,r_,n_,h_,pA,m_,hA,$t=v(()=>{"use strict";(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(_e||(_e={}));Ti=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var r;if(!t)return-1;let n=(r=this.getMeta(t))===null||r===void 0?void 0:r.id;return n??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){let n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){let n=this.getNode(t);if(n){let o=this.nodeMetaMap.get(n);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};Zh="__rrweb_original__";$b=1,Yb=new RegExp("[^a-z0-9-_:]"),Sr=-2;Zb=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Jb=/^(?:[a-z+]+:)?\/\//i,e_=/^www\..*/i,t_=/^(data:)([^,]*),(.*)/i;r_=/^[^ \t\n\r\u000c]+/,n_=/^[, \t\n\r\u000c]+/;h_=/(max|min)-device-(width|height)/,pA=new RegExp(h_.source,"g"),m_=/([^\\]):hover/,hA=new RegExp(m_.source,"g")});var $,K,Fe,It,Nt,xr=v(()=>{"use strict";$=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))($||{}),K=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e))(K||{}),Fe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Fe||{}),It=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(It||{}),Nt=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Nt||{})});var Cr={};qg(Cr,{StyleSheetMirror:()=>kn,_mirror:()=>Nu,closestElementOfNode:()=>Ci,getBaseDimension:()=>nm,getNestedRule:()=>om,getPositionsAndIndex:()=>g_,getRootShadowHost:()=>im,getShadowHost:()=>Pi,getWindowHeight:()=>Nn,getWindowScroll:()=>Dn,getWindowWidth:()=>Un,hasShadowRoot:()=>Kr,hookSetter:()=>Yt,inDom:()=>Gn,isAncestorRemoved:()=>Oi,isBlocked:()=>me,isIgnored:()=>Fn,isSerialized:()=>Uu,isSerializedIframe:()=>Vn,isSerializedStylesheet:()=>Bn,iterateResolveTree:()=>rm,legacy_isTouchEvent:()=>jn,nowTimestamp:()=>Ir,on:()=>Ce,patch:()=>gt,polyfill:()=>Fu,queueToResolveTrees:()=>v_,shadowHostInDom:()=>am,throttle:()=>Tr,uniqueTextMutations:()=>y_});function Ce(e,t,r=document){let n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Tr(e,t,r={}){let n=null,o=0;return function(...i){let a=Date.now();!o&&r.leading===!1&&(o=a);let c=t-(a-o),u=this;c<=0||c>t?(n&&(clearTimeout(n),n=null),o=a,e.apply(u,i)):!n&&r.trailing!==!1&&(n=setTimeout(()=>{o=r.leading===!1?0:Date.now(),n=null,e.apply(u,i)},c))}}function Yt(e,t,r,n,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set(a){setTimeout(()=>{r.set.call(this,a)},0),i&&i.set&&i.set.call(this,a)}}),()=>Yt(e,t,i||{},!0)}function gt(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],o=r(n);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch{return()=>{}}}function Dn(e){var t,r,n,o,i,a;let c=e.document;return{left:c.scrollingElement?c.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:c?.documentElement.scrollLeft||((r=(t=c?.body)===null||t===void 0?void 0:t.parentElement)===null||r===void 0?void 0:r.scrollLeft)||((n=c?.body)===null||n===void 0?void 0:n.scrollLeft)||0,top:c.scrollingElement?c.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:c?.documentElement.scrollTop||((i=(o=c?.body)===null||o===void 0?void 0:o.parentElement)===null||i===void 0?void 0:i.scrollTop)||((a=c?.body)===null||a===void 0?void 0:a.scrollTop)||0}}function Nn(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Un(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ci(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function me(e,t,r,n){if(!e)return!1;let o=Ci(e);if(!o)return!1;try{if(typeof t=="string"){if(o.classList.contains(t)||n&&o.closest("."+t)!==null)return!0}else if(Mn(o,t,n))return!0}catch{}return!!(r&&(o.matches(r)||n&&o.closest(r)!==null))}function Uu(e,t){return t.getId(e)!==-1}function Fn(e,t){return t.getId(e)===Sr}function Oi(e,t){if(Er(e))return!1;let r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Oi(e.parentNode,t):!0:!0}function jn(e){return!!e.changedTouches}function Fu(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function v_(e){let t={},r=(o,i)=>{let a={value:o,parent:i,children:[]};return t[o.node.id]=a,a},n=[];for(let o of e){let{nextId:i,parentId:a}=o;if(i&&i in t){let c=t[i];if(c.parent){let u=c.parent.children.indexOf(c);c.parent.children.splice(u,0,r(o,c.parent))}else{let u=n.indexOf(c);n.splice(u,0,r(o,null))}continue}if(a in t){let c=t[a];c.children.push(r(o,c));continue}n.push(r(o,null))}return n}function rm(e,t){t(e.value);for(let r=e.children.length-1;r>=0;r--)rm(e.children[r],t)}function Vn(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Bn(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function nm(e,t){var r,n;let o=(n=(r=e.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||n===void 0?void 0:n.frameElement;if(!o||o===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};let i=o.getBoundingClientRect(),a=nm(o,t),c=i.height/o.clientHeight;return{x:i.x*a.relativeScale+a.x,y:i.y*a.relativeScale+a.y,relativeScale:c,absoluteScale:a.absoluteScale*c}}function Kr(e){return!!e?.shadowRoot}function om(e,t){let r=e[t[0]];return t.length===1?r:om(r.cssRules[t[1]].cssRules,t.slice(2))}function g_(e){let t=[...e],r=t.pop();return{positions:t,index:r}}function y_(e){let t=new Set,r=[];for(let n=e.length;n--;){let o=e[n];t.has(o.id)||(r.push(o),t.add(o.id))}return r}function Pi(e){var t,r;let n=null;return((r=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||r===void 0?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function im(e){let t=e,r;for(;r=Pi(t);)t=r;return t}function am(e){let t=e.ownerDocument;if(!t)return!1;let r=im(e);return t.contains(r)}function Gn(e){let t=e.ownerDocument;return t?t.contains(e)||am(e):!1}var zr,Nu,Ir,kn,yt=v(()=>{"use strict";$t();zr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Nu={map:{},getId(){return console.error(zr),-1},getNode(){return console.error(zr),null},removeNodeFromMap(){console.error(zr)},has(){return console.error(zr),!1},reset(){console.error(zr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Nu=new Proxy(Nu,{get(e,t,r){return t==="map"&&console.error(zr),Reflect.get(e,t,r)}}));Ir=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ir=()=>new Date().getTime());kn=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var r;return(r=this.styleIDMap.get(t))!==null&&r!==void 0?r:-1}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}});function sm(e){Wn=e}function um(){Wn=void 0}function ju(e){return(...t)=>{try{return e(...t)}catch(r){try{r._external_=!0}catch{}throw r}}}var Wn,H,Vu=v(()=>{"use strict";H=e=>Wn?(...r)=>{try{return e(...r)}catch(n){if(Wn&&Wn(n)===!0)return;throw n}}:e});var qn,cm=v(()=>{"use strict";qn=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,o){let i=n||this.getIdToRemoteIdMap(t),a=o||this.getRemoteIdToIdMap(t),c=i.get(r);return c||(c=this.generateIdFn(),i.set(r,c),a.set(c,r)),c}getIds(t,r){let n=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return r.map(i=>this.getId(t,i,n,o))}getRemoteId(t,r,n){let o=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;let i=o.get(r);return i||-1}getRemoteIds(t,r){let n=this.getRemoteIdToIdMap(t);return r.map(o=>this.getRemoteId(t,o,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}}});var Ri,lm=v(()=>{"use strict";$t();xr();cm();Ri=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new qn(Mu),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new qn(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(n=this.loadListener)===null||n===void 0||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,r.data.event);i&&this.wrappedEmit(i,r.data.isCheckout)}transformCrossOriginEvent(t,r){var n;switch(r.type){case $.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);let o=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,o),this.patchRootIdOnNode(r.data.node,o),{timestamp:r.timestamp,type:$.IncrementalSnapshot,data:{source:K.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case $.Meta:case $.Load:case $.DomContentLoaded:return!1;case $.Plugin:return r;case $.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case $.IncrementalSnapshot:switch(r.data.source){case K.Mutation:return r.data.adds.forEach(o=>{this.replaceIds(o,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(o.node,t);let i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(o.node,i)}),r.data.removes.forEach(o=>{this.replaceIds(o,t,["parentId","id"])}),r.data.attributes.forEach(o=>{this.replaceIds(o,t,["id"])}),r.data.texts.forEach(o=>{this.replaceIds(o,t,["id"])}),r;case K.Drag:case K.TouchMove:case K.MouseMove:return r.data.positions.forEach(o=>{this.replaceIds(o,t,["id"])}),r;case K.ViewportResize:return!1;case K.MediaInteraction:case K.MouseInteraction:case K.Scroll:case K.CanvasMutation:case K.Input:return this.replaceIds(r.data,t,["id"]),r;case K.StyleSheetRule:case K.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case K.Font:return r;case K.Selection:return r.data.ranges.forEach(o=>{this.replaceIds(o,t,["start","end"])}),r;case K.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),(n=r.data.styles)===null||n===void 0||n.forEach(o=>{this.replaceStyleIds(o,t,["styleId"])}),r}}}replace(t,r,n,o){for(let i of o)!Array.isArray(r[i])&&typeof r[i]!="number"||(Array.isArray(r[i])?r[i]=t.getIds(n,r[i]):r[i]=t.getId(n,r[i]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==_e.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}}});function fm(e){return"__ln"in e}function Gu(e,t){e.delete(t),t.childNodes.forEach(r=>Gu(e,r))}function pm(e,t,r){return e.length===0?!1:mm(e,t,r)}function mm(e,t,r){let{parentNode:n}=t;if(!n)return!1;let o=r.getId(n);return e.some(i=>i.id===o)?!0:mm(e,n,r)}function hm(e,t){return e.size===0?!1:vm(e,t)}function vm(e,t){let{parentNode:r}=t;return r?e.has(r)?!0:vm(e,r):!1}var Bu,dm,Mi,gm=v(()=>{"use strict";$t();yt();Bu=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=r?.next||null;return r}addNode(t){let r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&fm(t.previousSibling)){let n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&fm(t.nextSibling)&&t.nextSibling.__ln.previous){let n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){let r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},dm=(e,t)=>`${e}@${t}`,Mi=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],r=new Set,n=new Bu,o=u=>{let s=u,l=Sr;for(;l===Sr;)s=s&&s.nextSibling,l=s&&this.mirror.getId(s);return l},i=u=>{if(!u.parentNode||!Gn(u))return;let s=Er(u.parentNode)?this.mirror.getId(Pi(u)):this.mirror.getId(u.parentNode),l=o(u);if(s===-1||l===-1)return n.addNode(u);let f=_r(u,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:d=>{Vn(d,this.mirror)&&this.iframeManager.addIframe(d),Bn(d,this.mirror)&&this.stylesheetManager.trackLinkElement(d),Kr(u)&&this.shadowDomManager.addShadowRoot(u.shadowRoot,this.doc)},onIframeLoad:(d,p)=>{this.iframeManager.attachIframe(d,p),this.shadowDomManager.observeAttachShadow(d)},onStylesheetLoad:(d,p)=>{this.stylesheetManager.attachLinkElement(d,p)}});f&&(t.push({parentId:s,nextId:l,node:f}),r.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let u of this.movedSet)pm(this.removes,u,this.mirror)&&!this.movedSet.has(u.parentNode)||i(u);for(let u of this.addedSet)!hm(this.droppedSet,u)&&!pm(this.removes,u,this.mirror)||hm(this.movedSet,u)?i(u):this.droppedSet.add(u);let a=null;for(;n.length;){let u=null;if(a){let s=this.mirror.getId(a.value.parentNode),l=o(a.value);s!==-1&&l!==-1&&(u=a)}if(!u){let s=n.tail;for(;s;){let l=s;if(s=s.previous,l){let f=this.mirror.getId(l.value.parentNode);if(o(l.value)===-1)continue;if(f!==-1){u=l;break}else{let p=l.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=p.parentNode.host;if(this.mirror.getId(h)!==-1){u=l;break}}}}}}if(!u){for(;n.head;)n.removeNode(n.head.value);break}a=u.previous,n.removeNode(u.value),i(u.value)}let c={texts:this.texts.map(u=>({id:this.mirror.getId(u.node),value:u.value})).filter(u=>!r.has(u.id)).filter(u=>this.mirror.has(u.id)),attributes:this.attributes.map(u=>{let{attributes:s}=u;if(typeof s.style=="string"){let l=JSON.stringify(u.styleDiff),f=JSON.stringify(u._unchangedStyles);l.length<s.style.length&&(l+f).split("var(").length===s.style.split("var(").length&&(s.style=u.styleDiff)}return{id:this.mirror.getId(u.node),attributes:s}}).filter(u=>!r.has(u.id)).filter(u=>this.mirror.has(u.id)),removes:this.removes,adds:t};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=t=>{if(!Fn(t.target,this.mirror))switch(t.type){case"characterData":{let r=t.target.textContent;!me(t.target,this.blockClass,this.blockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:Du(t.target,this.maskTextClass,this.maskTextSelector)&&r?this.maskTextFn?this.maskTextFn(r,Ci(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,n=t.attributeName,o=t.target.getAttribute(n);if(n==="value"){let a=Ln(r);o=An({element:r,maskInputOptions:this.maskInputOptions,tagName:r.tagName,type:a,value:o,maskInputFn:this.maskInputFn})}if(me(t.target,this.blockClass,this.blockSelector,!1)||o===t.oldValue)return;let i=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(o))if(!r.contentDocument)n="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!ku(r.tagName,n)&&(i.attributes[n]=Lu(this.doc,Dt(r.tagName),Dt(n),o),n==="style")){let a;try{a=document.implementation.createHTMLDocument()}catch{a=this.doc}let c=a.createElement("span");t.oldValue&&c.setAttribute("style",t.oldValue);for(let u of Array.from(r.style)){let s=r.style.getPropertyValue(u),l=r.style.getPropertyPriority(u);s!==c.style.getPropertyValue(u)||l!==c.style.getPropertyPriority(u)?l===""?i.styleDiff[u]=s:i.styleDiff[u]=[s,l]:i._unchangedStyles[u]=[s,l]}for(let u of Array.from(c.style))r.style.getPropertyValue(u)===""&&(i.styleDiff[u]=!1)}break}case"childList":{if(me(t.target,this.blockClass,this.blockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let n=this.mirror.getId(r),o=Er(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);me(t.target,this.blockClass,this.blockSelector,!1)||Fn(r,this.mirror)||!Uu(r,this.mirror)||(this.addedSet.has(r)?(Gu(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||Oi(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[dm(n,o)]?Gu(this.movedSet,r):this.removes.push({parentId:o,id:n,isShadow:Er(t.target)&&wr(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Fn(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[dm(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);me(t,this.blockClass,this.blockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),Kr(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}});function Hn(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Wu(e,t){var r,n;let o=new Mi;Qt.push(o),o.init(e);let i=window.MutationObserver||window.__rrMutationObserver,a=(n=(r=window?.Zone)===null||r===void 0?void 0:r.__symbol__)===null||n===void 0?void 0:n.call(r,"MutationObserver");a&&window[a]&&(i=window[a]);let c=new i(H(o.processMutations.bind(o)));return c.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),c}function b_({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,a=[],c,u=Tr(H(f=>{let d=Date.now()-c;e(a.map(p=>(p.timeOffset-=d,p)),f),a=[],c=null}),i),s=H(Tr(H(f=>{let d=Hn(f),{clientX:p,clientY:h}=jn(f)?f.changedTouches[0]:f;c||(c=Ir()),a.push({x:p,y:h,id:n.getId(d),timeOffset:Ir()-c}),u(typeof DragEvent<"u"&&f instanceof DragEvent?K.Drag:f instanceof MouseEvent?K.MouseMove:K.TouchMove)}),o,{trailing:!1})),l=[Ce("mousemove",s,r),Ce("touchmove",s,r),Ce("drag",s,r)];return H(()=>{l.forEach(f=>f())})}function __({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};let a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[],u=null,s=l=>f=>{let d=Hn(f);if(me(d,n,o,!0))return;let p=null,h=l;if("pointerType"in f){switch(f.pointerType){case"mouse":p=It.Mouse;break;case"touch":p=It.Touch;break;case"pen":p=It.Pen;break}p===It.Touch?Fe[l]===Fe.MouseDown?h="TouchStart":Fe[l]===Fe.MouseUp&&(h="TouchEnd"):It.Pen}else jn(f)&&(p=It.Touch);p!==null?(u=p,(h.startsWith("Touch")&&p===It.Touch||h.startsWith("Mouse")&&p===It.Mouse)&&(p=null)):Fe[l]===Fe.Click&&(p=u,u=null);let m=jn(f)?f.changedTouches[0]:f;if(!m)return;let y=r.getId(d),{clientX:_,clientY:g}=m;H(e)(Object.assign({type:Fe[h],id:y,x:_,y:g},p!==null&&{pointerType:p}))};return Object.keys(Fe).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Dt(l),d=s(l);if(window.PointerEvent)switch(Fe[l]){case Fe.MouseDown:case Fe.MouseUp:f=f.replace("mouse","pointer");break;case Fe.TouchStart:case Fe.TouchEnd:return}c.push(Ce(f,d,t))}),H(()=>{c.forEach(l=>l())})}function qu({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:i}){let a=H(Tr(H(c=>{let u=Hn(c);if(!u||me(u,n,o,!0))return;let s=r.getId(u);if(u===t&&t.defaultView){let l=Dn(t.defaultView);e({id:s,x:l.left,y:l.top})}else e({id:s,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Ce("scroll",a,t)}function w_({viewportResizeCb:e},{win:t}){let r=-1,n=-1,o=H(Tr(H(()=>{let i=Nn(),a=Un();(r!==i||n!==a)&&(e({width:Number(a),height:Number(i)}),r=i,n=a)}),200));return Ce("resize",o,t)}function ym(e,t){let r=Object.assign({},e);return t||delete r.userTriggered,r}function E_({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:s,userTriggeredOnInput:l}){function f(g){let b=Hn(g),w=g.isTrusted,T=b&&b.tagName;if(b&&T==="OPTION"&&(b=b.parentElement),!b||!T||S_.indexOf(T)<0||me(b,n,o,!0)||b.classList.contains(i)||a&&b.matches(a))return;let C=b.value,O=!1,x=Ln(b)||"";x==="radio"||x==="checkbox"?O=b.checked:(c[T.toLowerCase()]||c[x])&&(C=An({element:b,maskInputOptions:c,tagName:T,type:x,value:C,maskInputFn:u})),d(b,H(ym)({text:C,isChecked:O,userTriggered:w},l));let A=b.name;x==="radio"&&A&&O&&t.querySelectorAll(`input[type="radio"][name="${A}"]`).forEach(D=>{D!==b&&d(D,H(ym)({text:D.value,isChecked:!O,userTriggered:!1},l))})}function d(g,b){let w=bm.get(g);if(!w||w.text!==b.text||w.isChecked!==b.isChecked){bm.set(g,b);let T=r.getId(g);H(e)(Object.assign(Object.assign({},b),{id:T}))}}let h=(s.input==="last"?["change"]:["input","change"]).map(g=>Ce(g,H(f),t)),m=t.defaultView;if(!m)return()=>{h.forEach(g=>g())};let y=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),_=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];return y&&y.set&&h.push(..._.map(g=>Yt(g[0],g[1],{set(){H(f)({target:this,isTrusted:!1})}},!1,m))),H(()=>{h.forEach(g=>g())})}function ki(e){let t=[];function r(n,o){if(Ai("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||Ai("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||Ai("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||Ai("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){let a=Array.from(n.parentRule.cssRules).indexOf(n);o.unshift(a)}else if(n.parentStyleSheet){let a=Array.from(n.parentStyleSheet.cssRules).indexOf(n);o.unshift(a)}return o}return r(e,t)}function Xt(e,t,r){let n,o;return e?(e.ownerNode?n=t.getId(e.ownerNode):o=r.getId(e),{styleId:o,id:n}):{}}function x_({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:H((l,f,d)=>{let[p,h]=d,{id:m,styleId:y}=Xt(f,t,r.styleMirror);return(m&&m!==-1||y&&y!==-1)&&e({id:m,styleId:y,adds:[{rule:p,index:h}]}),ju(()=>l.apply(f,d))()})});let i=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:H((l,f,d)=>{let[p]=d,{id:h,styleId:m}=Xt(f,t,r.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),ju(()=>l.apply(f,d))()})});let a;n.CSSStyleSheet.prototype.replace&&(a=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:H((l,f,d)=>{let[p]=d,{id:h,styleId:m}=Xt(f,t,r.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),l.apply(f,d)})}));let c;n.CSSStyleSheet.prototype.replaceSync&&(c=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:H((l,f,d)=>{let[p]=d,{id:h,styleId:m}=Xt(f,t,r.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),l.apply(f,d)})}));let u={};Li("CSSGroupingRule")?u.CSSGroupingRule=n.CSSGroupingRule:(Li("CSSMediaRule")&&(u.CSSMediaRule=n.CSSMediaRule),Li("CSSConditionRule")&&(u.CSSConditionRule=n.CSSConditionRule),Li("CSSSupportsRule")&&(u.CSSSupportsRule=n.CSSSupportsRule));let s={};return Object.entries(u).forEach(([l,f])=>{s[l]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(s[l].insertRule,{apply:H((d,p,h)=>{let[m,y]=h,{id:_,styleId:g}=Xt(p.parentStyleSheet,t,r.styleMirror);return(_&&_!==-1||g&&g!==-1)&&e({id:_,styleId:g,adds:[{rule:m,index:[...ki(p),y||0]}]}),d.apply(p,h)})}),f.prototype.deleteRule=new Proxy(s[l].deleteRule,{apply:H((d,p,h)=>{let[m]=h,{id:y,styleId:_}=Xt(p.parentStyleSheet,t,r.styleMirror);return(y&&y!==-1||_&&_!==-1)&&e({id:y,styleId:_,removes:[{index:[...ki(p),m]}]}),d.apply(p,h)})})}),H(()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=i,a&&(n.CSSStyleSheet.prototype.replace=a),c&&(n.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach(([l,f])=>{f.prototype.insertRule=s[l].insertRule,f.prototype.deleteRule=s[l].deleteRule})})}function Hu({mirror:e,stylesheetManager:t},r){var n,o,i;let a=null;r.nodeName==="#document"?a=e.getId(r):a=e.getId(r.host);let c=r.nodeName==="#document"?(n=r.defaultView)===null||n===void 0?void 0:n.Document:(i=(o=r.ownerDocument)===null||o===void 0?void 0:o.defaultView)===null||i===void 0?void 0:i.ShadowRoot,u=c?.prototype?Object.getOwnPropertyDescriptor(c?.prototype,"adoptedStyleSheets"):void 0;return a===null||a===-1||!c||!u?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get(){var s;return(s=u.get)===null||s===void 0?void 0:s.call(this)},set(s){var l;let f=(l=u.set)===null||l===void 0?void 0:l.call(this,s);if(a!==null&&a!==-1)try{t.adoptStyleSheets(s,a)}catch{}return f}}),H(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))}function T_({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:H((c,u,s)=>{var l;let[f,d,p]=s;if(r.has(f))return i.apply(u,[f,d,p]);let{id:h,styleId:m}=Xt((l=u.parentRule)===null||l===void 0?void 0:l.parentStyleSheet,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,set:{property:f,value:d,priority:p},index:ki(u.parentRule)}),c.apply(u,s)})});let a=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:H((c,u,s)=>{var l;let[f]=s;if(r.has(f))return a.apply(u,[f]);let{id:d,styleId:p}=Xt((l=u.parentRule)===null||l===void 0?void 0:l.parentStyleSheet,t,n.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,remove:{property:f},index:ki(u.parentRule)}),c.apply(u,s)})}),H(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=a})}function I_({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:o,doc:i}){let a=H(u=>Tr(H(s=>{let l=Hn(s);if(!l||me(l,t,r,!0))return;let{currentTime:f,volume:d,muted:p,playbackRate:h}=l;e({type:u,id:n.getId(l),currentTime:f,volume:d,muted:p,playbackRate:h})}),o.media||500)),c=[Ce("play",a(0),i),Ce("pause",a(1),i),Ce("seeked",a(2),i),Ce("volumechange",a(3),i),Ce("ratechange",a(4),i)];return H(()=>{c.forEach(u=>u())})}function C_({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let n=[],o=new WeakMap,i=r.FontFace;r.FontFace=function(u,s,l){let f=new i(u,s,l);return o.set(f,{family:u,buffer:typeof s!="string",descriptors:l,fontSource:typeof s=="string"?s:JSON.stringify(Array.from(new Uint8Array(s)))}),f};let a=gt(t.fonts,"add",function(c){return function(u){return setTimeout(H(()=>{let s=o.get(u);s&&(e(s),o.delete(u))}),0),c.apply(this,[u])}});return n.push(()=>{r.FontFace=i}),n.push(a),H(()=>{n.forEach(c=>c())})}function O_(e){let{doc:t,mirror:r,blockClass:n,blockSelector:o,selectionCb:i}=e,a=!0,c=H(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let s=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let d=u.getRangeAt(f),{startContainer:p,startOffset:h,endContainer:m,endOffset:y}=d;me(p,n,o,!0)||me(m,n,o,!0)||s.push({start:r.getId(p),startOffset:h,end:r.getId(m),endOffset:y})}i({ranges:s})});return c(),Ce("selectionchange",c)}function P_(e,t){let{mutationCb:r,mousemoveCb:n,mouseInteractionCb:o,scrollCb:i,viewportResizeCb:a,inputCb:c,mediaInteractionCb:u,styleSheetRuleCb:s,styleDeclarationCb:l,canvasMutationCb:f,fontCb:d,selectionCb:p}=e;e.mutationCb=(...h)=>{t.mutation&&t.mutation(...h),r(...h)},e.mousemoveCb=(...h)=>{t.mousemove&&t.mousemove(...h),n(...h)},e.mouseInteractionCb=(...h)=>{t.mouseInteraction&&t.mouseInteraction(...h),o(...h)},e.scrollCb=(...h)=>{t.scroll&&t.scroll(...h),i(...h)},e.viewportResizeCb=(...h)=>{t.viewportResize&&t.viewportResize(...h),a(...h)},e.inputCb=(...h)=>{t.input&&t.input(...h),c(...h)},e.mediaInteractionCb=(...h)=>{t.mediaInteaction&&t.mediaInteaction(...h),u(...h)},e.styleSheetRuleCb=(...h)=>{t.styleSheetRule&&t.styleSheetRule(...h),s(...h)},e.styleDeclarationCb=(...h)=>{t.styleDeclaration&&t.styleDeclaration(...h),l(...h)},e.canvasMutationCb=(...h)=>{t.canvasMutation&&t.canvasMutation(...h),f(...h)},e.fontCb=(...h)=>{t.font&&t.font(...h),d(...h)},e.selectionCb=(...h)=>{t.selection&&t.selection(...h),p(...h)}}function _m(e,t={}){let r=e.doc.defaultView;if(!r)return()=>{};P_(e,t);let n;e.recordDOM&&(n=Wu(e,e.doc));let o=b_(e),i=__(e),a=qu(e),c=w_(e,{win:r}),u=E_(e),s=I_(e),l=()=>{},f=()=>{},d=()=>{},p=()=>{};e.recordDOM&&(l=x_(e,{win:r}),f=Hu(e,e.doc),d=T_(e,{win:r}),e.collectFonts&&(p=C_(e)));let h=O_(e),m=[];for(let y of e.plugins)m.push(y.observer(y.callback,r,y.options));return H(()=>{Qt.forEach(y=>y.reset()),n?.disconnect(),o(),i(),a(),c(),u(),s(),l(),f(),d(),p(),h(),m.forEach(y=>y())})}function Ai(e){return typeof window[e]<"u"}function Li(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Qt,S_,bm,zu=v(()=>{"use strict";$t();xr();yt();Vu();gm();Qt=[];S_=["INPUT","TEXTAREA","SELECT"],bm=new WeakMap});function wm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Sm(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(l){try{s(n.next(l))}catch(f){a(f)}}function u(l){try{s(n.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):o(l.value).then(c,u)}s((n=n.apply(e,t||[])).next())})}var Em=v(()=>{"use strict";});function xm(e,t){var r=t===void 0?null:t,n=e.toString(),o=n.split(`
`);o.pop(),o.shift();for(var i=o[0].search(/\S/),a=/(['"])__worker_loader_strict__(['"])/g,c=0,u=o.length;c<u;++c)o[c]=o[c].substring(i).replace(a,"$1use strict$2")+`
`;return r&&o.push("//# sourceMappingURL="+r+`
`),o}var Tm=v(()=>{"use strict"});function R_(e,t){var r=xm(e,t),n=new Blob(r,{type:"application/javascript"});return URL.createObjectURL(n)}function Im(e,t){var r;return function(o){return r=r||R_(e,t),new Worker(r,o)}}var Cm=v(()=>{"use strict";Tm()});var Om,Pm=v(()=>{"use strict";Cm();Om=Im(function(){(function(){"__worker_loader_strict__";function e(s,l,f,d){function p(h){return h instanceof f?h:new f(function(m){m(h)})}return new(f||(f=Promise))(function(h,m){function y(b){try{g(d.next(b))}catch(w){m(w)}}function _(b){try{g(d.throw(b))}catch(w){m(w)}}function g(b){b.done?h(b.value):p(b.value).then(y,_)}g((d=d.apply(s,l||[])).next())})}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;var o=function(s){var l=new Uint8Array(s),f,d=l.length,p="";for(f=0;f<d;f+=3)p+=t[l[f]>>2],p+=t[(l[f]&3)<<4|l[f+1]>>4],p+=t[(l[f+1]&15)<<2|l[f+2]>>6],p+=t[l[f+2]&63];return d%3===2?p=p.substring(0,p.length-1)+"=":d%3===1&&(p=p.substring(0,p.length-2)+"=="),p};let i=new Map,a=new Map;function c(s,l,f){return e(this,void 0,void 0,function*(){let d=`${s}-${l}`;if("OffscreenCanvas"in globalThis){if(a.has(d))return a.get(d);let p=new OffscreenCanvas(s,l);p.getContext("2d");let m=yield(yield p.convertToBlob(f)).arrayBuffer(),y=o(m);return a.set(d,y),y}else return""})}let u=self;u.onmessage=function(s){return e(this,void 0,void 0,function*(){if("OffscreenCanvas"in globalThis){let{id:l,bitmap:f,width:d,height:p,dataURLOptions:h}=s.data,m=c(d,p,h),y=new OffscreenCanvas(d,p);y.getContext("2d").drawImage(f,0,0),f.close();let g=yield y.convertToBlob(h),b=g.type,w=yield g.arrayBuffer(),T=o(w);if(!i.has(l)&&(yield m)===T)return i.set(l,T),u.postMessage({id:l});if(i.get(l)===T)return u.postMessage({id:l});u.postMessage({id:l,type:b,base64:T,width:d,height:p}),i.set(l,T)}else return u.postMessage({id:s.data.id})})}})()},null)});var $r,M_,zn,Rm,Mm=v(()=>{"use strict";$r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M_=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(zn=0;zn<$r.length;zn++)M_[$r.charCodeAt(zn)]=zn;Rm=function(e){var t=new Uint8Array(e),r,n=t.length,o="";for(r=0;r<n;r+=3)o+=$r[t[r]>>2],o+=$r[(t[r]&3)<<4|t[r+1]>>4],o+=$r[(t[r+1]&15)<<2|t[r+2]>>6],o+=$r[t[r+2]&63];return n%3===2?o=o.substring(0,o.length-1)+"=":n%3===1&&(o=o.substring(0,o.length-2)+"=="),o}});function A_(e,t){let r=Am.get(e);return r||(r=new Map,Am.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}function Di(e,t,r){if(e instanceof Array)return e.map(n=>Di(n,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let n=e.constructor.name,o=Rm(e);return{rr_type:n,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Di(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let n=e.constructor.name,{src:o}=e;return{rr_type:n,src:o}}else if(e instanceof HTMLCanvasElement){let n="HTMLImageElement",o=e.toDataURL();return{rr_type:n,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Di(e.data,t,r),e.width,e.height]};if(Lm(e,t)||typeof e=="object"){let n=e.constructor.name,o=Ku(e,t,r);return{rr_type:n,index:o}}}}return e}var Am,Ku,Ni,Lm,$u=v(()=>{"use strict";Mm();Am=new Map;Ku=(e,t,r)=>{if(!e||!(Lm(e,t)||typeof e=="object"))return;let n=e.constructor.name,o=A_(r,n),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};Ni=(e,t,r)=>[...e].map(n=>Di(n,t,r)),Lm=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o])});function km(e,t,r,n){let o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=gt(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...s){return me(this.canvas,r,n,!0)||setTimeout(()=>{let l=Ni([...s],t,this);e(this.canvas,{type:Nt["2D"],property:a,args:l})},0),u.apply(this,s)}});o.push(c)}catch{let u=Yt(t.CanvasRenderingContext2D.prototype,a,{set(s){e(this.canvas,{type:Nt["2D"],property:a,args:[s],setter:!0})}});o.push(u)}return()=>{o.forEach(a=>a())}}var Dm=v(()=>{"use strict";xr();yt();$u()});function L_(e){return e==="experimental-webgl"?"webgl":e}function Yu(e,t,r,n){let o=[];try{let i=gt(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!me(this,t,r,!0)){let s=L_(c);if("__context"in this||(this.__context=s),n&&["webgl","webgl2"].includes(s))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}var Nm=v(()=>{"use strict";yt()});function Um(e,t,r,n,o,i,a){let c=[],u=Object.getOwnPropertyNames(e);for(let s of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(s))try{if(typeof e[s]!="function")continue;let l=gt(e,s,function(f){return function(...d){let p=f.apply(this,d);if(Ku(p,a,this),"tagName"in this.canvas&&!me(this.canvas,n,o,!0)){let h=Ni([...d],a,this),m={type:t,property:s,args:h};r(this.canvas,m)}return p}});c.push(l)}catch{let f=Yt(e,s,{set(d){r(this.canvas,{type:t,property:s,args:[d],setter:!0})}});c.push(f)}return c}function Fm(e,t,r,n,o){let i=[];return i.push(...Um(t.WebGLRenderingContext.prototype,Nt.WebGL,e,r,n,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...Um(t.WebGL2RenderingContext.prototype,Nt.WebGL2,e,r,n,o,t)),()=>{i.forEach(a=>a())}}var jm=v(()=>{"use strict";xr();yt();$u()});var Ui,Vm=v(()=>{"use strict";Em();xr();Pm();yt();Dm();Nm();jm();Ui=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(u,s)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(u)||this.pendingCanvasMutations.set(u,[]),this.pendingCanvasMutations.get(u).push(s)};let{sampling:r="all",win:n,blockClass:o,blockSelector:i,recordCanvas:a,dataURLOptions:c}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,a&&r==="all"&&this.initCanvasMutationObserver(n,o,i),a&&typeof r=="number"&&this.initCanvasFPSObserver(r,n,o,i,{dataURLOptions:c})}initCanvasFPSObserver(t,r,n,o,i){let a=Yu(r,n,o,!0),c=new Map,u=new Om;u.onmessage=h=>{let{id:m}=h.data;if(c.set(m,!1),!("base64"in h.data))return;let{base64:y,type:_,width:g,height:b}=h.data;this.mutationCb({id:m,type:Nt["2D"],commands:[{property:"clearRect",args:[0,0,g,b]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:y}],type:_}]},0,0]}]})};let s=1e3/t,l=0,f,d=()=>{let h=[];return r.document.querySelectorAll("canvas").forEach(m=>{me(m,n,o,!0)||h.push(m)}),h},p=h=>{if(l&&h-l<s){f=requestAnimationFrame(p);return}l=h,d().forEach(m=>Sm(this,void 0,void 0,function*(){var y;let _=this.mirror.getId(m);if(c.get(_))return;if(c.set(_,!0),["webgl","webgl2"].includes(m.__context)){let b=m.getContext(m.__context);((y=b?.getContextAttributes())===null||y===void 0?void 0:y.preserveDrawingBuffer)===!1&&b.clear(b.COLOR_BUFFER_BIT)}let g=yield createImageBitmap(m);u.postMessage({id:_,bitmap:g,width:m.width,height:m.height,dataURLOptions:i.dataURLOptions},[g])})),f=requestAnimationFrame(p)};f=requestAnimationFrame(p),this.resetObservers=()=>{a(),cancelAnimationFrame(f)}}initCanvasMutationObserver(t,r,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let o=Yu(t,r,n,!1),i=km(this.processMutation.bind(this),t,r,n),a=Fm(this.processMutation.bind(this),t,r,n,this.mirror);this.resetObservers=()=>{o(),i(),a()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=r=>{this.rafStamps.latestId=r,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{let n=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(t);if(!n||r===-1)return;let o=n.map(a=>wm(a,["type"])),{type:i}=n[0];this.mutationCb({id:r,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}}});var Fi,Bm=v(()=>{"use strict";Fi=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,r){let n=this.nodeMap.get(t);return n&&Array.from(n).some(o=>o!==r)}add(t,r){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}});var ji,Gm=v(()=>{"use strict";$t();yt();zu();ji=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!wr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let n=Wu(Object.assign(Object.assign({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(qu(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Hu({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){let n=this;this.restoreHandlers.push(gt(t.prototype,"attachShadow",function(o){return function(i){let a=o.call(this,i);return this.shadowRoot&&Gn(this)&&n.addShadowRoot(this.shadowRoot,r),a}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}});var Vi,Wm=v(()=>{"use strict";$t();yt();Vi=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new kn,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;let n={id:r,styleIds:[]},o=[];for(let i of t){let a;this.styleMirror.has(i)?a=this.styleMirror.getId(i):(a=this.styleMirror.add(i),o.push({styleId:a,rules:Array.from(i.rules||CSSRule,(c,u)=>({rule:Ru(c),index:u}))})),n.styleIds.push(a)}o.length>0&&(n.styles=o),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}});function xe(e){return Object.assign(Object.assign({},e),{timestamp:Ir()})}function Ct(e={}){let{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:o="rr-block",blockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskTextClass:u="rr-mask",maskTextSelector:s=null,inlineStylesheet:l=!0,maskAllInputs:f,maskInputOptions:d,slimDOMOptions:p,maskInputFn:h,maskTextFn:m,hooks:y,packFn:_,sampling:g={},dataURLOptions:b={},mousemoveWait:w,recordDOM:T=!0,recordCanvas:C=!1,recordCrossOriginIframes:O=!1,recordAfter:x=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:A=!1,collectFonts:D=!1,inlineImages:F=!1,plugins:E,keepIframeSrcFn:S=()=>!1,ignoreCSSAttributes:I=new Set([]),errorHandler:L}=e;sm(L);let P=O?window.parent===window:!0,j=!1;if(!P)try{window.parent.document&&(j=!1)}catch{j=!0}if(P&&!t)throw new Error("emit function is required");w!==void 0&&g.mousemove===void 0&&(g.mousemove=w),bt.reset();let G=f===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:d!==void 0?d:{password:!0},z=p===!0||p==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:p==="all",headMetaDescKeywords:p==="all"}:p||{};Fu();let k,X=0,oe=W=>{for(let Ve of E||[])Ve.eventProcessor&&(W=Ve.eventProcessor(W));return _&&!j&&(W=_(W)),W};ye=(W,Ve)=>{var se;if(!((se=Qt[0])===null||se===void 0)&&se.isFrozen()&&W.type!==$.FullSnapshot&&!(W.type===$.IncrementalSnapshot&&W.data.source===K.Mutation)&&Qt.forEach(we=>we.unfreeze()),P)t?.(oe(W),Ve);else if(j){let we={type:"rrweb",event:oe(W),origin:window.location.origin,isCheckout:Ve};window.parent.postMessage(we,"*")}if(W.type===$.FullSnapshot)k=W,X=0;else if(W.type===$.IncrementalSnapshot){if(W.data.source===K.Mutation&&W.data.isAttachIframe)return;X++;let we=n&&X>=n,tr=r&&W.timestamp-k.timestamp>r;(we||tr)&&Bi(!0)}};let J=W=>{ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.Mutation},W)}))},ce=W=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.Scroll},W)})),ee=W=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.CanvasMutation},W)})),Ze=W=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.AdoptedStyleSheet},W)})),be=new Vi({mutationCb:J,adoptedStyleSheetCb:Ze}),ve=new Ri({mirror:bt,mutationCb:J,stylesheetManager:be,recordCrossOriginIframes:O,wrappedEmit:ye});for(let W of E||[])W.getMirror&&W.getMirror({nodeMirror:bt,crossOriginIframeMirror:ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:ve.crossOriginIframeStyleMirror});let Ot=new Fi;Xu=new Ui({recordCanvas:C,mutationCb:ee,win:window,blockClass:o,blockSelector:i,mirror:bt,sampling:g.canvas,dataURLOptions:b});let ke=new ji({mutationCb:J,scrollCb:ce,bypassOptions:{blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:s,inlineStylesheet:l,maskInputOptions:G,dataURLOptions:b,maskTextFn:m,maskInputFn:h,recordCanvas:C,inlineImages:F,sampling:g,slimDOMOptions:z,iframeManager:ve,stylesheetManager:be,canvasManager:Xu,keepIframeSrcFn:S,processedNodeManager:Ot},mirror:bt});Bi=(W=!1)=>{if(!T)return;ye(xe({type:$.Meta,data:{href:window.location.href,width:Un(),height:Nn()}}),W),be.reset(),ke.init(),Qt.forEach(se=>se.lock());let Ve=tm(document,{mirror:bt,blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:s,inlineStylesheet:l,maskAllInputs:G,maskTextFn:m,maskInputFn:h,slimDOM:z,dataURLOptions:b,recordCanvas:C,inlineImages:F,onSerialize:se=>{Vn(se,bt)&&ve.addIframe(se),Bn(se,bt)&&be.trackLinkElement(se),Kr(se)&&ke.addShadowRoot(se.shadowRoot,document)},onIframeLoad:(se,we)=>{ve.attachIframe(se,we),ke.observeAttachShadow(se)},onStylesheetLoad:(se,we)=>{be.attachLinkElement(se,we)},keepIframeSrcFn:S});if(!Ve)return console.warn("Failed to snapshot the document");ye(xe({type:$.FullSnapshot,data:{node:Ve,initialOffset:Dn(window)}}),W),Qt.forEach(se=>se.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&be.adoptStyleSheets(document.adoptedStyleSheets,bt.getId(document))};try{let W=[],Ve=we=>{var tr;return H(_m)({mutationCb:J,mousemoveCb:(ue,ia)=>ye(xe({type:$.IncrementalSnapshot,data:{source:ia,positions:ue}})),mouseInteractionCb:ue=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.MouseInteraction},ue)})),scrollCb:ce,viewportResizeCb:ue=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.ViewportResize},ue)})),inputCb:ue=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.Input},ue)})),mediaInteractionCb:ue=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.MediaInteraction},ue)})),styleSheetRuleCb:ue=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.StyleSheetRule},ue)})),styleDeclarationCb:ue=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.StyleDeclaration},ue)})),canvasMutationCb:ee,fontCb:ue=>ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.Font},ue)})),selectionCb:ue=>{ye(xe({type:$.IncrementalSnapshot,data:Object.assign({source:K.Selection},ue)}))},blockClass:o,ignoreClass:a,ignoreSelector:c,maskTextClass:u,maskTextSelector:s,maskInputOptions:G,inlineStylesheet:l,sampling:g,recordDOM:T,recordCanvas:C,inlineImages:F,userTriggeredOnInput:A,collectFonts:D,doc:we,maskInputFn:h,maskTextFn:m,keepIframeSrcFn:S,blockSelector:i,slimDOMOptions:z,dataURLOptions:b,mirror:bt,iframeManager:ve,stylesheetManager:be,shadowDomManager:ke,processedNodeManager:Ot,canvasManager:Xu,ignoreCSSAttributes:I,plugins:((tr=E?.filter(ue=>ue.observer))===null||tr===void 0?void 0:tr.map(ue=>({observer:ue.observer,options:ue.options,callback:ia=>ye(xe({type:$.Plugin,data:{plugin:ue.name,payload:ia}}))})))||[]},y)};ve.addLoadListener(we=>{try{W.push(Ve(we.contentDocument))}catch(tr){console.warn(tr)}});let se=()=>{Bi(),W.push(Ve(document)),Gi=!0};return document.readyState==="interactive"||document.readyState==="complete"?se():(W.push(Ce("DOMContentLoaded",()=>{ye(xe({type:$.DomContentLoaded,data:{}})),x==="DOMContentLoaded"&&se()})),W.push(Ce("load",()=>{ye(xe({type:$.Load,data:{}})),x==="load"&&se()},window))),()=>{W.forEach(we=>we()),Ot.destroy(),Gi=!1,um()}}catch(W){console.warn(W)}}var ye,Bi,Xu,Gi,bt,qm=v(()=>{"use strict";$t();xr();yt();Vu();lm();zu();Vm();Bm();Gm();Wm();Gi=!1,bt=em();Ct.addCustomEvent=(e,t)=>{if(!Gi)throw new Error("please add custom event after start recording");ye(xe({type:$.Custom,data:{tag:e,payload:t}}))};Ct.freezePage=()=>{Qt.forEach(e=>e.freeze())};Ct.takeFullSnapshot=e=>{if(!Gi)throw new Error("please take full snapshot after start recording");Bi(e)};Ct.mirror=bt});function ev(e,t){t===void 0&&(t={});var r=V_();r.p(e);var n=B_(e,t,2,4);return W_(n,t),G_(n,n.length-4,r.d()),n}function tv(e,t){var r=e.length;if(!t&&typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var n=new Xe(e.length+(e.length>>>1)),o=0,i=function(s){n[o++]=s},a=0;a<r;++a){if(o+5>n.length){var c=new Xe(o+8+(r-a<<1));c.set(n),n=c}var u=e.charCodeAt(a);u<128||t?i(u):u<2048?(i(192|u>>>6),i(128|u&63)):u>55295&&u<57344?(u=65536+(u&1047552)|e.charCodeAt(++a)&1023,i(240|u>>>18),i(128|u>>>12&63),i(128|u>>>6&63),i(128|u&63)):(i(224|u>>>12),i(128|u>>>6&63),i(128|u&63))}return Jm(n,0,o)}function rv(e,t){var r="";if(!t&&typeof TextDecoder<"u")return new TextDecoder().decode(e);for(var n=0;n<e.length;){var o=e[n++];o<128||t?r+=String.fromCharCode(o):o<224?r+=String.fromCharCode((o&31)<<6|e[n++]&63):o<240?r+=String.fromCharCode((o&15)<<12|(e[n++]&63)<<6|e[n++]&63):(o=((o&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,r+=String.fromCharCode(55296|o>>10,56320|o&1023))}return r}var Xe,je,Xn,tc,rc,Hm,Ym,Xm,k_,Zu,Qm,TL,zm,Ju,Ut,Y,Yn,Or,Y,Y,Y,Y,qi,Y,D_,N_,Zm,Jm,Ft,Kn,Qu,ec,Km,$n,Wi,$m,U_,F_,j_,V_,B_,G_,W_,nv=v(()=>{"use strict";Xe=Uint8Array,je=Uint16Array,Xn=Uint32Array,tc=new Xe([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rc=new Xe([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hm=new Xe([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ym=function(e,t){for(var r=new je(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var o=new Xn(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)o[i]=i-r[n]<<5|n;return[r,o]},Xm=Ym(tc,2),k_=Xm[0],Zu=Xm[1];k_[28]=258,Zu[258]=28;Qm=Ym(rc,0),TL=Qm[0],zm=Qm[1],Ju=new je(32768);for(Y=0;Y<32768;++Y)Ut=(Y&43690)>>>1|(Y&21845)<<1,Ut=(Ut&52428)>>>2|(Ut&13107)<<2,Ut=(Ut&61680)>>>4|(Ut&3855)<<4,Ju[Y]=((Ut&65280)>>>8|(Ut&255)<<8)>>>1;Yn=function(e,t,r){for(var n=e.length,o=0,i=new je(t);o<n;++o)++i[e[o]-1];var a=new je(t);for(o=0;o<t;++o)a[o]=a[o-1]+i[o-1]<<1;var c;if(r){c=new je(1<<t);var u=15-t;for(o=0;o<n;++o)if(e[o])for(var s=o<<4|e[o],l=t-e[o],f=a[e[o]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)c[Ju[f]>>>u]=s}else for(c=new je(n),o=0;o<n;++o)c[o]=Ju[a[e[o]-1]++]>>>15-e[o];return c},Or=new Xe(288);for(Y=0;Y<144;++Y)Or[Y]=8;for(Y=144;Y<256;++Y)Or[Y]=9;for(Y=256;Y<280;++Y)Or[Y]=7;for(Y=280;Y<288;++Y)Or[Y]=8;qi=new Xe(32);for(Y=0;Y<32;++Y)qi[Y]=5;D_=Yn(Or,9,0),N_=Yn(qi,5,0),Zm=function(e){return(e/8>>0)+(e&7&&1)},Jm=function(e,t,r){(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof je?je:e instanceof Xn?Xn:Xe)(r-t);return n.set(e.subarray(t,r)),n},Ft=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Kn=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Qu=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var o=r.length,i=r.slice();if(!o)return[new Xe(0),0];if(o==1){var a=new Xe(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort(function(T,C){return T.f-C.f}),r.push({s:-1,f:25001});var c=r[0],u=r[1],s=0,l=1,f=2;for(r[0]={s:-1,f:c.f+u.f,l:c,r:u};l!=o-1;)c=r[r[s].f<r[f].f?s++:f++],u=r[s!=l&&r[s].f<r[f].f?s++:f++],r[l++]={s:-1,f:c.f+u.f,l:c,r:u};for(var d=i[0].s,n=1;n<o;++n)i[n].s>d&&(d=i[n].s);var p=new je(d+1),h=ec(r[l-1],p,0);if(h>t){var n=0,m=0,y=h-t,_=1<<y;for(i.sort(function(C,O){return p[O.s]-p[C.s]||C.f-O.f});n<o;++n){var g=i[n].s;if(p[g]>t)m+=_-(1<<h-p[g]),p[g]=t;else break}for(m>>>=y;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var w=i[n].s;p[w]==t&&(--p[w],++m)}h=t}return[new Xe(p),h]},ec=function(e,t,r){return e.s==-1?Math.max(ec(e.l,t,r+1),ec(e.r,t,r+1)):t[e.s]=r},Km=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new je(++t),n=0,o=e[0],i=1,a=function(u){r[n++]=u},c=1;c<=t;++c)if(e[c]==o&&c!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[c]}return[r.subarray(0,n),t]},$n=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Wi=function(e,t,r){var n=r.length,o=Zm(t+2);e[o]=n&255,e[o+1]=n>>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var i=0;i<n;++i)e[o+i+4]=r[i];return(o+4+n)*8},$m=function(e,t,r,n,o,i,a,c,u,s,l){Ft(t,l++,r),++o[256];for(var f=Qu(o,15),d=f[0],p=f[1],h=Qu(i,15),m=h[0],y=h[1],_=Km(d),g=_[0],b=_[1],w=Km(m),T=w[0],C=w[1],O=new je(19),x=0;x<g.length;++x)O[g[x]&31]++;for(var x=0;x<T.length;++x)O[T[x]&31]++;for(var A=Qu(O,7),D=A[0],F=A[1],E=19;E>4&&!D[Hm[E-1]];--E);var S=s+5<<3,I=$n(o,Or)+$n(i,qi)+a,L=$n(o,d)+$n(i,m)+a+14+3*E+$n(O,D)+(2*O[16]+3*O[17]+7*O[18]);if(S<=I&&S<=L)return Wi(t,l,e.subarray(u,u+s));var P,j,G,z;if(Ft(t,l,1+(L<I)),l+=2,L<I){P=Yn(d,p,0),j=d,G=Yn(m,y,0),z=m;var k=Yn(D,F,0);Ft(t,l,b-257),Ft(t,l+5,C-1),Ft(t,l+10,E-4),l+=14;for(var x=0;x<E;++x)Ft(t,l+3*x,D[Hm[x]]);l+=3*E;for(var X=[g,T],oe=0;oe<2;++oe)for(var J=X[oe],x=0;x<J.length;++x){var ce=J[x]&31;Ft(t,l,k[ce]),l+=D[ce],ce>15&&(Ft(t,l,J[x]>>>5&127),l+=J[x]>>>12)}}else P=D_,j=Or,G=N_,z=qi;for(var x=0;x<c;++x)if(n[x]>255){var ce=n[x]>>>18&31;Kn(t,l,P[ce+257]),l+=j[ce+257],ce>7&&(Ft(t,l,n[x]>>>23&31),l+=tc[ce]);var ee=n[x]&31;Kn(t,l,G[ee]),l+=z[ee],ee>3&&(Kn(t,l,n[x]>>>5&8191),l+=rc[ee])}else Kn(t,l,P[n[x]]),l+=j[n[x]];return Kn(t,l,P[256]),l+j[256]},U_=new Xn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F_=new Xe(0),j_=function(e,t,r,n,o,i){var a=e.length,c=new Xe(n+a+5*(1+Math.floor(a/7e3))+o),u=c.subarray(n,c.length-o),s=0;if(!t||a<8)for(var l=0;l<=a;l+=65535){var f=l+65535;f<a?s=Wi(u,s,e.subarray(l,f)):(u[l]=i,s=Wi(u,s,e.subarray(l,a)))}else{for(var d=U_[t-1],p=d>>>13,h=d&8191,m=(1<<r)-1,y=new je(32768),_=new je(m+1),g=Math.ceil(r/3),b=2*g,w=function(we){return(e[we]^e[we+1]<<g^e[we+2]<<b)&m},T=new Xn(25e3),C=new je(288),O=new je(32),x=0,A=0,l=0,D=0,F=0,E=0;l<a;++l){var S=w(l),I=l&32767,L=_[S];if(y[I]=L,_[S]=I,F<=l){var P=a-l;if((x>7e3||D>24576)&&P>423){s=$m(e,u,0,T,C,O,A,D,E,l-E,s),D=x=A=0,E=l;for(var j=0;j<286;++j)C[j]=0;for(var j=0;j<30;++j)O[j]=0}var G=2,z=0,k=h,X=I-L&32767;if(P>2&&S==w(l-X))for(var oe=Math.min(p,P)-1,J=Math.min(32767,l),ce=Math.min(258,P);X<=J&&--k&&I!=L;){if(e[l+G]==e[l+G-X]){for(var ee=0;ee<ce&&e[l+ee]==e[l+ee-X];++ee);if(ee>G){if(G=ee,z=X,ee>oe)break;for(var Ze=Math.min(X,ee-2),be=0,j=0;j<Ze;++j){var ve=l-X+j+32768&32767,Ot=y[ve],ke=ve-Ot+32768&32767;ke>be&&(be=ke,L=ve)}}}I=L,L=y[I],X+=I-L+32768&32767}if(z){T[D++]=268435456|Zu[G]<<18|zm[z];var W=Zu[G]&31,Ve=zm[z]&31;A+=tc[W]+rc[Ve],++C[257+W],++O[Ve],F=l+G,++x}else T[D++]=e[l],++C[e[l]]}}s=$m(e,u,i,T,C,O,A,D,E,l-E,s),i||(s=Wi(u,s,F_))}return Jm(c,0,n+Zm(s)+o)},V_=function(){var e=1,t=0;return{p:function(r){for(var n=e,o=t,i=r.length,a=0;a!=i;){for(var c=Math.min(a+5552,i);a<c;++a)n+=r[a],o+=n;n%=65521,o%=65521}e=n,t=o},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},B_=function(e,t,r,n,o){return j_(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,n,!o)},G_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},W_=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)}});var ov,iv=v(()=>{"use strict";ov="v1"});var nc,av=v(()=>{"use strict";nv();iv();nc=e=>{let t=Object.assign(Object.assign({},e),{v:ov});return rv(ev(tv(JSON.stringify(t))),!0)}});var Hi=v(()=>{"use strict";av();qm();yt()});function q_(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H_(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function z_(e){let t=new Promise((r,n)=>{let o=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(Zt(e.result)),o()},a=()=>{n(e.error),o()};e.addEventListener("success",i),e.addEventListener("error",a)});return zi.set(t,e),t}function K_(e){if(sc.has(e))return;let t=new Promise((r,n)=>{let o=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),o()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});sc.set(e,t)}function dv(e){uc=e(uc)}function $_(e){return H_().includes(e)?function(...t){return e.apply(cc(this),t),Zt(this.request)}:function(...t){return Zt(e.apply(cc(this),t))}}function Y_(e){return typeof e=="function"?$_(e):(e instanceof IDBTransaction&&K_(e),ac(e,q_())?new Proxy(e,uc):e)}function Zt(e){if(e instanceof IDBRequest)return z_(e);if(oc.has(e))return oc.get(e);let t=Y_(e);return t!==e&&(oc.set(e,t),zi.set(t,e)),t}function Qn(e,t,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){let a=indexedDB.open(e,t),c=Zt(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Zt(a.result),u.oldVersion,u.newVersion,Zt(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),o&&u.addEventListener("versionchange",s=>o(s.oldVersion,s.newVersion,s))}).catch(()=>{}),c}function pv(e,{blocked:t}={}){let r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),Zt(r).then(()=>{})}function cv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ic.get(t))return ic.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,o=Q_.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||X_.includes(r)))return;let i=async function(a,...c){let u=this.transaction(a,o?"readwrite":"readonly"),s=u.store;return n&&(s=s.index(c.shift())),(await Promise.all([s[r](...c),o&&u.done]))[0]};return ic.set(t,i),i}async function*ew(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;let r=new Proxy(t,J_);for(hv.set(r,t),zi.set(r,cc(t));t;)yield r,t=await(lc.get(r)||t.continue()),lc.delete(r)}function fv(e,t){return t===Symbol.asyncIterator&&ac(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&ac(e,[IDBIndex,IDBObjectStore])}var ac,sv,uv,sc,oc,zi,uc,cc,X_,Q_,ic,Z_,lv,lc,hv,J_,fc=v(()=>{"use strict";ac=(e,t)=>t.some(r=>e instanceof r);sc=new WeakMap,oc=new WeakMap,zi=new WeakMap;uc={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return sc.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Zt(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};cc=e=>zi.get(e);X_=["get","getKey","getAll","getAllKeys","count"],Q_=["put","add","delete","clear"],ic=new Map;dv(e=>({...e,get:(t,r,n)=>cv(t,r)||e.get(t,r,n),has:(t,r)=>!!cv(t,r)||e.has(t,r)}));Z_=["continue","continuePrimaryKey","advance"],lv={},lc=new WeakMap,hv=new WeakMap,J_={get(e,t){if(!Z_.includes(t))return e[t];let r=lv[t];return r||(r=lv[t]=function(...n){lc.set(this,hv.get(this)[t](...n))}),r}};dv(e=>({...e,get(t,r,n){return fv(t,r)?ew:e.get(t,r,n)},has(t,r){return fv(t,r)||e.has(t,r)}}))});var tw,mv,rw,vv,gv=v(()=>{"use strict";st();fc();tw=1e3*60*60*24*3,mv=function(e,t){return B(void 0,void 0,void 0,function(){return V(this,function(r){switch(r.label){case 0:return[4,Qn(e,1,{upgrade:function(n){t.forEach(function(o){n.objectStoreNames.contains(o)||n.createObjectStore(o)})}})];case 1:return[2,r.sent()]}})})},rw=function(e){return B(void 0,void 0,void 0,function(){return V(this,function(t){switch(t.label){case 0:return[4,Qn(e,1,{upgrade:function(r){r.objectStoreNames.contains("lastFetchedSessionId")||r.createObjectStore("lastFetchedSessionId")}})];case 1:return[2,t.sent()]}})})},vv=function(e){var t=e.loggerProvider,r=e.apiKey,n=e.configKeys;return B(void 0,void 0,void 0,function(){var o,i,a,c,u,s,l,f,d,p;return V(this,function(h){switch(h.label){case 0:return o="".concat(r.substring(0,10),"_amp_config"),[4,mv(o,n)];case 1:return i=h.sent(),a="".concat(r.substring(0,10),"_amp_config_meta"),[4,rw(a)];case 2:c=h.sent(),h.label=3;case 3:return h.trys.push([3,8,,9]),[4,c.get("lastFetchedSessionId","sessionId")];case 4:return u=h.sent(),u&&Date.now()-u>=tw?(i.close(),[4,pv(o)]):[3,7];case 5:return h.sent(),[4,mv(r,n)];case 6:i=h.sent(),h.label=7;case 7:return[3,9];case 8:return s=h.sent(),t.warn("Failed to reset store: ".concat(s)),[3,9];case 9:return l=function(m,y){return B(void 0,void 0,void 0,function(){var _,g,b,w,T,C,O;return V(this,function(x){switch(x.label){case 0:return x.trys.push([0,7,,8]),y?[4,c.put("lastFetchedSessionId",y,"sessionId")]:[3,2];case 1:x.sent(),x.label=2;case 2:_=function(A){var D,F;return V(this,function(E){switch(E.label){case 0:return D=m.configs[A],F=i.transaction(A,"readwrite"),[4,Promise.all(Tt(Tt([],at(Object.keys(D).map(function(S){return F.store.put(Z({},D[S]),S)})),!1),[F.done],!1))];case 1:return E.sent(),[2]}})},g=m.configs,b=[];for(w in g)b.push(w);T=0,x.label=3;case 3:return T<b.length?(w=b[T],w in g?(C=w,[5,_(C)]):[3,5]):[3,6];case 4:x.sent(),x.label=5;case 5:return T++,[3,3];case 6:return[3,8];case 7:return O=x.sent(),t.warn("Failed to store remote config: ".concat(O)),[3,8];case 8:return[2]}})})},f=function(){return B(void 0,void 0,void 0,function(){var m,y;return V(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,c.get("lastFetchedSessionId","sessionId")];case 1:return m=_.sent(),[2,m];case 2:return y=_.sent(),t.warn("Failed to fetch lastFetchedSessionId: ".concat(y)),[3,3];case 3:return[2,void 0]}})})},d=function(m,y){return B(void 0,void 0,void 0,function(){var _,g;return V(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,i.get(m,y)];case 1:return _=b.sent(),[2,_];case 2:return g=b.sent(),t.warn("Failed to fetch remote config: ".concat(g)),[3,3];case 3:return[2,void 0]}})})},p=function(m){return B(void 0,void 0,void 0,function(){var y,_;return V(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,i.getAll(m)];case 1:return y=g.sent(),[2,!!y.length];case 2:return _=g.sent(),t.warn("Failed to fetch remote config: ".concat(_)),[3,3];case 3:return[2,!1]}})})},[2,{storeRemoteConfig:l,getRemoteConfig:d,getLastFetchedSessionId:f,remoteConfigHasValues:p}]}})})}});var ow,iw,aw,yv,sw,uw,cw,lw,fw,bv,_v=v(()=>{"use strict";st();St();dt();gv();ow="Network error occurred, remote config fetch failed",iw="Remote config successfully fetched",aw="Remote config fetch rejected due to exceeded retry count",yv="Remote config fetch rejected due to timeout after 5 seconds",sw="Unexpected error occurred",uw="https://sr-client-cfg.amplitude.com/config",cw="https://sr-client-cfg.stag2.amplitude.com/config",lw="https://sr-client-cfg.eu.amplitude.com/config",fw=function(){function e(t){var r=t.localConfig,n=t.configKeys,o=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.fetchTime=0,this.getRemoteConfig=function(i,a,c){return B(o,void 0,void 0,function(){var u,s,l,f,d;return V(this,function(p){switch(p.label){case 0:return u=Date.now(),this.remoteConfigIDBStore?[4,this.remoteConfigIDBStore.getLastFetchedSessionId()]:[3,3];case 1:return s=p.sent(),s&&c&&s===c?[4,this.remoteConfigIDBStore.getRemoteConfig(i,a)]:[3,3];case 2:return l=p.sent(),this.fetchTime=Date.now()-u,[2,l];case 3:return[4,this.fetchWithTimeout(c)];case 4:return f=p.sent(),f&&(d=f.configs&&f.configs[i],d)?(this.fetchTime=Date.now()-u,[2,d[a]]):(this.fetchTime=Date.now()-u,[2,void 0])}})})},this.fetchWithTimeout=function(i){return B(o,void 0,void 0,function(){var a,c,u;return V(this,function(s){switch(s.label){case 0:return a=new AbortController,c=setTimeout(function(){return a.abort()},5e3),[4,this.fetchRemoteConfig(a.signal,i)];case 1:return u=s.sent(),clearTimeout(c),[2,u]}})})},this.fetchRemoteConfig=function(i,a){return B(o,void 0,void 0,function(){var c,u,s,l,f,d,p;return V(this,function(h){switch(h.label){case 0:if(a===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:aw})];if(i.aborted)return[2,this.completeRequest({err:yv})];a!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=a,this.attempts=0),h.label=1;case 1:return h.trys.push([1,3,,4]),c=new URLSearchParams({api_key:this.localConfig.apiKey,config_keys:this.configKeys.join(",")}),u={headers:{"Content-Type":"application/json",Accept:"*/*"},method:"GET"},s="".concat(this.getServerUrl(),"?").concat(c.toString()),this.attempts+=1,[4,fetch(s,Z(Z({},u),{signal:i}))];case 2:if(l=h.sent(),l===null)return[2,this.completeRequest({err:sw})];switch(f=new Lt().buildStatus(l.status),f){case re.Success:return this.attempts=0,[2,this.parseAndStoreConfig(l,a)];case re.Failed:return[2,this.retryFetch(i,a)];default:return[2,this.completeRequest({err:ow})]}return[3,4];case 3:return d=h.sent(),p=d,i.aborted?[2,this.completeRequest({err:yv})]:[2,this.completeRequest({err:p.message})];case 4:return[2]}})})},this.retryFetch=function(i,a){return B(o,void 0,void 0,function(){var c=this;return V(this,function(u){switch(u.label){case 0:return[4,new Promise(function(s){return setTimeout(s,c.attempts*c.retryTimeout)})];case 1:return u.sent(),[2,this.fetchRemoteConfig(i,a)]}})})},this.parseAndStoreConfig=function(i,a){return B(o,void 0,void 0,function(){var c,u;return V(this,function(s){switch(s.label){case 0:return[4,i.json()];case 1:return c=s.sent(),u=this.remoteConfigIDBStore,u?[4,this.remoteConfigIDBStore.storeRemoteConfig(c,a)]:[3,3];case 2:u=s.sent(),s.label=3;case 3:return this.completeRequest({success:iw}),[2,c]}})})},this.localConfig=r,this.configKeys=n}return e.prototype.initialize=function(){return B(this,void 0,void 0,function(){var t;return V(this,function(r){switch(r.label){case 0:return t=this,[4,vv({apiKey:this.localConfig.apiKey,loggerProvider:this.localConfig.loggerProvider,configKeys:this.configKeys})];case 1:return t.remoteConfigIDBStore=r.sent(),[2]}})})},e.prototype.getServerUrl=function(){return this.localConfig.serverZone===We.STAGING?cw:this.localConfig.serverZone===We.EU?lw:uw},e.prototype.completeRequest=function(t){var r=t.err,n=t.success;if(r)throw new Error(r);n&&this.localConfig.loggerProvider.log(n)},e}(),bv=function(e){var t=e.localConfig,r=e.configKeys;return B(void 0,void 0,void 0,function(){var n;return V(this,function(o){switch(o.label){case 0:return n=new fw({localConfig:t,configKeys:r}),[4,n.initialize()];case 1:return o.sent(),[2,n]}})})}});var wv,Sv=v(()=>{"use strict";_v();wv=bv});var pw,Ev,xv=v(()=>{"use strict";st();Sv();Pu();pw=function(){function e(t,r){this.localConfig=new Qh(t,r)}return e.prototype.initialize=function(){return B(this,void 0,void 0,function(){var t;return V(this,function(r){switch(r.label){case 0:return t=this,[4,wv({localConfig:this.localConfig,configKeys:["sessionReplay"]})];case 1:return t.remoteConfigFetch=r.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(t){var r,n,o;return B(this,void 0,void 0,function(){var i,a,c,u,s,l,f,d,p,h,m,y,_,g,b,w,T,C,O,x;return V(this,function(A){switch(A.label){case 0:i=Z({},this.localConfig),i.optOut=this.localConfig.optOut,i.captureEnabled=!0,A.label=1;case 1:return A.trys.push([1,5,,6]),this.remoteConfigFetch?[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_sampling_config",t)]:(i.captureEnabled=!1,[2,i]);case 2:return c=A.sent(),[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_privacy_config",t)];case 3:return u=A.sent(),s=i,[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_interaction_config",t)];case 4:return s.interactionConfig=A.sent(),(c||u)&&(a={},c&&(a.sr_sampling_config=c),u&&(a.sr_privacy_config=u)),[3,6];case 5:return l=A.sent(),f=l,this.localConfig.loggerProvider.warn(f.message),i.captureEnabled=!1,[3,6];case 6:if(!a)return[2,i];if(d=a.sr_sampling_config,p=a.sr_privacy_config,d&&Object.keys(d).length>0?(Object.prototype.hasOwnProperty.call(d,"capture_enabled")?i.captureEnabled=d.capture_enabled:i.captureEnabled=!1,Object.prototype.hasOwnProperty.call(d,"sample_rate")&&(i.sampleRate=d.sample_rate)):(i.captureEnabled=!0,this.localConfig.loggerProvider.debug("Remote config successfully fetched, but no values set for project, Session Replay capture enabled.")),p){h=(r=i.privacyConfig)!==null&&r!==void 0?r:{},m={defaultMaskLevel:(o=(n=p.defaultMaskLevel)!==null&&n!==void 0?n:h.defaultMaskLevel)!==null&&o!==void 0?o:"medium",blockSelector:[],maskSelector:[],unmaskSelector:[]},y=function(D){var F,E,S,I,L,P,j,G,z,k={};typeof D.blockSelector=="string"&&(D.blockSelector=[D.blockSelector]);try{for(var X=vt((j=D.blockSelector)!==null&&j!==void 0?j:[]),oe=X.next();!oe.done;oe=X.next()){var J=oe.value;k[J]="block"}}catch(ve){F={error:ve}}finally{try{oe&&!oe.done&&(E=X.return)&&E.call(X)}finally{if(F)throw F.error}}try{for(var ce=vt((G=D.maskSelector)!==null&&G!==void 0?G:[]),ee=ce.next();!ee.done;ee=ce.next()){var J=ee.value;k[J]="mask"}}catch(ve){S={error:ve}}finally{try{ee&&!ee.done&&(I=ce.return)&&I.call(ce)}finally{if(S)throw S.error}}try{for(var Ze=vt((z=D.unmaskSelector)!==null&&z!==void 0?z:[]),be=Ze.next();!be.done;be=Ze.next()){var J=be.value;k[J]="unmask"}}catch(ve){L={error:ve}}finally{try{be&&!be.done&&(P=Ze.return)&&P.call(Ze)}finally{if(L)throw L.error}}return k},_=Z(Z({},y(h)),y(p));try{for(g=vt(Object.entries(_)),b=g.next();!b.done;b=g.next())w=at(b.value,2),T=w[0],C=w[1],C==="mask"?m.maskSelector.push(T):C==="block"?m.blockSelector.push(T):C==="unmask"&&m.unmaskSelector.push(T)}catch(D){O={error:D}}finally{try{b&&!b.done&&(x=g.return)&&x.call(g)}finally{if(O)throw O.error}}i.privacyConfig=m}return[2,i]}})})},e}(),Ev=function(e,t){return B(void 0,void 0,void 0,function(){var r;return V(this,function(n){switch(n.label){case 0:return r=new pw(e,t),[4,r.initialize()];case 1:return n.sent(),[2,r]}})})}});var Tv,Iv,Cv,Ov,Yr,Pv,Rv,dc=v(()=>{"use strict";Tv=function(e){return"Session replay event batch tracked successfully for session id ".concat(e)},Iv="Unexpected error occurred",Cv="Network error occurred, event batch rejected",Ov="Session replay event batch rejected due to exceeded retry count",Yr="Failed to store session replay events in IndexedDB",Pv="Session replay event batch not sent due to missing device ID",Rv="Session replay event batch not sent due to missing api key"});var Zn,Mv=v(()=>{"use strict";(function(e){e.RECORDING="recording",e.SENT="sent"})(Zn||(Zn={}))});var Jn,Xr,hw,Av,mw,vw,gw,Lv,kv=v(()=>{"use strict";st();Kt();St();fc();Wr();dc();Mv();Jn="sessionCurrentSequence",Xr="sequencesToSend",hw=function(){var e=He();return new Promise(function(t,r){if(!e)return r(new Error("Global scope not found"));if(!e.indexedDB)return r(new Error("Session Replay: cannot find indexedDB"));try{var n=e.indexedDB.open("keyval-store");n.onupgradeneeded=function(){n.result.version===1&&(n.result.close(),n.transaction&&n.transaction.abort(),e.indexedDB.deleteDatabase("keyval-store"),t())},n.onsuccess=function(){t(n.result)}}catch(o){r(o)}})},Av=function(e){return B(void 0,void 0,void 0,function(){var t,r;return V(this,function(n){switch(n.label){case 0:return e.length>0?(t=10,r=e.splice(0,t),[4,Promise.all(r)]):[3,2];case 1:return n.sent(),[3,0];case 2:return[2]}})})},mw=function(e){var t,r;return e.objectStoreNames.contains(Jn)||(r=e.createObjectStore(Jn,{keyPath:"sessionId"})),e.objectStoreNames.contains(Xr)||(t=e.createObjectStore(Xr,{keyPath:"sequenceId",autoIncrement:!0}),t.createIndex("sessionId","sessionId")),{sequencesStore:t,currentSequenceStore:r}},vw=function(e){return B(void 0,void 0,void 0,function(){return V(this,function(t){switch(t.label){case 0:return[4,Qn(e,1,{upgrade:mw})];case 1:return[2,t.sent()]}})})},gw=function(){function e(t){var r=t.loggerProvider,n=t.apiKey,o=t.minInterval,i=t.maxInterval,a=this;this.storageKey="",this.maxPersistedEventsSize=zh,this.timeAtLastSplit=null,this.shouldSplitEventsList=function(c,u){var s=new Blob([u]).size,l=new Blob(c).size;return l+s>=a.maxPersistedEventsSize?!0:a.timeAtLastSplit!==null&&a.interval&&Date.now()-a.timeAtLastSplit>a.interval&&c.length?(a.interval=Math.min(a.maxInterval,a.interval+a.minInterval),a.timeAtLastSplit=Date.now(),!0):!1},this.getSequencesToSend=function(){return B(a,void 0,void 0,function(){var c,u,s;return V(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,(s=this.db)===null||s===void 0?void 0:s.getAll(Xr)];case 1:return c=l.sent(),[2,c];case 2:return u=l.sent(),this.loggerProvider.warn("".concat(Yr,": ").concat(u)),[3,3];case 3:return[2,void 0]}})})},this.storeCurrentSequence=function(c){return B(a,void 0,void 0,function(){var u,s,l;return V(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),this.db?[4,this.db.get(Jn,c)]:[2,void 0];case 1:return u=f.sent(),u?[4,this.db.put(Xr,{sessionId:c,events:u.events})]:[2,void 0];case 2:return s=f.sent(),[4,this.db.put(Jn,{sessionId:c,events:[]})];case 3:return f.sent(),[2,Z(Z({},u),{sessionId:c,sequenceId:s})];case 4:return l=f.sent(),this.loggerProvider.warn("".concat(Yr,": ").concat(l)),[3,5];case 5:return[2,void 0]}})})},this.addEventToCurrentSequence=function(c,u){return B(a,void 0,void 0,function(){var s,l,f,d,p,h,m;return V(this,function(y){switch(y.label){case 0:this.interval===0&&(this.interval=this.minInterval),y.label=1;case 1:return y.trys.push([1,11,,12]),s=(m=this.db)===null||m===void 0?void 0:m.transaction(Jn,"readwrite"),s?[4,s.store.get(c)]:[2];case 2:return l=y.sent(),l?[3,4]:[4,s.store.put({sessionId:c,events:[u]})];case 3:return y.sent(),[2];case 4:return f=void 0,this.shouldSplitEventsList(l.events,u)?(f=l.events,[4,s.store.put({sessionId:c,events:[u]})]):[3,6];case 5:return y.sent(),[3,8];case 6:return d=l.events.concat(u),[4,s.store.put({sessionId:c,events:d})];case 7:y.sent(),y.label=8;case 8:return[4,s.done];case 9:return y.sent(),f?[4,this.storeSendingEvents(c,f)]:[2,void 0];case 10:return p=y.sent(),p?[2,{events:f,sessionId:c,sequenceId:p}]:[2,void 0];case 11:return h=y.sent(),this.loggerProvider.warn("".concat(Yr,": ").concat(h)),[3,12];case 12:return[2,void 0]}})})},this.storeSendingEvents=function(c,u){return B(a,void 0,void 0,function(){var s,l,f;return V(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,(f=this.db)===null||f===void 0?void 0:f.put(Xr,{sessionId:c,events:u})];case 1:return s=d.sent(),[2,s];case 2:return l=d.sent(),this.loggerProvider.warn("".concat(Yr,": ").concat(l)),[3,3];case 3:return[2,void 0]}})})},this.cleanUpSessionEventsStore=function(c){return B(a,void 0,void 0,function(){var u,s;return V(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,(s=this.db)===null||s===void 0?void 0:s.delete(Xr,c)];case 1:return l.sent(),[3,3];case 2:return u=l.sent(),this.loggerProvider.warn("".concat(Yr,": ").concat(u)),[3,3];case 3:return[2]}})})},this.transitionFromKeyValStore=function(c){return B(a,void 0,void 0,function(){var u,s,l,f,d,p,h,m,y=this;return V(this,function(_){switch(_.label){case 0:return _.trys.push([0,6,,7]),[4,hw()];case 1:if(u=_.sent(),!u)return[2];s=function(g,b){return B(y,void 0,void 0,function(){var w,T,C=this;return V(this,function(O){switch(O.label){case 0:return w=b.sessionSequences,T=[],Object.keys(w).forEach(function(x){var A=parseInt(x,10),D=w[A];if(A===b.currentSequenceId){var F=D.events.map(function(E){return B(C,void 0,void 0,function(){return V(this,function(S){return[2,this.addEventToCurrentSequence(g,E)]})})});T.concat(F)}else D.status!==Zn.SENT&&T.push(C.storeSendingEvents(g,D.events))}),[4,Av(T)];case 1:return O.sent(),[2]}})})},l="".concat(Rs,"_").concat(this.apiKey.substring(0,10)),_.label=2;case 2:return _.trys.push([2,4,,5]),f=u.transaction("keyval").objectStore("keyval").getAll(l),d=new Promise(function(g){f.onsuccess=function(b){return B(y,void 0,void 0,function(){var w,T,C,O=this;return V(this,function(x){switch(x.label){case 0:return w=b&&b.target.result,T=w&&w[0],T?(C=[],Object.keys(T).forEach(function(A){var D=parseInt(A,10),F=T[D];if(c===D)C.push(s(D,F));else{var E=F.sessionSequences;Object.keys(E).forEach(function(S){var I=parseInt(S,10);E[I].status!==Zn.SENT&&C.push(O.storeSendingEvents(D,E[I].events))})}}),[4,Av(C)]):[3,2];case 1:x.sent(),x.label=2;case 2:return g(),[2]}})})}}),[4,d];case 3:return _.sent(),p=He(),p&&p.indexedDB.deleteDatabase("keyval-store"),[3,5];case 4:return h=_.sent(),this.loggerProvider.warn("Failed to transition session replay events from keyval to new store: ".concat(h)),[3,5];case 5:return[3,7];case 6:return m=_.sent(),this.loggerProvider.warn("Failed to access keyval store: ".concat(m,". For more information, visit: https://www.docs.developers.amplitude.com/session-replay/sdks/standalone/#indexeddb-best-practices")),[3,7];case 7:return[2]}})})},this.loggerProvider=r,this.apiKey=n,this.maxInterval=i??Xh,this.minInterval=o??Yh,this.interval=0}return e.prototype.initialize=function(t,r){return B(this,void 0,void 0,function(){var n,o,i;return V(this,function(a){switch(a.label){case 0:return n=t==="replay"?"":"_".concat(t),o="".concat(this.apiKey.substring(0,10),"_amp_session_replay_events").concat(n),i=this,[4,vw(o)];case 1:return i.db=a.sent(),this.timeAtLastSplit=Date.now(),[4,this.transitionFromKeyValStore(r)];case 2:return a.sent(),[2]}})})},e}(),Lv=function(e){var t=e.loggerProvider,r=e.apiKey,n=e.sessionId,o=e.type,i=e.minInterval,a=e.maxInterval;return B(void 0,void 0,void 0,function(){var c;return V(this,function(u){switch(u.label){case 0:return c=new gw({loggerProvider:t,apiKey:r,minInterval:i,maxInterval:a}),[4,c.initialize(o,n)];case 1:return u.sent(),[2,c]}})})}});var Ki,Dv=v(()=>{"use strict";Ki="medium"});function yw(e){return e.toLowerCase()}function Uv(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?yw(t):null}var Nv,rk,bw,nk,_w,ok,Fv=v(()=>{"use strict";(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Nv||(Nv={}));rk=new RegExp("[^a-z0-9-_:]"),bw=/(max|min)-device-(width|height)/,nk=new RegExp(bw.source,"g"),_w=/([^\\]):hover/,ok=new RegExp(_w.source,"g")});var jv,ww,pc,hc,Vv,Bv,Gv,$i,eo=v(()=>{"use strict";Kt();Wr();Dv();Fv();dt();Wr();jv=function(e,t,r){switch(t){case"light":{if(e!=="input")return!0;var n=r?Uv(r):"";return n?!!(["password","hidden","email","tel"].includes(n)||r.autocomplete.startsWith("cc-")):!1}case"medium":case"conservative":return!0;default:return jv(e,Ki,r)}},ww=function(e,t,r){var n,o,i;if(t===void 0&&(t={defaultMaskLevel:Ki}),r){if(r.closest("."+Ei))return!0;var a=((n=t.maskSelector)!==null&&n!==void 0?n:[]).some(function(u){return r.closest(u)});if(a)return!0;if(r.closest("."+Gh))return!1;var c=((o=t.unmaskSelector)!==null&&o!==void 0?o:[]).some(function(u){return r.closest(u)});if(c)return!1}return jv(e,(i=t.defaultMaskLevel)!==null&&i!==void 0?i:Ki,r)},pc=function(e,t){return function(r,n){return ww(e,t,n)?r.replace(/[^\s]/g,"*"):r}},hc=function(e){var t=0;if(e.length===0)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t},Vv=function(e,t){var r=hc(e.toString()),n=Math.abs(r),o=n*31,i=o%1e6;return i/1e6<t},Bv=function(){var e=He();return e?.location?e.location.href:""},Gv=function(e,t){return"".concat(t,"/").concat(e)},$i=function(e){return e===We.STAGING?Hh:e===We.EU?qh:Wh}});var Yi,mc=v(()=>{"use strict";Yi="1.12.0"});var Wv,qv=v(()=>{"use strict";st();St();dt();eo();dc();mc();Wv=function(){function e(t){var r=t.loggerProvider,n=t.payloadBatcher;this.storageKey="",this.retryTimeout=1e3,this.scheduled=null,this.queue=[],this.loggerProvider=r,this.payloadBatcher=n||function(o){return o}}return e.prototype.sendEventsList=function(t){this.addToQueue(Z(Z({},t),{attempts:0,timeout:0}))},e.prototype.addToQueue=function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=r.filter(function(i){return i.attempts<(i.flushMaxRetries||0)?(i.attempts+=1,!0):(t.completeRequest({context:i,err:"".concat(Ov,", batch sequence id, ").concat(i.sequenceId)}),!1)});o.forEach(function(i){if(t.queue=t.queue.concat(i),i.timeout===0){t.schedule(0);return}setTimeout(function(){i.timeout=0,t.schedule(0)},i.timeout)})},e.prototype.schedule=function(t){var r=this;this.scheduled||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(t)})},t))},e.prototype.flush=function(t){return t===void 0&&(t=!1),B(this,void 0,void 0,function(){var r,n,o=this;return V(this,function(i){switch(i.label){case 0:return r=[],n=[],this.queue.forEach(function(a){return a.timeout===0?r.push(a):n.push(a)}),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,Promise.all(r.map(function(a){return o.send(a,t)}))];case 1:return i.sent(),[2]}})})},e.prototype.send=function(t,r){return r===void 0&&(r=!0),B(this,void 0,void 0,function(){var n,o,i,a,c,u,s,l,f,d,p,h;return V(this,function(m){switch(m.label){case 0:if(n=t.apiKey,!n)return[2,this.completeRequest({context:t,err:Rv})];if(o=t.deviceId,!o)return[2,this.completeRequest({context:t,err:Pv})];if(i=Bv(),a=Yi,c=t.sampleRate,u=new URLSearchParams({device_id:o,session_id:"".concat(t.sessionId),seq_number:"".concat(t.sequenceId),type:"".concat(t.type)}),s=this.payloadBatcher({version:1,events:t.events}),s.events.length===0)return this.completeRequest({context:t}),[2];m.label=1;case 1:return m.trys.push([1,3,,4]),l={headers:{"Content-Type":"application/json",Accept:"*/*",Authorization:"Bearer ".concat(n),"X-Client-Version":a,"X-Client-Url":i,"X-Client-Sample-Rate":"".concat(c)},body:JSON.stringify(s),method:"POST"},f="".concat($i(t.serverZone),"?").concat(u.toString()),[4,fetch(f,l)];case 2:if(d=m.sent(),d===null)return this.completeRequest({context:t,err:Iv}),[2];if(r)this.handleReponse(d.status,t);else{p="";try{p=JSON.stringify(d.body,null,2)}catch{}this.completeRequest({context:t,success:"".concat(d.status,": ").concat(p)})}return[3,4];case 3:return h=m.sent(),this.completeRequest({context:t,err:h}),[3,4];case 4:return[2]}})})},e.prototype.handleReponse=function(t,r){var n=new Lt().buildStatus(t);switch(n){case re.Success:this.handleSuccessResponse(r);break;case re.Failed:this.handleOtherResponse(r);break;default:this.completeRequest({context:r,err:Cv})}},e.prototype.handleSuccessResponse=function(t){this.completeRequest({context:t,success:Tv(t.sessionId)})},e.prototype.handleOtherResponse=function(t){this.addToQueue(Z(Z({},t),{timeout:t.attempts*this.retryTimeout}))},e.prototype.completeRequest=function(t){var r=t.context,n=t.err,o=t.success;r.onComplete(r.sequenceId),n?this.loggerProvider.warn(n):o&&this.loggerProvider.log(o)},e}()});var vc,Hv=v(()=>{"use strict";st();kv();qv();vc=function(e){var t=e.config,r=e.sessionId,n=e.minInterval,o=e.maxInterval,i=e.type,a=e.payloadBatcher;return B(void 0,void 0,void 0,function(){function c(h){return h===void 0&&(h=!1),B(this,void 0,void 0,function(){return V(this,function(m){return[2,u.flush(h)]})})}var u,s,l,f,d,p;return V(this,function(h){switch(h.label){case 0:return u=new Wv({loggerProvider:t.loggerProvider,payloadBatcher:a}),[4,Lv({loggerProvider:t.loggerProvider,apiKey:t.apiKey,sessionId:r,minInterval:n,maxInterval:o,type:i})];case 1:return s=h.sent(),l=function(m){var y=m.events,_=m.sessionId,g=m.deviceId,b=m.sequenceId;u.sendEventsList({events:y,sequenceId:b,sessionId:_,flushMaxRetries:t.flushMaxRetries,apiKey:t.apiKey,deviceId:g,sampleRate:t.sampleRate,serverZone:t.serverZone,type:i,onComplete:s.cleanUpSessionEventsStore.bind(s)})},f=function(m){var y=m.sessionId,_=m.deviceId;s.storeCurrentSequence(y).then(function(g){g&&l({sequenceId:g.sequenceId,events:g.events,sessionId:g.sessionId,deviceId:_})}).catch(function(g){t.loggerProvider.warn("Failed to get current sequence of session replay events for session:",g)})},d=function(m){var y=m.deviceId;return B(void 0,void 0,void 0,function(){var _;return V(this,function(g){switch(g.label){case 0:return[4,s.getSequencesToSend()];case 1:return _=g.sent(),_&&_.forEach(function(b){l({sequenceId:b.sequenceId,events:b.events,sessionId:b.sessionId,deviceId:y})}),[2]}})})},p=function(m){var y=m.event,_=m.sessionId,g=m.deviceId;s.addEventToCurrentSequence(_,y.data).then(function(b){return b&&l({sequenceId:b.sequenceId,events:b.events,sessionId:b.sessionId,deviceId:g})}).catch(function(b){t.loggerProvider.warn("Failed to add event to session replay capture:",b)})},[2,{sendCurrentSequenceEvents:f,addEvent:p,sendStoredEvents:d,flush:c}]}})})}});var gc,zv=v(()=>{"use strict";st();gc=function(){function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=new Map;t.forEach(function(o){n.set(o.name,o.manager)}),this.managers=n}return e.prototype.sendStoredEvents=function(t){return B(this,void 0,void 0,function(){var r;return V(this,function(n){switch(n.label){case 0:return r=[],this.managers.forEach(function(o){r.push(o.sendStoredEvents(t))}),[4,Promise.all(r)];case 1:return n.sent(),[2]}})})},e.prototype.addEvent=function(t){var r,n=t.sessionId,o=t.event,i=t.deviceId;(r=this.managers.get(o.type))===null||r===void 0||r.addEvent({sessionId:n,event:o,deviceId:i})},e.prototype.sendCurrentSequenceEvents=function(t){var r=t.sessionId,n=t.deviceId;this.managers.forEach(function(o){o.sendCurrentSequenceEvents({sessionId:r,deviceId:n})})},e.prototype.flush=function(t){return B(this,void 0,void 0,function(){var r;return V(this,function(n){switch(n.label){case 0:return r=[],this.managers.forEach(function(o){r.push(o.flush(t))}),[4,Promise.all(r)];case 1:return n.sent(),[2]}})})},e}()});var yc,Kv=v(()=>{"use strict";yc=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(yc||{})});function Zv(e,t){if(Qv=new Date,e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(e.tagName.toLowerCase()==="html")return"html";var r={root:document.body,idName:function(i){return!0},className:function(i){return!0},tagName:function(i){return!0},attr:function(i,a){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4,timeoutMs:void 0};ut=Z(Z({},r),t),_c=Sw(ut.root,r);var n=Xi(e,"all",function(){return Xi(e,"two",function(){return Xi(e,"one",function(){return Xi(e,"none")})})});if(n){var o=tg(rg(n,e));return o.length>0&&(n=o[0]),Ji(n)}else throw new Error("Selector was not found.")}function Sw(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}function Xi(e,t,r){for(var n=null,o=[],i=e,a=0,c=function(){var s,l,f=new Date().getTime()-Qv.getTime();if(ut.timeoutMs!==void 0&&f>ut.timeoutMs)throw new Error("Timeout: Can't find a unique selector after ".concat(f,"ms"));var d=Zi(Ew(i))||Zi.apply(void 0,Tt([],at(xw(i)),!1))||Zi.apply(void 0,Tt([],at(Tw(i)),!1))||Zi(Iw(i))||[Xv()],p=Cw(i);if(t=="all")p&&(d=d.concat(d.filter(bc).map(function(g){return Qi(g,p)})));else if(t=="two")d=d.slice(0,1),p&&(d=d.concat(d.filter(bc).map(function(g){return Qi(g,p)})));else if(t=="one"){var h=at(d=d.slice(0,1),1),m=h[0];p&&bc(m)&&(d=[Qi(m,p)])}else t=="none"&&(d=[Xv()],p&&(d=[Qi(d[0],p)]));try{for(var y=(s=void 0,vt(d)),_=y.next();!_.done;_=y.next()){var m=_.value;m.level=a}}catch(g){s={error:g}}finally{try{_&&!_.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}if(o.push(d),o.length>=ut.seedMinLength&&(n=$v(o,r),n))return"break";i=i.parentElement,a++};i;){var u=c();if(u==="break")break}return n||(n=$v(o,r)),!n&&r?r():n}function $v(e,t){var r,n,o=tg(eg(e));if(o.length>ut.threshold)return t?t():null;try{for(var i=vt(o),a=i.next();!a.done;a=i.next()){var c=a.value;if(Jv(c))return c}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null}function Ji(e){for(var t=e[0],r=t.name,n=1;n<e.length;n++){var o=e[n].level||0;t.level===o-1?r="".concat(e[n].name," > ").concat(r):r="".concat(e[n].name," ").concat(r),t=e[n]}return r}function Yv(e){return e.map(function(t){return t.penalty}).reduce(function(t,r){return t+r},0)}function Jv(e){var t=Ji(e);switch(_c.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function Ew(e){var t=e.getAttribute("id");return t&&ut.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function xw(e){var t=Array.from(e.attributes).filter(function(r){return ut.attr(r.name,r.value)});return t.map(function(r){return{name:"[".concat(CSS.escape(r.name),'="').concat(CSS.escape(r.value),'"]'),penalty:.5}})}function Tw(e){var t=Array.from(e.classList).filter(ut.className);return t.map(function(r){return{name:"."+CSS.escape(r),penalty:1}})}function Iw(e){var t=e.tagName.toLowerCase();return ut.tagName(t)?{name:t,penalty:2}:null}function Xv(){return{name:"*",penalty:3}}function Cw(e){var t=e.parentNode;if(!t)return null;var r=t.firstChild;if(!r)return null;for(var n=0;r&&(r.nodeType===Node.ELEMENT_NODE&&n++,r!==e);)r=r.nextSibling;return n}function Qi(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function bc(e){return e.name!=="html"&&!e.name.startsWith("#")}function Zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.filter(Ow);return r.length>0?r:null}function Ow(e){return e!=null}function eg(e,t){var r,n,o,i,a,c;return t===void 0&&(t=[]),V(this,function(u){switch(u.label){case 0:if(!(e.length>0))return[3,9];u.label=1;case 1:u.trys.push([1,6,7,8]),r=vt(e[0]),n=r.next(),u.label=2;case 2:return n.done?[3,5]:(o=n.value,[5,vt(eg(e.slice(1,e.length),t.concat(o)))]);case 3:u.sent(),u.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return i=u.sent(),a={error:i},[3,8];case 7:try{n&&!n.done&&(c=r.return)&&c.call(r)}finally{if(a)throw a.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:u.sent(),u.label=11;case 11:return[2]}})}function tg(e){return Tt([],at(e),!1).sort(function(t,r){return Yv(t)-Yv(r)})}function rg(e,t,r){var n,o,i;return r===void 0&&(r={counter:0,visited:new Map}),V(this,function(a){switch(a.label){case 0:if(!(e.length>2&&e.length>ut.optimizedMinLength))return[3,5];n=1,a.label=1;case 1:return n<e.length-1?r.counter>ut.maxNumberOfTries?[2]:(r.counter+=1,o=Tt([],at(e),!1),o.splice(n,1),i=Ji(o),r.visited.has(i)?[2]:Jv(o)&&Pw(o,t)?[4,o]:[3,4]):[3,5];case 2:return a.sent(),r.visited.set(i,!0),[5,vt(rg(o,t,r))];case 3:a.sent(),a.label=4;case 4:return n++,[3,1];case 5:return[2]}})}function Pw(e,t){return _c.querySelector(Ji(e))===t}var ut,_c,Qv,ng=v(()=>{"use strict";st()});var Rw,og,ig,ag=v(()=>{"use strict";st();Kv();Hi();ng();Kt();Rw=36e5,og=function(e){var t=e.version,r=e.events,n=[];r.forEach(function(i){var a=JSON.parse(i);a.type==="click"&&n.push(a)});var o=n.reduce(function(i,a){var c=a.x,u=a.y,s=a.selector,l=a.timestamp,f=l-l%Rw,d="".concat(c,":").concat(u,":").concat(s??"",":").concat(f);return i[d]?i[d].count+=1:i[d]=Z(Z({},a),{timestamp:f,count:1}),i},{});return{version:t,events:Object.values(o)}},ig=function(e){var t=e.eventsManager,r=e.sessionId,n=e.deviceIdFn;return function(o){if(o.type===yc.Click){var i=He();if(i){var a=i.location,c=i.innerHeight,u=i.innerWidth;if(a){var s=o.x,l=o.y,f=Ct.mirror.getNode(o.id),d;f&&(d=Zv(f));var p=Cr.getWindowScroll(i),h=p.left,m=p.top,y={x:s+h,y:l+m,selector:d,viewportHeight:c,viewportWidth:u,pageUrl:a.href,timestamp:Date.now(),type:"click"},_=n();_&&t.addEvent({sessionId:r,event:{type:"interaction",data:JSON.stringify(y)},deviceId:_})}}}}}});var sg,ug=v(()=>{"use strict";Kt();eo();sg=function(){function e(t,r){var n=He();n&&n.navigator&&typeof n.navigator.sendBeacon=="function"?this.sendBeacon=function(o,i){try{if(n.navigator.sendBeacon(o,JSON.stringify(i)))return!0}catch{}return!1}:this.sendBeacon=function(){return!1},this.sendXhr=function(o,i){var a=new XMLHttpRequest;return a.open("POST",o,!0),a.setRequestHeader("Accept","*/*"),a.send(JSON.stringify(i)),!0},this.basePageUrl=$i(r.serverZone),this.context=t}return e.prototype.send=function(t,r){var n=this.context,o=n.sessionId,i=n.type,a=new URLSearchParams({device_id:t,session_id:String(o),type:String(i)}),c="".concat(this.basePageUrl,"?").concat(a.toString());this.sendBeacon(c,r)||this.sendXhr(c,r)},e}()});var wc,Sc,cg,lg=v(()=>{"use strict";Hi();ug();Kt();wc=Cr.getWindowHeight,Sc=Cr.getWindowWidth,cg=function(){function e(t){var r=this;this.timestamp=Date.now(),this.hook=function(n){r.update(n)},this.send=function(n){return function(o){var i=n(),a=He();a&&i&&r.transport.send(i,{maxScrollX:r._maxScrollX,maxScrollY:r._maxScrollY,maxScrollWidth:r._maxScrollWidth,maxScrollHeight:r._maxScrollHeight,viewportHeight:wc(),viewportWidth:Sc(),pageUrl:a.location.href,timestamp:r.timestamp,type:"scroll"})}},this._maxScrollX=0,this._maxScrollY=0,this._maxScrollWidth=Sc(),this._maxScrollHeight=wc(),this.transport=t}return e.default=function(t,r){return new e(new sg(t,r))},Object.defineProperty(e.prototype,"maxScrollX",{get:function(){return this._maxScrollX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollY",{get:function(){return this._maxScrollY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollWidth",{get:function(){return this._maxScrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollHeight",{get:function(){return this._maxScrollHeight},enumerable:!1,configurable:!0}),e.prototype.update=function(t){var r=Date.now();if(t.x>this._maxScrollX){var n=Sc();this._maxScrollX=t.x;var o=t.x+n;o>this._maxScrollWidth&&(this._maxScrollWidth=o),this.timestamp=r}if(t.y>this._maxScrollY){var i=wc();this._maxScrollY=t.y;var a=t.y+i;a>this._maxScrollHeight&&(this._maxScrollHeight=a),this.timestamp=r}},e}()});var Ec,fg=v(()=>{"use strict";eo();Ec=function(){function e(t){var r=t.sessionId,n=t.deviceId;this.deviceId=n,this.sessionId=r,r&&n&&(this.sessionReplayId=Gv(r,n))}return e}()});var dg,pg=v(()=>{"use strict";st();Kt();St();Hi();xv();Wr();Hv();zv();eo();ag();lg();fg();mc();dg=function(){function e(){var t=this;this.name="@amplitude/session-replay-browser",this.recordCancelCallback=null,this.pageLeaveFns=[],this.teardownEventListeners=function(r){var n=He();n&&(n.removeEventListener("blur",t.blurListener),n.removeEventListener("focus",t.focusListener),!r&&n.addEventListener("blur",t.blurListener),!r&&n.addEventListener("focus",t.focusListener),n.self&&"onpagehide"in n.self?(n.removeEventListener("pagehide",t.pageLeaveListener),!r&&n.addEventListener("pagehide",t.pageLeaveListener)):(n.removeEventListener("beforeunload",t.pageLeaveListener),!r&&n.addEventListener("beforeunload",t.pageLeaveListener)))},this.blurListener=function(){t.sendEvents()},this.focusListener=function(){t.recordEvents()},this.pageLeaveListener=function(r){t.pageLeaveFns.forEach(function(n){n(r)})},this.getDebugInfo=function(){if(t.config){var r=Z({},t.config),n=r.apiKey;return r.apiKey="****".concat(n.substring(n.length-4)),{config:r,version:Yi}}},this.stopRecordingEvents=function(){try{t.recordCancelCallback&&t.recordCancelCallback(),t.recordCancelCallback=null}catch(n){var r=n;t.loggerProvider.warn("Error occurred while stopping recording: ".concat(r.toString()))}},this.loggerProvider=new Wt}return e.prototype.init=function(t,r){return Po(this._init(t,r))},e.prototype.removeInvalidSelectors=function(){var t=this,r;if(!((r=this.config)===null||r===void 0)&&r.privacyConfig){var n=document.createDocumentFragment(),o=function(i){if(i===void 0&&(i=[]),typeof i=="string"&&(i=[i]),i=i.filter(function(a){try{n.querySelector(a)}catch{return t.loggerProvider.warn('[session-replay-browser] omitting selector "'.concat(a,'" because it is invalid')),!1}return!0}),i.length!==0)return i};this.config.privacyConfig.blockSelector=o(this.config.privacyConfig.blockSelector),this.config.privacyConfig.maskSelector=o(this.config.privacyConfig.maskSelector),this.config.privacyConfig.unmaskSelector=o(this.config.privacyConfig.unmaskSelector)}},e.prototype._init=function(t,r){var n,o,i;return B(this,void 0,void 0,function(){var a,c,u,s,l,f;return V(this,function(d){switch(d.label){case 0:return this.loggerProvider=r.loggerProvider||new Wt,Object.prototype.hasOwnProperty.call(r,"logLevel")&&this.loggerProvider.enable(r.logLevel),this.identifiers=new Ec({sessionId:r.sessionId,deviceId:r.deviceId}),a=this,[4,Ev(t,r)];case 1:return a.joinedConfigGenerator=d.sent(),c=this,[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)];case 2:return c.config=d.sent(),this.loggerProvider.debug(JSON.stringify({name:"session replay joined privacy config",privacyConfig:this.config.privacyConfig},null,2)),r.sessionId&&(!((n=this.config.interactionConfig)===null||n===void 0)&&n.enabled)&&(u=cg.default({sessionId:r.sessionId,type:"interaction"},this.config),this.pageLeaveFns=[u.send(this.getDeviceId.bind(this))],this.scrollHook=u.hook.bind(u)),this.removeInvalidSelectors(),s=[],[4,vc({config:this.config,sessionId:this.identifiers.sessionId,type:"replay"})];case 3:return l=d.sent(),s.push({name:"replay",manager:l}),!((o=this.config.interactionConfig)===null||o===void 0)&&o.enabled?[4,vc({config:this.config,sessionId:this.identifiers.sessionId,type:"interaction",minInterval:(i=this.config.interactionConfig.trackEveryNms)!==null&&i!==void 0?i:Kh,maxInterval:$h,payloadBatcher:og})]:[3,5];case 4:f=d.sent(),s.push({name:"interaction",manager:f}),d.label=5;case 5:return this.eventsManager=new(gc.bind.apply(gc,Tt([void 0],at(s),!1))),this.loggerProvider.log("Installing @amplitude/session-replay-browser."),this.teardownEventListeners(!1),this.initialize(!0),[2]}})})},e.prototype.setSessionId=function(t,r){return Po(this.asyncSetSessionId(t,r))},e.prototype.asyncSetSessionId=function(t,r){return B(this,void 0,void 0,function(){var n,o,i;return V(this,function(a){switch(a.label){case 0:return n=this.identifiers&&this.identifiers.sessionId,n&&this.sendEvents(n),o=r||this.getDeviceId(),this.identifiers=new Ec({sessionId:t,deviceId:o}),this.joinedConfigGenerator&&n?(i=this,[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)]):[3,2];case 1:i.config=a.sent(),a.label=2;case 2:return this.recordEvents(),[2]}})})},e.prototype.getSessionReplayDebugPropertyValue=function(){var t="";return this.config&&(t=hc(this.config.apiKey).toString()),JSON.stringify({appHash:t})},e.prototype.getSessionReplayProperties=function(){var t;if(!this.config||!this.identifiers)return this.loggerProvider.error("Session replay init has not been called, cannot get session recording properties."),{};var r=this.getShouldRecord();if(r){var n=(t={},t[Uh]=this.identifiers.sessionReplayId?this.identifiers.sessionReplayId:null,t);return this.config.debugMode&&(n[Vh]=this.getSessionReplayDebugPropertyValue()),n}return{}},e.prototype.sendEvents=function(t){var r,n=t||((r=this.identifiers)===null||r===void 0?void 0:r.sessionId),o=this.getDeviceId();this.eventsManager&&n&&o&&this.eventsManager.sendCurrentSequenceEvents({sessionId:n,deviceId:o})},e.prototype.initialize=function(t){var r;if(t===void 0&&(t=!1),!(!((r=this.identifiers)===null||r===void 0)&&r.sessionId)){this.loggerProvider.log("Session is not being recorded due to lack of session id.");return}var n=this.getDeviceId();if(!n){this.loggerProvider.log("Session is not being recorded due to lack of device id.");return}this.eventsManager&&t&&this.eventsManager.sendStoredEvents({deviceId:n}),this.recordEvents()},e.prototype.shouldOptOut=function(){var t,r,n;if(!((t=this.config)===null||t===void 0)&&t.instanceName){var o=Si(this.config.instanceName).identityStore;n=o.getIdentity().optOut}return n!==void 0?n:(r=this.config)===null||r===void 0?void 0:r.optOut},e.prototype.getShouldRecord=function(){if(!this.identifiers||!this.config||!this.identifiers.sessionId)return this.loggerProvider.warn("Session is not being recorded due to lack of config, please call sessionReplay.init."),!1;if(!this.config.captureEnabled)return this.loggerProvider.log("Session ".concat(this.identifiers.sessionId," not being captured due to capture being disabled for project or because the remote config could not be fetched.")),!1;if(this.shouldOptOut())return this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to optOut config.")),!1;var t=Vv(this.identifiers.sessionId,this.config.sampleRate);return t||this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to sample rate.")),t},e.prototype.getBlockSelectors=function(){var t,r,n,o=(n=(r=(t=this.config)===null||t===void 0?void 0:t.privacyConfig)===null||r===void 0?void 0:r.blockSelector)!==null&&n!==void 0?n:[];if(o.length!==0)return o},e.prototype.getMaskTextSelectors=function(){var t,r,n,o;if(((r=(t=this.config)===null||t===void 0?void 0:t.privacyConfig)===null||r===void 0?void 0:r.defaultMaskLevel)==="conservative")return"*";var i=(o=(n=this.config)===null||n===void 0?void 0:n.privacyConfig)===null||o===void 0?void 0:o.maskSelector;if(i)return i},e.prototype.recordEvents=function(){var t=this,r,n=this.getShouldRecord(),o=(r=this.identifiers)===null||r===void 0?void 0:r.sessionId;if(!(!n||!o||!this.config)){this.stopRecordingEvents();var i=this.config.privacyConfig;this.recordCancelCallback=Ct({emit:function(c){if(t.shouldOptOut()){t.loggerProvider.log("Opting session ".concat(o," out of recording due to optOut config.")),t.stopRecordingEvents(),t.sendEvents();return}var u=JSON.stringify(c),s=t.getDeviceId();t.eventsManager&&s&&t.eventsManager.addEvent({event:{type:"replay",data:u},sessionId:o,deviceId:s})},packFn:nc,inlineStylesheet:this.config.shouldInlineStylesheet,hooks:{mouseInteraction:this.eventsManager&&ig({eventsManager:this.eventsManager,sessionId:o,deviceIdFn:this.getDeviceId.bind(this)}),scroll:this.scrollHook},maskAllInputs:!0,maskTextClass:Ei,blockClass:Bh,blockSelector:this.getBlockSelectors(),maskInputFn:pc("input",i),maskTextFn:pc("text",i),maskTextSelector:this.getMaskTextSelectors(),recordCanvas:!1,errorHandler:function(c){var u=c;if(u.message.includes("insertRule")&&u.message.includes("CSSStyleSheet")||u._external_)throw u;return t.loggerProvider.warn("Error while recording: ",u.toString()),!0}});var a=this.getDebugInfo();a&&Ct.addCustomEvent("debug-info",a)}},e.prototype.getDeviceId=function(){var t,r,n;if(!((t=this.config)===null||t===void 0)&&t.instanceName){var o=Si(this.config.instanceName).identityStore;n=o.getIdentity().deviceId}return n||((r=this.identifiers)===null||r===void 0?void 0:r.deviceId)},e.prototype.getSessionId=function(){var t;return(t=this.identifiers)===null||t===void 0?void 0:t.sessionId},e.prototype.flush=function(t){var r;return t===void 0&&(t=!1),B(this,void 0,void 0,function(){return V(this,function(n){return[2,(r=this.eventsManager)===null||r===void 0?void 0:r.flush(t)]})})},e.prototype.shutdown=function(){this.teardownEventListeners(!0),this.stopRecordingEvents(),this.sendEvents()},e}()});var Qr,Mw,Pr,hg=v(()=>{"use strict";St();Pu();pg();Qr=function(e){return function(){var t=e.config,r=t||Ou(),n=r.loggerProvider,o=r.logLevel;return{logger:n,logLevel:o}}},Mw=function(){var e=new dg;return{init:qt(e.init.bind(e),"init",Qr(e)),setSessionId:qt(e.setSessionId.bind(e),"setSessionId",Qr(e)),getSessionId:qt(e.getSessionId.bind(e),"getSessionId",Qr(e)),getSessionReplayProperties:qt(e.getSessionReplayProperties.bind(e),"getSessionReplayProperties",Qr(e)),flush:qt(e.flush.bind(e),"flush",Qr(e)),shutdown:qt(e.shutdown.bind(e),"shutdown",Qr(e))}},Pr=Mw()});var mg,vg,gg,xc,yg,bg,_g=v(()=>{"use strict";hg();mg=Pr.init,vg=Pr.setSessionId,gg=Pr.getSessionId,xc=Pr.getSessionReplayProperties,yg=Pr.flush,bg=Pr.shutdown});var wg,Lw,kw,ea,Sg=v(()=>{"use strict";Ch();_g();wg="@amplitude/plugin-session-replay-enrichment-browser",Lw=function(){function e(){this.name=wg,this.type="enrichment"}return e.prototype.setup=function(t,r){return yr(this,void 0,void 0,function(){return br(this,function(n){return this.config=t,[2]})})},e.prototype.execute=function(t){return yr(this,void 0,void 0,function(){var r;return br(this,function(n){switch(n.label){case 0:return this.config.sessionId&&this.config.sessionId!==gg()?[4,vg(this.config.sessionId).promise]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.config.sessionId&&this.config.sessionId===t.session_id&&(r=xc(),t.event_properties=zt(zt({},t.event_properties),r)),[2,Promise.resolve(t)]}})})},e}(),kw=function(){function e(t){this.name="@amplitude/plugin-session-replay-browser",this.type="destination",this.options=zt({},t),this.options.forceSessionTracking!==!1&&(this.options.forceSessionTracking=!0)}return e.prototype.setup=function(t,r){var n,o,i,a;return yr(this,void 0,void 0,function(){return br(this,function(c){switch(c.label){case 0:return r?(t.loggerProvider.log("Installing @amplitude/plugin-session-replay."),this.clientRemove=r.remove.bind(r),this.config=t,this.options.forceSessionTracking&&(typeof t.defaultTracking=="boolean"?t.defaultTracking===!1&&(t.defaultTracking={pageViews:!1,formInteractions:!1,fileDownloads:!1,sessions:!0}):t.defaultTracking=zt(zt({},t.defaultTracking),{sessions:!0})),[4,mg(t.apiKey,{instanceName:this.config.instanceName,deviceId:this.config.deviceId,optOut:this.config.optOut,sessionId:this.config.sessionId,loggerProvider:this.config.loggerProvider,logLevel:this.config.logLevel,flushMaxRetries:this.config.flushMaxRetries,serverZone:this.config.serverZone,sampleRate:this.options.sampleRate,privacyConfig:{blockSelector:(n=this.options.privacyConfig)===null||n===void 0?void 0:n.blockSelector,maskSelector:(o=this.options.privacyConfig)===null||o===void 0?void 0:o.maskSelector,unmaskSelector:(i=this.options.privacyConfig)===null||i===void 0?void 0:i.unmaskSelector,defaultMaskLevel:(a=this.options.privacyConfig)===null||a===void 0?void 0:a.defaultMaskLevel},debugMode:this.options.debugMode,configEndpointUrl:this.options.configEndpointUrl,shouldInlineStylesheet:this.options.shouldInlineStylesheet}).promise]):(t.loggerProvider.error("SessionReplayPlugin requires v1.9.1+ of the Amplitude SDK."),[2]);case 1:return c.sent(),[4,r.add(new Lw).promise];case 2:return c.sent(),[2]}})})},e.prototype.execute=function(t){return yr(this,void 0,void 0,function(){return br(this,function(r){return[2,Promise.resolve({event:t,code:200,message:"success"})]})})},e.prototype.flush=function(){return yr(this,void 0,void 0,function(){return br(this,function(t){switch(t.label){case 0:return[4,yg(!1)];case 1:return t.sent(),[2]}})})},e.prototype.teardown=function(){return yr(this,void 0,void 0,function(){return br(this,function(t){switch(t.label){case 0:return[4,this.clientRemove(wg).promise];case 1:return t.sent(),bg(),this.config=null,this.clientRemove=null,[2]}})})},e.prototype.getSessionReplayProperties=function(){return xc()},e}(),ea=function(e){return new kw(e)}});var Eg=v(()=>{"use strict";Sg()});var N,xg,Tg,h1,Ig,m1,v1,g1,Cg,to,Tc=v(()=>{"use strict";(function(e){e.Designer="Designer",e.Journalist="Journalist",e.MarketingSpecialist="Marketing Specialist",e.Photographer="Photographer",e.Videographer="Videographer",e.Student="Student",e.Teacher="Teacher",e.DesignersClient="Designer's Client",e.Work="Work",e.Education="Education",e.Myself="Myself",e.Freelance="Freelance",e.Company="Company",e.Agency="Agency",e.CompanyWebsite="Company website",e.LandingPage="Landing page",e.Presentation="Presentation",e.Portfolio="Portfolio",e.Editorial="Editorial",e.OnlineStore="Online store",e.JustTestingOut="Just testing out",e.ClientsCompanyWebsite="Client's company website",e.MyPortfolio="My portfolio",e.MyCompanyWebsite="My company website",e.OtherCompanyWebsite="Other company website",e.PersonalPortfolio="Personal portfolio",e.MyAgencyWebsite="My agency website",e.FriendsColleagues="Friends/Colleagues",e.TikTok="TikTok",e.Instagram="Instagram",e.Youtube="Youtube",e.EventConference="Event/conference",e.SearchEngineLikeGoogle="Search engine like Google",e.Other="Other"})(N||(N={}));xg=[{label:N.Designer,analyticsValue:"designer"},{label:N.Journalist,analyticsValue:"journalist"},{label:N.MarketingSpecialist,analyticsValue:"marketing specialist"},{label:N.Photographer,analyticsValue:"photographer"},{label:N.Videographer,analyticsValue:"videographer"},{label:N.Student,analyticsValue:"student"},{label:N.Teacher,analyticsValue:"teacher"},{label:N.DesignersClient,analyticsValue:"designer's client"},{label:N.Other,analyticsValue:"other"}],Tg=[{label:N.Work,analyticsValue:"work"},{label:N.Education,analyticsValue:"education"},{label:N.Myself,analyticsValue:"myself"},{label:N.Other,analyticsValue:"other"}],h1=[{label:N.Freelance,analyticsValue:"freelance"},{label:N.Company,analyticsValue:"company"},{label:N.Agency,analyticsValue:"agency"}],Ig=[{label:N.CompanyWebsite,analyticsValue:"company website"},{label:N.LandingPage,analyticsValue:"landing page"},{label:N.Presentation,analyticsValue:"presentation"},{label:N.Portfolio,analyticsValue:"portfolio"},{label:N.Editorial,analyticsValue:"editorial"},{label:N.OnlineStore,analyticsValue:"online store"},{label:N.JustTestingOut,analyticsValue:"just testing out"},{label:N.Other,analyticsValue:"other"}],m1=[{label:N.ClientsCompanyWebsite,analyticsValue:"client's company website"},{label:N.LandingPage,analyticsValue:"landing page"},{label:N.Presentation,analyticsValue:"presentation"},{label:N.MyPortfolio,analyticsValue:"my portfolio"},{label:N.Editorial,analyticsValue:"editorial"},{label:N.OnlineStore,analyticsValue:"online store"},{label:N.JustTestingOut,analyticsValue:"just testing out"},{label:N.Other,analyticsValue:"other"}],v1=[{label:N.MyCompanyWebsite,analyticsValue:"my company website"},{label:N.LandingPage,analyticsValue:"landing page"},{label:N.OtherCompanyWebsite,analyticsValue:"other company website"},{label:N.Presentation,analyticsValue:"presentation"},{label:N.PersonalPortfolio,analyticsValue:"personal portfolio"},{label:N.Editorial,analyticsValue:"editorial"},{label:N.OnlineStore,analyticsValue:"online store"},{label:N.JustTestingOut,analyticsValue:"just testing out"},{label:N.Other,analyticsValue:"other"}],g1=[{label:N.MyAgencyWebsite,analyticsValue:"my agency website"},{label:N.LandingPage,analyticsValue:"landing page"},{label:N.ClientsCompanyWebsite,analyticsValue:"client's company website"},{label:N.Presentation,analyticsValue:"presentation"},{label:N.PersonalPortfolio,analyticsValue:"personal portfolio"},{label:N.Editorial,analyticsValue:"editorial"},{label:N.OnlineStore,analyticsValue:"online store"},{label:N.JustTestingOut,analyticsValue:"just testing out"},{label:N.Other,analyticsValue:"other"}],Cg=[{label:N.FriendsColleagues,analyticsValue:"friends/colleagues"},{label:N.Teacher,analyticsValue:"teacher"},{label:N.TikTok,analyticsValue:"tikTok"},{label:N.Instagram,analyticsValue:"instagram"},{label:N.Youtube,analyticsValue:"youtube"},{label:N.EventConference,analyticsValue:"event/conference"},{label:N.SearchEngineLikeGoogle,analyticsValue:"search engine like google"},{label:N.Other,analyticsValue:"other"}],to=({value:e,options:t})=>{if(e=e.toLowerCase(),e.includes(N.DesignersClient.toLowerCase()))return t.find(n=>n.label===N.DesignersClient)?.analyticsValue||e;if(e.includes("other:"))return t.find(n=>n.label===N.Other)?.analyticsValue||"other";if(e.includes(N.Work.toLowerCase()))return e;let r=t.find(n=>e.includes(n.analyticsValue.toLowerCase()));return r?r.analyticsValue:e}});function x1({apiKey:e,user:t,config:r,plugins:n}){if(!Se()||!e)return;let o=t?._id;if(Eh(e,o,r),n?.sessionReplay){let i=ea({sampleRate:1,...n.sessionReplay});Dw(i)}t&&(xh(o),Nw(Uw(t)))}function T1(e,t,r){!Se()||!e||Th(e,t,r)}function Dw(e){!Se()||!e||wh(e)}function Nw(e){if(!Se()||!e)return;let t=new lt;for(let[r,n]of Object.entries(e))t.set(r,n);Sh(t)}function Uw(e){return{userId:e._id,customer:!!e.plan,coupon:e.stripe?.coupon_name,planType:e.plan?.level||"free",planPeriod:e.plan?.interval,totalProjects:e.created_mags_count||0,publishedProjects:e.mags_count||0,customDomainProjects:e.projectDomains||0,betaTester:!!e.permissions?.can_use_beta_testing,lifeTimeValue:e.analytics_data?.lifeTimeValue||0,numOfVisits:["profile","public","editor"].reduce((t,r)=>t+(e.analytics_data?.[`visit_${r}`]||0),0),job:to({value:e.registrationData?.job||"",options:xg}),project:to({value:e.registrationData?.future_project||"",options:Ig}),audience:to({value:e.registrationData?.design_purpose||"",options:Tg}),wordOfMouth:(e.registrationData?.discovery_channels||[]).map(t=>to({value:t,options:Cg})),signUpDate:Ic(e.createDate),lastVisitDate:Ic(e.last_token_refresh),firstPaymentDate:Ic(e.stripe?.subscription_start)}}function Ic(e){return e?jc(Vc(e),"yyyy-MM-dd"):""}var Og=v(()=>{"use strict";Ih();Eg();$g();Jr();Tc()});var Fw,Pg=v(()=>{"use strict";Fw=Rr(Kg())});var Rg=Lc((ta,Cc)=>{"use strict";(function(e,t){typeof ta=="object"&&typeof Cc=="object"?Cc.exports=t():typeof define=="function"&&define.amd?define([],t):typeof ta=="object"?ta.ReactPixel=t():e.ReactPixel=t()})(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(n,o,i){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var a in n)r.d(i,a,function(c){return n[c]}.bind(null,a));return i},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(f){return function(d){if(Array.isArray(d))return o(d)}(f)||function(d){if(typeof Symbol<"u"&&Symbol.iterator in Object(d))return Array.from(d)}(f)||function(d,p){if(d){if(typeof d=="string")return o(d,p);var h=Object.prototype.toString.call(d).slice(8,-1);if(h==="Object"&&d.constructor&&(h=d.constructor.name),h==="Map"||h==="Set")return Array.from(d);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return o(d,p)}}(f)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(f,d){(d==null||d>f.length)&&(d=f.length);for(var p=0,h=new Array(d);p<d;p++)h[p]=f[p];return h}r.r(t);var i=!1,a=!1,c=function(){var f;if(a){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];(f=console).info.apply(f,n(["[react-facebook-pixel]"].concat(p)))}},u=function(){var f;if(a){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];(f=console).info.apply(f,n(["[react-facebook-pixel]"].concat(p)))}},s=function(){return i||c("Pixel not initialized before using call ReactPixel.init with required params"),i},l={autoConfig:!0,debug:!1};t.default={init:function(f){var d,p,h,m,y,_,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l;i=typeof window<"u"&&!!window.fbq,d=window,p=document,h="script",d.fbq||(m=d.fbq=function(){m.callMethod?m.callMethod.apply(m,arguments):m.queue.push(arguments)},d._fbq||(d._fbq=m),m.push=m,m.loaded=!0,m.version="2.0",m.queue=[],(y=p.createElement(h)).async=!0,y.src="https://connect.facebook.net/en_US/fbevents.js",(_=p.getElementsByTagName(h)[0]).parentNode.insertBefore(y,_)),f?(b.autoConfig===!1&&fbq("set","autoConfig",!1,f),fbq("init",f,g),i=!0,a=b.debug):c("Please insert pixel id for initializing")},pageView:function(){s()&&(fbq("track","PageView"),a&&u("called fbq('track', 'PageView');"))},track:function(f,d,p){s()&&(fbq("track",f,d,p),a&&(u("called fbq('track', '".concat(f,"');")),d&&u("with data",d),p&&u("with eventData",p)))},trackSingle:function(f,d,p,h){s()&&(fbq("trackSingle",f,d,p,h),a&&(u("called fbq('trackSingle', '".concat(f,"', '").concat(d,"');")),p&&u("with data",p),h&&u("with eventData",h)))},trackCustom:function(f,d,p){s()&&(fbq("trackCustom",f,d,p),a&&(u("called fbq('trackCustom', '".concat(f,"');")),d&&u("with data",d),p&&u("with eventData",p)))},trackSingleCustom:function(f,d,p,h){s()&&(fbq("trackSingle",f,d,p,h),a&&(u("called fbq('trackSingleCustom', '".concat(f,"', '").concat(d,"');")),p&&u("with data",p),h&&u("with eventData",h)))},grantConsent:function(){s()&&(fbq("consent","grant"),a&&u("called fbq('consent', 'grant');"))},revokeConsent:function(){s()&&(fbq("consent","revoke"),a&&u("called fbq('consent', 'revoke');"))},fbq:function(f){function d(){return f.apply(this,arguments)}return d.toString=function(){return f.toString()},d}(function(){if(s()){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];fbq.apply(void 0,d),a&&(u("called fbq('".concat(d.slice(0,2).join("', '"),"')")),d[2]&&u("with data",d[2]))}})}}])})});var Mg,Ag,Lg=v(()=>{"use strict";Jr();Mg=!1,Ag=({id:e,eventName:t,eventParams:r={},eventIdParams:n={}})=>{if(!Se())return;let o=Rg();Mg||(o.default.init(e),Mg=!0),o.default.track(t,r,n)}});var kg=v(()=>{"use strict";fa();fa();tl();nl();Pg();Lg();Og();Tc()});function Pc(){Pc=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(E,S,I){E[S]=I.value},o=typeof Symbol=="function"?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(E,S,I){return Object.defineProperty(E,S,{value:I,enumerable:!0,configurable:!0,writable:!0}),E[S]}try{u({},"")}catch{u=function(S,I,L){return S[I]=L}}function s(E,S,I,L){var P=S&&S.prototype instanceof d?S:d,j=Object.create(P.prototype),G=new A(L||[]);return n(j,"_invoke",{value:T(E,I,G)}),j}function l(E,S,I){try{return{type:"normal",arg:E.call(S,I)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var f={};function d(){}function p(){}function h(){}var m={};u(m,i,function(){return this});var y=Object.getPrototypeOf,_=y&&y(y(D([])));_&&_!==t&&r.call(_,i)&&(m=_);var g=h.prototype=d.prototype=Object.create(m);function b(E){["next","throw","return"].forEach(function(S){u(E,S,function(I){return this._invoke(S,I)})})}function w(E,S){function I(P,j,G,z){var k=l(E[P],E,j);if(k.type!=="throw"){var X=k.arg,oe=X.value;return oe&&typeof oe=="object"&&r.call(oe,"__await")?S.resolve(oe.__await).then(function(J){I("next",J,G,z)},function(J){I("throw",J,G,z)}):S.resolve(oe).then(function(J){X.value=J,G(X)},function(J){return I("throw",J,G,z)})}z(k.arg)}var L;n(this,"_invoke",{value:function(P,j){function G(){return new S(function(z,k){I(P,j,z,k)})}return L=L?L.then(G,G):G()}})}function T(E,S,I){var L="suspendedStart";return function(P,j){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(P==="throw")throw j;return F()}for(I.method=P,I.arg=j;;){var G=I.delegate;if(G){var z=C(G,I);if(z){if(z===f)continue;return z}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(L==="suspendedStart")throw L="completed",I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);L="executing";var k=l(E,S,I);if(k.type==="normal"){if(L=I.done?"completed":"suspendedYield",k.arg===f)continue;return{value:k.arg,done:I.done}}k.type==="throw"&&(L="completed",I.method="throw",I.arg=k.arg)}}}function C(E,S){var I=E.iterator[S.method];if(I===void 0){if(S.delegate=null,S.method==="throw"){if(E.iterator.return&&(S.method="return",S.arg=void 0,C(E,S),S.method==="throw"))return f;S.method="throw",S.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var L=l(I,E.iterator,S.arg);if(L.type==="throw")return S.method="throw",S.arg=L.arg,S.delegate=null,f;var P=L.arg;return P?P.done?(S[E.resultName]=P.value,S.next=E.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,f):P:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,f)}function O(E){var S={tryLoc:E[0]};1 in E&&(S.catchLoc=E[1]),2 in E&&(S.finallyLoc=E[2],S.afterLoc=E[3]),this.tryEntries.push(S)}function x(E){var S=E.completion||{};S.type="normal",delete S.arg,E.completion=S}function A(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(O,this),this.reset(!0)}function D(E){if(E){var S=E[i];if(S)return S.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var I=-1,L=function P(){for(;++I<E.length;)if(r.call(E,I))return P.value=E[I],P.done=!1,P;return P.value=void 0,P.done=!0,P};return L.next=L}}return{next:F}}function F(){return{value:void 0,done:!0}}return p.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(E){var S=typeof E=="function"&&E.constructor;return!!S&&(S===p||(S.displayName||S.name)==="GeneratorFunction")},e.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,h):(E.__proto__=h,u(E,c,"GeneratorFunction")),E.prototype=Object.create(g),E},e.awrap=function(E){return{__await:E}},b(w.prototype),u(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(E,S,I,L,P){P===void 0&&(P=Promise);var j=new w(s(E,S,I,L),P);return e.isGeneratorFunction(S)?j:j.next().then(function(G){return G.done?G.value:j.next()})},b(g),u(g,c,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(E){var S=Object(E),I=[];for(var L in S)I.push(L);return I.reverse(),function P(){for(;I.length;){var j=I.pop();if(j in S)return P.value=j,P.done=!1,P}return P.done=!0,P}},e.values=D,A.prototype={constructor:A,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!E)for(var S in this)S.charAt(0)==="t"&&r.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var S=this;function I(k,X){return j.type="throw",j.arg=E,S.next=k,X&&(S.method="next",S.arg=void 0),!!X}for(var L=this.tryEntries.length-1;L>=0;--L){var P=this.tryEntries[L],j=P.completion;if(P.tryLoc==="root")return I("end");if(P.tryLoc<=this.prev){var G=r.call(P,"catchLoc"),z=r.call(P,"finallyLoc");if(G&&z){if(this.prev<P.catchLoc)return I(P.catchLoc,!0);if(this.prev<P.finallyLoc)return I(P.finallyLoc)}else if(G){if(this.prev<P.catchLoc)return I(P.catchLoc,!0)}else{if(!z)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return I(P.finallyLoc)}}}},abrupt:function(E,S){for(var I=this.tryEntries.length-1;I>=0;--I){var L=this.tryEntries[I];if(L.tryLoc<=this.prev&&r.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var P=L;break}}P&&(E==="break"||E==="continue")&&P.tryLoc<=S&&S<=P.finallyLoc&&(P=null);var j=P?P.completion:{};return j.type=E,j.arg=S,P?(this.method="next",this.next=P.finallyLoc,f):this.complete(j)},complete:function(E,S){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&S&&(this.next=S),f},finish:function(E){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.finallyLoc===E)return this.complete(I.completion,I.afterLoc),x(I),f}},catch:function(E){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc===E){var L=I.completion;if(L.type==="throw"){var P=L.arg;x(I)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(E,S,I){return this.delegate={iterator:D(E),resultName:S,nextLoc:I},this.method==="next"&&(this.arg=void 0),f}},e}function Dg(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){r(s);return}c.done?t(u):Promise.resolve(u).then(n,o)}function jw(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(u){Dg(i,n,o,a,c,"next",u)}function c(u){Dg(i,n,o,a,c,"throw",u)}a(void 0)})}}var ra,ro,Ug,Vw,Oc,Bw,Gw,Ww,Ng,Rc,Fg=v(()=>{"use strict";ra=!1,ro=!1,Ug=function(){var t;if(ra){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=console).info.apply(t,["[tiktok-pixel]"].concat(n))}},Vw=function(){return ro||Ug("Pixel not initialized before using call tiktokPixel.init with required params"),ro},Oc=function(){var t;if(ra){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=console).info.apply(t,["[tiktok-pixel]"].concat(n))}},Bw=function(t,r,n,o,i){t.TiktokAnalyticsObject=r;var a=t[r]=t[r]||[];a.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],a.setAndDefer=function(u,s){u[s]=function(){u.push([s].concat(Array.prototype.slice.call(arguments,0)))}};for(var c=0;c<a.methods.length;c++)a.setAndDefer(a,a.methods[c]);a.instance=function(u){for(var s=a._i[u]||[],l=0;l<a.methods.length;l++)a.setAndDefer(s,a.methods[l]);return s},a.load=function(u,s){var l,f="https://analytics.tiktok.com/i18n/pixel/events.js";a._i=a._i||{},a._i[u]=[],a._i[u]._u=f,a._t=a._t||{},a._t[u]=+new Date,a._o=a._o||{},a._o[u]=s||{};var d=document.createElement("script");d.type="text/javascript",d.async=!0,d.src=f+"?sdkid="+u+"&lib="+r;var p=document.getElementsByTagName("script")[0];p==null||(l=p.parentNode)==null||l.insertBefore(d,p)},n?(a.load(n),a.identify(o),a.page(),ro=!0,ra=i.debug):Ug("Please insert pixel id for initializing")},Gw={debug:!1},Ww={init:function(t,r,n){return jw(Pc().mark(function o(){return Pc().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r===void 0&&(r={}),n===void 0&&(n=Gw),ro=typeof window<"u"&&!!window.ttq,ro||Bw(window,"ttq",t,r,n);case 4:case"end":return a.stop()}},o)}))()},pageView:function(){var t=Ng();t.page()},track:function(t,r,n){if(n===void 0&&(n={}),!!Vw()){t||Oc("please specificy an event name");var o=Ng();o.track(t,r,n),ra&&(Oc("called ttq.track('"+t+"')",r,n),r&&Oc("with data",r,n))}}},Ng=function(){return window.ttq},Rc=Ww});var _t,Jt,Le,Zr,Vg=v(()=>{"use strict";_t=Rr(Dc()),Jt=Rr(kc());kg();jg();Fc();zg();Hg();Xg();Fg();Le={isPageNativelyScaled:function(){return window.innerWidth!=document.documentElement.clientWidth},declination:function(e,t,r,n,o){let i=[e,t,r],a=n%100;return a>=11&&a<=14?a=0:a=(a%=10)<5?a>2?2:a:0,o||(a=n==1?1:0),i[a]},autoWindowScroll:function(e,t,r){this.autoWindowScrollClear();let n=10,o=0,i=100,a=(0,_t.default)(window).height();e.pageY<n&&(o=-Math.abs(Math.floor((n-e.pageY)*3))),e.pageY>a-n&&(o=Math.abs(Math.floor((n-(a-e.pageY))*3))),o=Math.max(Math.min(20,o),-20),o!=0&&(t.scrollTop(t.scrollTop()+o),RM.common.autoWindowScrollTimeout=setTimeout(function(){r&&r()},i))},autoWindowScrollClear:function(){clearTimeout(RM.common.autoWindowScrollTimeout)},parseUriParameters:e=>Object.fromEntries(new URLSearchParams(e)),getRGBA:function(e,t){let r="";if(e){let n=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)];t>.99?r="rgb("+n[0]+","+n[1]+","+n[2]+")":r="rgba("+n[0]+","+n[1]+","+n[2]+", "+t+")"}return r},generateUUID:function(){let e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r=="x"?n:n&3|8).toString(16)})},escapeSpecial:function(e,t){return e=(e+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1"),e&&t&&(e="'"+e+"'"),e},isEqual:(e,t)=>e instanceof Array&&t instanceof Array?e.length!==t.length?!1:e.every((r,n)=>Le.isEqual(r,t[n])):e instanceof Object&&t instanceof Object?Jt.default.uniq([...Object.keys(e),...Object.keys(t)]).every(n=>{let o=e[n];return Le.isEqual(o,t[n])}):Jt.default.isEqual(e,t),scanForURIs:function(e,t,r){function n(u,s,l,f){let d=u;(s==null||s=="")&&(d="http://"+d);let p=l;return f!=null&&f!=""&&(p+="."+f),c++,r||(p=d,p=p.replace(/^https?:\/\//,"")),a[c]="<a "+(t?'class = "'+t+'"':"")+' href="'+d+'" target="_blank" title="'+d+'">'+p+"</a>","INNER_TMP_BLOCK_"+c+"_INNER_TMP_BLOCK"}function o(u){return c++,a[c]="<a "+(t?'class = "'+t+'"':"")+' href="mailto:'+u+'">'+u+"</a>","INNER_TMP_BLOCK_"+c+"_INNER_TMP_BLOCK"}function i(u,s){return a[s]}var a=[],c=0;return e+=" ",e=e.replace(/\b([a-z0-9_\.-]+)@([\da-z\.-]+)\.(biz|com|edu|gov|net|org|us|ru|ua|uk|su|se|co|no|jp|it|in|il|gb|fr|fi|es|de|cz|ch|ca|by|at|au)/gim,o),e=e.replace(/\b(https?:\/\/)?([\da-z\.-]+)\.(biz|com|edu|gov|net|org|us|ru|ua|uk|su|se|co|no|jp|it|in|il|gb|fr|fi|es|de|cz|ch|ca|by|at|au)(\/[^\s\(\)\[\]\{\}\<\>]*)*/gim,n),e=e.replace(/INNER_TMP_BLOCK_([\d]+)_INNER_TMP_BLOCK/gim,i),e},plainTextToHtml:function(e,t){return e=e||"",e=e.replace(/\&/gim,"&amp;"),e=e.replace(/\</gim,"&lt;"),e=e.replace(/\>/gim,"&gt;"),e=e.replace(/\n/gim,"<br/>"),e=e.replace(/\s\s/gim," &nbsp;"),t&&t.detectLinks&&(e=Le.scanForURIs(e)),e},URLParts:function(e){let r=/(.+:\/\/)?([^\/]+)(\/.*)*/i.exec(e);return r=r||[],{url:r[0]||"",protocol:r[1]||"",hostname:r[2]||"",path:r[3]||""}},filterNonAscii:function(e){if(!e||!e.val)return;let t=e.val();return/[^\x00-\x7f]/.test(t)?(t=t.replace(/[^\x00-\x7f]/g,""),e.val(t),!0):!1},applyTransform:function(e,t){e.css({"-webkit-transform":t,transform:t})},getElementScale(e){let t=window.getComputedStyle(e),r=t.transform||t.webkitTransform,n;if(r==="none"||typeof r>"u")return n;let o=r.match(/matrix.*\((.+)\)/)?.[1].split(", ");return{x:+o[0],y:+o[3]}},getElementTranslateByString(e){if(e.style.transform){let t=e.style.transform.match(/translate\(([-\.\d]+\w*),\s([-\.\d]+\w*)\)/);if(t&&t[1]&&t[2]){let r=parseFloat(t[1],10),n=parseFloat(t[2],10);return{x:r,y:n}}}return{x:0,y:0}},getElementTranslate(e,t=!1){let r=window.getComputedStyle(e),n=r.transform||r.webkitTransform,o={x:0,y:0,z:0};if(n==="none"||typeof n>"u")return o;let i=n.includes("3d")?"3d":"2d",a=n.match(/matrix.*\((.+)\)/)?.[1].split(", ");return a&&a.length&&(i==="2d"&&(o={x:+a[4]/(t?a[0]:1),y:+a[5]/(t?a[3]:1),z:0}),i==="3d"&&(o={x:+a[12],y:+a[13],z:+a[14]})),o},getElementRotationAngle(e){let t=window.getComputedStyle(e),r=t.transform||t.webkitTransform,n=0;if(r==="none"||typeof r>"u")return n;let o=r.match(/matrix.*\((.+)\)/)?.[1].split(", ");return o&&o.length&&(n=Math.round(Math.atan2(+o[1],+o[0])*(180/Math.PI))),n},getCurrentTranslate:function(e){let t=window.getComputedStyle(e,null),r=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("transform");if(!r||r=="none")return[0,0];var n=r.split("(")[1],n=n.split(")")[0],n=n.split(",");return[n[4]-0,n[5]-0]},applyTransition:function(e,t){e.css({"-webkit-transition":t.replace("transform","-webkit-transform"),transition:t})},waitForTransitionEnd:function(e,t,r,n){return this.animationTransitionEndHandler("transition",e,t,r,n)},waitForAnimationEnd:function(e,t,r,n){return this.animationTransitionEndHandler("animation",e,t,r,n)},animationTransitionEndHandler:function(e,t,r,n,o){t=t instanceof _t.default?t:(0,_t.default)(t);let c=e==="transition"?{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")]:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OTransition:"oAnimationEnd",msTransition:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],u=function(f){if(f){let d=e==="transition"?f.originalEvent.propertyName.toLowerCase():f.originalEvent.animationName.toLowerCase();if(e==="transition"&&!(0,_t.default)(f.target).is(t)||d.indexOf(n)===-1)return}t.off(c,u),clearTimeout(l),o()},s=function(){t.off(c,u),clearTimeout(l)};t.on(c,u);var l=setTimeout(u,r);return s},vueTransitionsShow:function(e,t){let r=t+"-enter",n=t+"-enter-active";e.addClass(r),window.requestAnimationFrame(function(){e.removeClass(r),e.addClass(n),Le.waitForTransitionEnd(e,200,"opacity",function(){e.removeClass(n)})})},vueTransitionsHide:function(e,t){let r=t+"-leave-to",n=t+"-leave-active";return e.addClass(r+" "+n),new window.Promise(function(o){Le.waitForTransitionEnd(e,200,"opacity",o)}).then(function(){e.removeClass(r+" "+n)})},getFixedPositionCSS:function(e,t,r){let n=t.left*r,o=t.top*r,i=t.width,a=t.height,c=i*(1-r)/2,u=a*(1-r)/2,s={left:"",top:"",bottom:"",right:"","margin-left":"","margin-top":""};return e?(e!="c"&&(e.indexOf("n")>-1&&(s.top=o-u),e.indexOf("w")>-1&&(s.left=n-c),e.indexOf("e")>-1&&(s.right=n-c),e.indexOf("s")>-1&&(s.bottom=o-u)),["n","c","s"].indexOf(e)>-1&&(s.left="50%",s["margin-left"]=-i/2+n),["w","c","e"].indexOf(e)>-1&&(s.top="50%",s["margin-top"]=-a/2+o),s):Jt.default.extend({},s,t)},hex2rgb:function(e){return e?[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]:[]},getCursorStylesString({cusrsorUrl:e,cursorSize:t,isLambda:r,isHover:n}){let o=`url(${e}), ${n?"pointer":"auto"}`;if(t&&r){let i=Math.max(t.width,t.height);o=`
      -webkit-image-set(
        url(${e}?w=${Math.round(i/2)}) 1x,
        url(${e}) 2x
      ), ${n?"pointer":"auto"}`}return o},loadLoggedUser:function(e){if(window.RM?.common.isDownloadedSource&&!window.RM?.common.homepageRewrite)return e&&e();if(window.ServerData?.me?.user)return e&&e(window.ServerData.me.user);if(Le.__loadLoggedUserCallbackStack=Le.__loadLoggedUserCallbackStack||[],e&&typeof e=="function"&&Le.__loadLoggedUserCallbackStack.push(e),Le.__loadLoggedUserLoadStarted)return;Le.__loadLoggedUserLoadStarted=!0,(0,_t.default)(window).on("message",Jt.default.bind(function(r){if(r=r.originalEvent||{},r.origin===De.readymag_auth_host){if(typeof r.data!="string")return;let n=JSON.parse(r.data);if(n.event!=="user")return;let o=n.message;o&&window.location.href===`${De.readymag_host}/`&&(Wc("_rm_redirect","profile",60,"lax"),window.location.href=De.readymag_auth_host),window.ServerData&&(window.ServerData.me={user:o});for(let i=0;i<Le.__loadLoggedUserCallbackStack.length;i++)Le.__loadLoggedUserCallbackStack[i].call(this,o);Le.__loadLoggedUserCallbackStack=[],Le.__loadLoggedUserLoadStarted=!1,t.remove()}},this));let t=(0,_t.default)("<iframe>").attr("width","0").attr("height","0").css({position:"absolute",top:"-999px"}).on("load",function(){t[0].contentWindow.postMessage("GetLoggedUser","*")}).attr("src",De.readymag_auth_host+"/get_user_cookies."+Date.now()).appendTo("body")},selectProtocol:function(e){return!e||!e.length||e.indexOf("//")==0&&De.IS_FILE_PROTOCOL&&(e="http:"+e),e},_sendFBGraphRequest:function(e){fetch("https://graph.facebook.com/?id="+encodeURIComponent(e)+"&scrape=true&method=post")},facebookGraphRefresh:function(e){let r=De.readymag_viewer_host||window.location.origin,n,o,i;i=r+"/"+e.user_uri+"/"+e.mag_uri+"/",this._sendFBGraphRequest(i);let a=r+"/"+e.mag_numid+"/";this._sendFBGraphRequest(a),e.mag_domain?(n="http://"+e.mag_domain+"/",this._sendFBGraphRequest(n)):e.user_domain&&(o="http://"+e.user_domain+"/"+e.mag_uri+"/",this._sendFBGraphRequest(o));let c=e.pages;if(c.length!=0)for(let u in c){u=c[u];let s=r+"p"+u.num_id+"/";this._sendFBGraphRequest(s)}},simulateEvent:function(e,t){if(!e)return;let r={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},o=c({pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},arguments[2]||{}),i,a=null;for(let u in r)if(r[u].test(t)){a=u;break}if(!a)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)i=document.createEvent(a),a==="HTMLEvents"?i.initEvent(t,o.bubbles,o.cancelable):i.initMouseEvent(t,o.bubbles,o.cancelable,document.defaultView,o.button,o.pointerX,o.pointerY,o.pointerX,o.pointerY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,e),e.dispatchEvent(i);else{o.clientX=o.pointerX,o.clientY=o.pointerY;let u=document.createEventObject();i=c(u,o),e.fireEvent("on"+t,i)}return e;function c(u,s){for(let l in s)u[l]=s[l];return u}},getTestIndexes:function(){if(RM.common.rm_test)return RM.common.rm_test;let e=2,t=5,r={},n,o;for(n=e;n<=t;n++)r["_test_"+n]=-1;if(Modernizr.localstorage)for(n=e;n<=t;n++)o="_test_"+n,r[o]=localStorage.getItem("rm_test_"+n),(parseInt(r[o])!=r[o]||r[o]<0||r[o]>=n)&&(r[o]=Math.floor(Math.random()*n),localStorage.setItem("rm_test_"+n,r[o])),r[o]-=0;return RM.common.rm_test=r,r},setInputSize:function(e,t,r){let n=(0,_t.default)('<div style="position:absolute; left:-9999px; right:auto; margin:0; white-space:pre; width:auto"></div>').appendTo(e.parent());n[0].className=e[0].className,n.text(r||e.val());let o=n.width();o=Math.ceil(o/2)*2+2,t&&o>t&&(o=t),e.width(o),n.remove()},PageVisibilityManager:function(){let e,t;return typeof document<"u"&&(typeof document.hidden<"u"?(e="hidden",t="visibilitychange"):typeof document.mozHidden<"u"?(e="mozHidden",t="mozvisibilitychange"):typeof document.msHidden<"u"?(e="msHidden",t="msvisibilitychange"):typeof document.webkitHidden<"u"&&(e="webkitHidden",t="webkitvisibilitychange")),{addEventListener:function(i){if(!e)return!1;document.addEventListener(t,i)},removeEventListener:function(i){if(!e)return!1;document.removeEventListener(t,i)},isPageHidden:function(){return document[e]}}}(),isMongoObjectId:function(e){let t;return t=/^[0-9a-fA-F]{24}$/,t.test(e)},setNoTransitions:function(e){return e=!!e||e===void 0,De.noanimations=e,(0,_t.default)("html").toggleClass("notransitions"),"Transitions are "+(e?"disabled":"enabled")},getGAcid:function(){let e=Gc("_ga"),t;return e&&(e=e.match(/GA[0-9]+\.[0-9]+\.(.*)/),e.length>1&&(t=e[1])),t},initLinkedInInsights:async function(){try{if(!(await na.waitForCookieConsent()).marketing)return;la.initLinkedInInsights({partnerId:De.linkedInPartnerId})}catch(e){console.log(e)}},trackPixelPageView:async function(){try{if(!(await na.waitForCookieConsent()).marketing)return;Ag({id:De.fbPixelId,eventName:"ViewContent"})}catch(e){console.log(e)}},trackTiktokPixelView:async function(){try{if(!(await na.waitForCookieConsent()).marketing)return;await Rc.init(De.TIKTOK_PIXEL_ID),Rc.track("ViewContent","public")}catch(e){console.log(e)}},isNounSearchAvailable:function(){let e=RM.constructorRouter&&RM.constructorRouter.me&&RM.constructorRouter.me.get("permissions");return e&&e.can_use_noun_icons},escapeRegExp:function(e){let t=["$","^","*","(",")","+","[","]","{","}","\\","|",".","?","/"],r=new RegExp("(\\"+t.join("|\\")+")","g");return e.replace(r,"\\$1")},capitalize:function(e){return!e||typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)},getSvgSizesByUrl:async function(e,t){if(!e||!t)return;let r=await fetch(e),n;if(r.headers.get("content-type")?.includes("image/svg"))n=await r.text();else throw new Error("incorrect svg content-type");if(!n)return;let o=document.createElement("div");o.className="svg-size-checker",o.style.position="relative",o.style.left="-99999px",o.style.bottom="-99999px",o.style.visibility="hidden",o.style.zIndex="-1",o.innerHTML=n,t.append(o);let i=o.getElementsByTagName("svg");if(!i[0])return;let a=i[0].getBBox(),c=i[0].getBoundingClientRect();return o.remove(),{bbox:{width:a.width,height:a.height},clientRect:{width:c.width,height:c.height}}},cleanupSVG:function(e){let t=(0,_t.default)(e),r=t&&t[0]?t[0].outerHTML:void 0;return r?(Jt.default.chain(t.find("[id]")).map(function(n){return{id:n.getAttribute("id"),newId:Le.generateUUID()}}).sortBy(function(n){return-n.id.length}).each(function(n){r=r.split("#"+n.id).join("#"+n.newId),r=r.split('id="'+n.id+'"').join('id="'+n.newId+'"')}),r):e},usedWidgets:function(e,t=[]){let r={};return Jt.default.each([...e,{wids:t}],n=>{Jt.default.each(n.wids,o=>{o.type&&(r[o.type]=1)})}),Object.keys(r)},canUseMinimalViewport:function(e){return(e?e.is_mag_use_minimal_viewport:RM.constructorRouter?.mag?.get("is_mag_use_minimal_viewport"))||Uc("constructor.viewportMinimal")},getFileExt:function(e){let t=e.split(".");return t.length>1?t.pop():void 0},isIframe:function(){try{return window.self!==window.top}catch{return!0}},isFreePlan(e){return e?["free","beginner"].includes(e):!0},isSubscriptionPaused(e={}){return window?.RM?.constructorRouter?.isOwner||Nc(e)?window?.RM?.constructorRouter?.me?.get("permissions")?._reasons?.limited_usage?.code==="reason_subscription_paused":e.get("permissions")?._reasons?.limited_usage?.code==="reason_subscription_paused"},forceRepaint(e){let t=e instanceof _t.default?e[0]:e,r=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=r}},Zr=Le});var er,Qe,Mc,Bg,Gg,Ac,oa,Wg,Me,na,jg=v(()=>{"use strict";er=Rr(Dc()),Qe=Rr(kc());Fc();Vg();Yg();Mc=[],Bg=[],Gg=[],Ac=[],oa=null;typeof window<"u"&&(window.googleMapsAPIAuthError=!1,window.gm_authFailure=()=>{Bc.trigger("gmaps:auth_error",!0),window.googleMapsAPIAuthError=!0});Wg="//maps.googleapis.com/maps/api/js",Me={initGMapsAPI:function(e,t){if(window.googleMapsAPIAuthError&&e&&Me.destroyGMapsAPI(),window.google&&window.google.maps)return t();if(!window.processGoogleMapsAPICallbacks){window.processGoogleMapsAPICallbacks=function(){Qe.default.each(Mc,function(i){Qe.default.isFunction(i)&&i()})};let r=document.createElement("script");r.type="text/javascript";let n={libraries:"places",callback:"processGoogleMapsAPICallbacks"};e?n.key=e:window.googleMapsAPIAuthError=!0;let o=De.IS_FILE_PROTOCOL?"":er.default.param(n);r.src=Zr.selectProtocol(Wg+"?"+o),document.body.appendChild(r)}Mc.push(t)},destroyGMapsAPI:function(){let e=document.querySelectorAll("script[src*='"+Wg+"']");for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);window.google&&window.google.maps&&delete window.google.maps,delete window.processGoogleMapsAPICallbacks,Mc=[],window.googleMapsAPIAuthError=!1},initFacebookAPI:function(e){let t,r=De.FACEBOOK_APP_ID||"";if(typeof e=="function"){if(Me.isFacebookInited)return e();Bg.push(e),t=(0,er.default)("#fb-root"),t.length||(0,er.default)("body").prepend((0,er.default)('<div id="fb-root"></div>')),window.fbAsyncInit=function(){FB.init({appId:r,xfbml:!1,version:"v"+De.FACEBOOK_API_VERSION}),Qe.default.each(Bg,function(n){Qe.default.isFunction(n)&&n()}),Me.isFacebookInited=!0},function(n,o,i){let a,c=n.getElementsByTagName(o)[0];n.getElementById(i)||(a=n.createElement(o),a.id=i,a.src=Zr.selectProtocol("//connect.facebook.net/en_US/sdk.js"),c.parentNode.insertBefore(a,c))}(document,"script","facebook-jssdk")}},initTwitterAPI:function(e){if(Me.isTwitterInited){Qe.default.isFunction(e)&&e();return}else Qe.default.isFunction(e)&&Gg.push(e);Me.isTwitterLoading||(Me.isTwitterLoading=!0,(0,er.default)('body > script[src^="//syndication.twimg.com/tweets.json"]').remove(),er.default.ajax({url:Zr.selectProtocol("//platform.twitter.com/widgets.js"),dataType:"script",cache:!1,success:function(){Qe.default.each(Gg,function(t){Qe.default.isFunction(t)&&t()}),twttr.events.bind("click",Zr.getFocusBack),Me.isTwitterInited=!0,Me.isTwitterLoading=!1}}))},initMailchimpAPI:function(e){if(Me.isMailchimpInited){Qe.default.isFunction(e)&&e(Me.mailchimp);return}else Qe.default.isFunction(e)&&Ac.push(e);Me.isMailchimpLoading||(Me.isMailchimpLoading=!0,er.default.ajax({url:Zr.selectProtocol("//s3.amazonaws.com/downloads.mailchimp.com/js/signup-forms/popup/embed.js"),dataType:"script",cache:!1,success:function(){if(!window.require){Ac=[];return}window.require(["mojo/signup-forms/Loader"],function(t){Me.mailchimp=t,Qe.default.each(Ac,function(r){Qe.default.isFunction(r)&&r(Me.mailchimp)}),Me.isMailchimpInited=!0})},complete:function(){Me.isMailchimpLoading=!1}}))},waitForCookieConsent:function(){return oa||(oa=new Promise(e=>{let t={necessary:!0,preferences:!0,statistics:!0,marketing:!0};if(window.RM?.common.mode==="constructor")return e(t);if(window.Cookiebot?.consented)return e(window.Cookiebot?.consent);if(!window.ServerData?.isCountryInEU&&!window.Cookiebot?.declined)return e(t);window.addEventListener("CookiebotOnAccept",()=>{e(window.Cookiebot?.consent)},{once:!0}),window.addEventListener("CookiebotOnDecline",()=>{e(window.Cookiebot?.consent)},{once:!0})}),oa)}},na=Me});export{ct as a,la as b,Zc as c,Jc as d,rl as e,x1 as f,T1 as g,Ag as h,kg as i,na as j,jg as k,Rc as l,Fg as m,Zr as n,Vg as o};
